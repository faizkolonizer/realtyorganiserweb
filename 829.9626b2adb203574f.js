"use strict";(self.webpackChunkCRM=self.webpackChunkCRM||[]).push([[829],{2829:(Me,D,l)=>{l.r(D),l.d(D,{RecycleBinModule:()=>Re});var d=l(177),p=l(3141),m=l(7586),e=l(4438);function M(a,r){if(1&a&&(e.qex(0),e.j41(1,"div",8)(2,"div",9),e.EFF(3),e.k0s()(),e.bVm()),2&a){const n=e.XpG().$implicit;e.R7$(3),e.SpI(" ",n.name," ")}}function F(a,r){if(1&a){const n=e.RV6();e.j41(0,"ul",12),e.bIt("click",function(){const t=e.eBV(n).$implicit,i=e.XpG(3);return e.Njj(i.onclick(t.list))}),e.j41(1,"li",13)(2,"span",14),e.EFF(3),e.k0s()()()}if(2&a){const n=r.$implicit;e.R7$(3),e.JRh(n.list)}}function L(a,r){if(1&a&&(e.qex(0),e.j41(1,"div",8)(2,"div",10),e.EFF(3),e.k0s(),e.j41(4,"div"),e.DNE(5,F,4,1,"ul",11),e.k0s()(),e.bVm()),2&a){const n=e.XpG().$implicit;e.R7$(3),e.SpI(" ",n.name,""),e.R7$(2),e.Y8G("ngForOf",n.dataList)}}function I(a,r){if(1&a&&(e.j41(0,"div",6),e.DNE(1,M,4,1,"ng-container",7)(2,L,6,2,"ng-container",7),e.k0s()),2&a){const n=r.index;e.R7$(),e.Y8G("ngIf",0===n),e.R7$(),e.Y8G("ngIf",0!==n)}}let k=(()=>{class a{constructor(n){this.router=n,this.containerData=[{id:1,name:"Recently Deleted"},{id:2,name:"Lead",dataList:[{list:"Active leads"},{list:"Uncalled leads"},{list:"Follow Up leads"}]},{id:3,name:"Customers",dataList:[{list:"Customer"}]},{id:4,name:"Collection",dataList:[{list:"Receiving Transaction"}]},{id:5,name:"Financial Management",dataList:[{list:"Item"},{list:"Ledger"},{list:"Voucher"}]}]}ngOnInit(){}onclick(n){if(console.log(n),"Active leads"==n)this.router.navigate(["master/recycle_bin/lead-recycle"],{queryParams:{isActiveLeads:"true",notConnected:"true"}});else if("Uncalled leads"==n)this.router.navigate(["master/recycle_bin/lead-recycle"],{queryParams:{contactability:"Imported"}});else if("Follow Up leads"==n){var o=m();this.currentDate=o.format("YYYY-MM-DD"),this.router.navigate(["master/recycle_bin/lead-recycle"],{queryParams:{todayfollowup:this.currentDate}})}else"Customer"==n?this.router.navigate(["master/recycle_bin/customer-recycle"]):"Receiving Transaction"==n?this.router.navigate(["master/recycle_bin/transaction-recycle"]):"Item"==n?this.router.navigate(["master/recycle_bin/item_recycle"],{queryParams:{project_id:"0"}}):"Ledger"==n?this.router.navigate(["master/recycle_bin/ledger_recycle"],{queryParams:{project_id:"0"}}):"Voucher"==n&&this.router.navigate(["master/recycle_bin/voucher_recycle"],{queryParams:{project_id:0}})}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(p.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-recycle-bin"]],decls:6,vars:1,consts:[[1,"container"],[1,"demo","col-sm-12","col-md-12","col-xs-12","col-xl-12","col-lg-12",2,"margin-bottom","30px"],[1,"row",2,"justify-content","center","align-items","center","text-align","center"],[1,"container1"],[1,"row1"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[4,"ngIf"],[1,"custom-container"],["routerLink","recent-delete",1,"centered-text"],[1,"centered-text-other"],["class","custom-list",3,"click",4,"ngFor","ngForOf"],[1,"custom-list",3,"click"],[2,"padding-left","10px"],[1,"list-text"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.DNE(5,I,3,2,"div",5),e.k0s()()()()()),2&o&&(e.R7$(5),e.Y8G("ngForOf",t.containerData))},dependencies:[d.Sq,d.bT,p.Wk],styles:['@charset "UTF-8";.demo[_ngcontent-%COMP%]{padding:30px;background:#fff;border:1px solid #49A4FF!important;border-radius:64.6539px 0;height:530px;margin-top:52px}.container1[_ngcontent-%COMP%]{justify-content:space-evenly;display:flex;flex-wrap:wrap;flex-direction:column}.row1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-15px;margin-left:35px}.custom-container[_ngcontent-%COMP%]{height:182px;width:184px;border-radius:18px;box-shadow:0 1.18px 6.26px #0003;margin:30px}.centered-text[_ngcontent-%COMP%]{padding-top:80px;text-align:center;font-size:18px;font-weight:500;font-family:Poppins;cursor:pointer}.centered-text-other[_ngcontent-%COMP%]{padding:12px 0 14px;text-align:center;font-size:18px;font-weight:500;font-family:Poppins}.list-text[_ngcontent-%COMP%]{font-size:17px;font-weight:400;font-family:Poppins;color:#089bab;margin-left:-12px;cursor:pointer}.custom-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.custom-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.custom-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";margin-right:18px;font-size:18px}.custom-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:700;font-size:16px}']})}return a})();var g=l(6695),S=l(483),E=l(4006),b=l(1487),u=l(2102),v=l(2798),y=l(6600),x=l(9217),C=l(668),P=l(6352),_=l(1780),R=l(3569);function N(a,r){if(1&a&&(e.j41(0,"mat-option",28),e.EFF(1),e.k0s()),2&a){const n=r.$implicit;e.FS9("value",n.id),e.R7$(),e.SpI(" ",n.name,"")}}function T(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",5)(1,"mat-form-field",14)(2,"mat-label"),e.EFF(3,"Project Name"),e.k0s(),e.j41(4,"mat-select",26),e.bIt("selectionChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.Projectfilter(t))}),e.DNE(5,N,2,2,"mat-option",27),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(4),e.Y8G("value",n.defaultVAlueproject),e.R7$(),e.Y8G("ngForOf",n.projects)}}function U(a,r){if(1&a){const n=e.RV6();e.j41(0,"mat-paginator",29),e.bIt("page",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageEvents(t))}),e.k0s()}if(2&a){const n=e.XpG();e.Y8G("length",n.totalLeads)("pageSize",10)("pageIndex",n.currentPage)}}function Y(a,r){1&a&&e.nrm(0,"app-no-data-found")}function G(a,r){1&a&&(e.j41(0,"th",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Buttons.Assigned_to")," "))}function B(a,r){1&a&&e.nrm(0,"th",45)}function V(a,r){if(1&a&&(e.qex(0),e.j41(1,"td",54),e.EFF(2),e.k0s(),e.bVm()),2&a){const n=e.XpG().$implicit;e.R7$(2),e.E5c(" ",n.firstName," ",n.middleName," ",n.lastName," ")}}function A(a,r){if(1&a&&(e.qex(0),e.j41(1,"td",55),e.EFF(2),e.k0s(),e.bVm()),2&a){const n=e.XpG().$implicit;e.R7$(2),e.E5c(" ",n.firstName," ",n.middleName," ",n.lastName," ")}}function q(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.lead_logs.length,"")}}function z(a,r){if(1&a&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&a){let n;const o=e.XpG().$implicit;e.R7$(),e.SpI(" ",null!==(n=o.count)&&void 0!==n?n:"-","")}}function X(a,r){if(1&a&&(e.j41(0,"td",56),e.EFF(1),e.k0s()),2&a){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.cre?n.cre:"-"," ")}}function J(a,r){if(1&a&&(e.qex(0),e.j41(1,"tr",46),e.DNE(2,V,3,3,"ng-container",24)(3,A,3,3,"ng-container",24),e.j41(4,"td",47)(5,"a"),e.EFF(6),e.k0s()(),e.j41(7,"td",48),e.EFF(8),e.k0s(),e.j41(9,"td",49),e.DNE(10,q,2,1,"span",24)(11,z,2,1,"span",24),e.k0s(),e.j41(12,"td",50),e.EFF(13),e.k0s(),e.DNE(14,X,2,1,"td",51),e.j41(15,"td",52),e.EFF(16),e.nI1(17,"dateConvertToUserFriendly"),e.k0s(),e.j41(18,"td",53),e.EFF(19),e.nI1(20,"dateConvertToUserFriendly"),e.k0s()(),e.bVm()),2&a){const n=r.$implicit,o=r.index,t=e.XpG(2);e.R7$(),e.Mz_("id","lead-tr-",o,""),e.Y8G("ngClass",t.isClass),e.R7$(),e.Y8G("ngIf",0==t.showCrossicon),e.R7$(),e.Y8G("ngIf",t.showCrossicon),e.R7$(3),e.JRh(n.Phone?n.Phone:"-"),e.R7$(2),e.SpI(" ",n.Status?n.Status:"-"," "),e.R7$(2),e.Y8G("ngIf",t.activityLog),e.R7$(),e.Y8G("ngIf",!t.activityLog),e.R7$(2),e.SpI(" ",n.Category?n.Category:"-"," "),e.R7$(),e.Y8G("ngIf",t.showAssignedUser),e.R7$(2),e.SpI(" ",n.followUpDate?e.i5U(17,13,n.followUpDate,t.DateStatus):"-"," "),e.R7$(3),e.SpI(" ",n.expectedVisitDate?e.i5U(20,16,n.expectedVisitDate,t.DateStatus):"-"," ")}}function W(a,r){if(1&a&&(e.j41(0,"table",30)(1,"thead",31)(2,"tr",32)(3,"th",33),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",34),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",35),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",36),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th",37),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.DNE(18,G,3,3,"th",38),e.j41(19,"th",39),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"th",40),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.DNE(25,B,1,0,"th",41),e.k0s()(),e.j41(26,"tbody",42),e.DNE(27,J,21,19,"ng-container",43),e.k0s()()),2&a){const n=e.XpG();e.Y8G("dtOptions",n.dtOptions),e.R7$(4),e.SpI(" ",e.bMT(5,11,"Buttons.Name")," "),e.R7$(3),e.SpI(" ",e.bMT(8,13,"Buttons.Phone")," "),e.R7$(3),e.SpI(" ",e.bMT(11,15,"Buttons.Status")," "),e.R7$(3),e.SpI(" ",e.bMT(14,17,"Buttons.Count")," "),e.R7$(3),e.SpI(" ",e.bMT(17,19,"Buttons.Category")," "),e.R7$(2),e.Y8G("ngIf",n.showAssignedUser),e.R7$(2),e.SpI(" ",e.bMT(21,21,"Buttons.Follow_Up_Date")," "),e.R7$(3),e.SpI(" ",e.bMT(24,23,"Buttons.Expected_visit_Date")," "),e.R7$(2),e.Y8G("ngIf",n.shwFooter),e.R7$(2),e.Y8G("ngForOf",n.newLeads)}}function Q(a,r){if(1&a){const n=e.RV6();e.j41(0,"mat-paginator",29),e.bIt("page",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageEvents(t))}),e.k0s()}if(2&a){const n=e.XpG();e.Y8G("length",n.totalLeads)("pageSize",10)("pageIndex",n.currentPage)}}let H=(()=>{class a{constructor(n,o,t){this.dialog=n,this.mainService=o,this.activatedRoute=t,this.dataFoundOrNot=!1,this.currentPage=0,this.dtOptions={},this.showAssignedUser=!1,this.projects=[],this.noRecords=!1,this.newLeads=[],this.paginator=1,this.followUpFilter=!1,this.pastDate=!1,this.allLeadDelete=!1,this.shwFooter=!1,this.shwHeader=!0,this.Image_Icon=!0,this.Show_ICon=!1,this.showCrossicon=!1,this.isClass="",this.activityLog=!1,this.projectName="",this.new1p=[],this.DateStatus="WithDate",this.obj={},this.singleLead=!1,this.AllLead=!1,this.whenSelectAllTrue=!1,this.leadArr=[],this.uncheckedLead=[],this.deselectLead=[],this.assignLeadsArr=[],this.checkboxStates=[],this.showChecked=!1,this.dtOptions={serverSide:!0,searching:!1,processing:!0,order:[],paging:!1,info:!1,columnDefs:[{orderable:!1,targets:[0,1,2,3,4,5,6]}]}}ngOnInit(){this.newLeads=[],this.dtOptions={serverSide:!0,searching:!1,processing:!0,responsive:!0,order:[],paging:!1,info:!1,columnDefs:[{orderable:!1,targets:[0,1,2,3,4,5,6]}]},window.alert=function(){},this.getPermission=localStorage.getItem("user_info"),this.logindata=JSON.parse(this.getPermission),this.userProjects=this.logindata.projectspecificUser,this.Projects(),this.projects.id=0,console.log(this.projects.name),this.activatedRoute.queryParams.subscribe(n=>{console.log(n),this.queryParamData=JSON.parse(JSON.stringify(n)),console.log(this.queryParamData),this.defaultVAlue="true"==this.queryParamData.isActiveLeads?"Active Lead":"Imported"==this.queryParamData.contactability?"Uncalled Lead":"Follow Up Lead",null!=this.queryParamData.project_id&&(this.defaultVAlueproject=this.queryParamData.project_id),console.log(n),console.log(this.queryParamData.effortsReports),this.queryParamData&&this.newLeads.length&&(this.paginator.pageIndex=0,this.currentPage=0),this.queryParamData.notconnected&&(this.queryParamData.notConnected=this.queryParamData.notconnected),console.log(this.queryParamData),this.followUpFilter=!!this.queryParamData.todayfollowup,this.queryParamData.is_delete=!0,this.mainService.getLeadApiForPagination(this.queryParamData).subscribe(o=>{this.Leads=o,this.pageCount=this.Leads.totalPages,this.page=this.Leads.page,this.totalLeads=this.Leads.leads.totalcountData;for(let t=1;t<=this.pageCount;t++)this.pageCounts.push(t);this.LeadDetail=this.Leads.leads,this.dataFoundOrNot=!!this.LeadDetail.rows.length,this.newLeads=[],this.LeadDetail.rows.forEach(t=>{if(t.follow_up_date){let i=m(t.follow_up_date).format("MM-DD-YYYY"),c=m().format("MM-DD-YYYY"),s=new Date(i),f=new Date(c);this.pastDate=s<f}this.newLeads.push({id:t.id?t.id:null,call_dateTime:t.call_datetime?t.call_datetime:null,callDuration:t.call_duration?t.call_duration:null,projectName:t.Project?t.Project.name:null,alternate_contact_no:t.alternate_contact_no?t.alternate_contact_no:null,salesExecutive:t.Sales_Executive?t.Sales_Executive.name:null,areaOfIntrest:t.area_of_interest?t.area_of_interest:null,Budget:t.budget?t.budget:null,buyingPurpose:t.buying_purpose?t.buying_purpose:null,Category:t.category?t.category:null,Contactability:t.contactability?t.contactability:null,currentLocation:t.current_location?t.current_location:null,expectedVdate:t.expected_visit_date?t.expected_visit_date:null,firstName:t.first_name?t.first_name:null,middleName:t.middle_name?t.middle_name:null,lastName:t.last_name?t.last_name:null,followUpDate:t.follow_up_date?t.follow_up_date:null,leadsource:t.lead_source?t.lead_source:null,livingmode:t.living_mode?t.living_mode:null,modeofInterest:t.mode_of_interest?t.mode_of_interest:null,Phone:t.phone?t.phone:null,requiredPlotSize:t.required_plot_size?t.required_plot_size:null,professionId:t.profession_id?t.profession_id:null,professionname:t.professions_name?t.professions_name:null,expectedBookingDates:t.expected_booking_date?t.expected_booking_date:null,Status:t.status,videoSent:t.video_sent?t.video_sent:null,cre:t.CRE?t.CRE.name:null,preBooking:t.Pre_Bookings?t.Pre_Bookings:null,activeOrDeactive:t.is_active?t.is_active:null,projectId:t.project_id,expectedVisitDate:t.expected_visit_date?t.expected_visit_date:null,count:t[t.status.toLowerCase()+"_count"],dueDate:this.pastDate,lead_logs:t.Lead_Logs,isChecked:!(!this.allLeadDelete||"pre_booked"==t.status||"Booked"==t.status)})})},o=>{})}),this.knowWidth=$(window).width(),this.knowWidth>1024?(this.shwFooter=!1,this.shwHeader=!0):(this.shwHeader=!1,this.shwFooter=!0),this.knowWidth<780?(this.Image_Icon=!1,this.Show_ICon=!0):(this.Image_Icon=!0,this.Show_ICon=!1),window.innerWidth<=1024&&(this.showCrossicon=!0)}setPage(n){Object.keys(this.obj).length?Object.assign(this.queryParamData,this.obj,{page:n}):Object.assign(this.queryParamData,{page:n}),this.pageCounts=[],this.newLeads=[],this.mainService.getLeadApiForPagination(this.queryParamData).subscribe(o=>{this.Leads=o,this.pageCount=this.Leads.totalPages,this.page=this.Leads.page;for(let t=1;t<=this.pageCount;t++)this.pageCounts.push(t);this.LeadDetail=this.Leads.leads,this.dataFoundOrNot=!!this.LeadDetail.rows.length,this.LeadDetail.rows.forEach(t=>{if(t.follow_up_date){let i=m(t.follow_up_date).format("MM-DD-YYYY"),c=m().format("MM-DD-YYYY"),s=new Date(i),f=new Date(c);this.pastDate=s<f}this.newLeads.push({id:t.id?t.id:null,call_dateTime:t.call_datetime?t.call_datetime:null,callDuration:t.call_duration?t.call_duration:null,projectName:t.Project?t.Project.name:null,alternate_contact_no:t.alternate_contact_no?t.alternate_contact_no:null,salesExecutive:t.Sales_Executive?t.Sales_Executive.name:null,areaOfIntrest:t.area_of_interest?t.area_of_interest:null,Budget:t.budget?t.budget:null,buyingPurpose:t.buying_purpose?t.buying_purpose:null,Category:t.category?t.category:null,Contactability:t.contactability?t.contactability:null,currentLocation:t.current_location?t.current_location:null,expectedVdate:t.expected_visit_date?t.expected_visit_date:null,firstName:t.first_name?t.first_name:null,middleName:t.middle_name?t.middle_name:null,lastName:t.last_name?t.last_name:null,followUpDate:t.follow_up_date?t.follow_up_date:null,leadsource:t.lead_source?t.lead_source:null,livingmode:t.living_mode?t.living_mode:null,modeofInterest:t.mode_of_interest?t.mode_of_interest:null,Phone:t.phone?t.phone:null,requiredPlotSize:t.required_plot_size?t.required_plot_size:null,professionId:t.profession_id?t.profession_id:null,professionname:t.professions_name?t.professions_name:null,expectedBookingDates:t.expected_booking_date?t.expected_booking_date:null,Status:t.status,videoSent:t.video_sent?t.video_sent:null,cre:t.CRE?t.CRE.name:null,preBooking:t.Pre_Bookings?t.Pre_Bookings:null,projectId:t.project_id,activeOrDeactive:t.is_active?t.is_active:null,expectedVisitDate:t.expected_visit_date?t.expected_visit_date:null,count:t[t.status.toLowerCase()+"_count"],dueDate:this.pastDate,lead_logs:t.Lead_Logs,isChecked:!(!this.allLeadDelete||"pre_booked"==t.status||"Booked"==t.status)})})},o=>{})}pageEvents(n){this.currentPage=n.pageIndex,this.setPage(n.pageIndex+1)}Projects(){this.getPermission=localStorage.getItem("user_info"),this.logindata=JSON.parse(this.getPermission),console.log(this.logindata),this.userId=this.logindata.id,this.mainService.getUser(this.userId).subscribe(n=>{this.userData=n,this.projects=this.userData.projects,console.log(this.projects),this.projectLength=this.projects.length,console.log(this.projectLength),1==this.projectLength&&(this.projectId=this.projects[0].id,this.mainService.getProject(this.projects[0].id).subscribe(o=>{this.oneprojects=o,this.oneproject=this.oneprojects.project,console.log(this.oneproject),this.projectName=this.oneproject.name,$(".Projectbtn").html(this.projectName),$(".Projectbtn").prop("value",this.projects[0].id),console.log(this.new1p),0==this.new1p.length?$("#emptyErr").fadeIn():$("#emptyErr").fadeOut()}))})}openDialog(n,o=[]){this.dialog.open(S.v,{width:"800px",height:"800px",data:{id:n,activityLog:this.activityLog&&o.length?o:null}}).afterClosed().subscribe(i=>{})}selectsingleLead(n,o,t){}Projectfilter(n){if(console.log(this.leadArr),this.filterValue=n.value,console.log(typeof this.filterValue),"Active Lead"==this.defaultVAlue||"Active Lead"==this.leadArr?this.obj={isActiveLeads:"true",notConnected:"true",is_delete:!0,project:this.filterValue}:("Uncalled Lead"==this.defaultVAlue||"Uncalled Lead"==this.leadArr)&&(this.obj={contactability:"Imported",is_delete:!0,project:this.filterValue}),"Follow Up Lead"==this.defaultVAlue||"Follow Up Lead"==this.leadArr){var o=m();this.currentDate=o.format("YYYY-MM-DD"),this.obj={todayfollowup:this.currentDate,is_delete:!0,project:this.filterValue}}delete this.queryParamData.page,this.newLeads=[],this.mainService.getLeadApiForPagination(this.obj).subscribe(t=>{this.Leads=t,this.pageCount=this.Leads.totalPages,this.page=this.Leads.page,this.totalLeads=this.Leads.leads.totalcountData;for(let i=1;i<=this.pageCount;i++)this.pageCounts.push(i);this.LeadDetail=this.Leads.leads,this.dataFoundOrNot=!!this.LeadDetail.rows.length,this.LeadDetail.rows.forEach(i=>{if(i.follow_up_date){let c=m(i.follow_up_date).format("MM-DD-YYYY"),s=m().format("MM-DD-YYYY"),f=new Date(c),O=new Date(s);this.pastDate=f<O}this.newLeads.push({id:i.id?i.id:null,call_dateTime:i.call_datetime?i.call_datetime:null,callDuration:i.call_duration?i.call_duration:null,projectName:i.Project?i.Project.name:null,alternate_contact_no:i.alternate_contact_no?i.alternate_contact_no:null,salesExecutive:i.Sales_Executive?i.Sales_Executive.name:null,areaOfIntrest:i.area_of_interest?i.area_of_interest:null,Budget:i.budget?i.budget:null,buyingPurpose:i.buying_purpose?i.buying_purpose:null,Category:i.category?i.category:null,Contactability:i.contactability?i.contactability:null,currentLocation:i.current_location?i.current_location:null,expectedVdate:i.expected_visit_date?i.expected_visit_date:null,firstName:i.first_name?i.first_name:null,middleName:i.middle_name?i.middle_name:null,lastName:i.last_name?i.last_name:null,followUpDate:i.follow_up_date?i.follow_up_date:null,leadsource:i.lead_source?i.lead_source:null,livingmode:i.living_mode?i.living_mode:null,modeofInterest:i.mode_of_interest?i.mode_of_interest:null,Phone:i.phone?i.phone:null,requiredPlotSize:i.required_plot_size?i.required_plot_size:null,professionId:i.profession_id?i.profession_id:null,professionname:i.professions_name?i.professions_name:null,expectedBookingDates:i.expected_booking_date?i.expected_booking_date:null,Status:i.status,videoSent:i.video_sent?i.video_sent:null,cre:i.CRE?i.CRE.name:null,activeOrDeactive:i.is_active?i.is_active:null,preBooking:i.Pre_Bookings?i.Pre_Bookings:null,projectId:i.project_id,expectedVisitDate:i.expected_visit_date?i.expected_visit_date:null,count:i[i.status.toLowerCase()+"_count"],dueDate:this.pastDate,lead_logs:i.Lead_Logs,isChecked:!(!this.allLeadDelete||"pre_booked"==i.status||"Booked"==i.status)})}),this.newLeads.length&&(this.paginator.pageIndex=0)},t=>{})}leadfilter(n){if(console.log(this.filterValue),this.leadArr=n.value,console.log(this.leadArr),"Active Lead"==n.value?this.obj={isActiveLeads:"true",notConnected:"true",is_delete:!0,project:this.filterValue}:"Uncalled Lead"==n.value&&(this.obj={contactability:"Imported",is_delete:!0,project:this.filterValue}),"Follow Up Lead"==n.value){var o=m();this.currentDate=o.format("YYYY-MM-DD"),this.obj={todayfollowup:this.currentDate,is_delete:!0,project:this.filterValue}}delete this.queryParamData.page,this.newLeads=[],this.mainService.getLeadApiForPagination(this.obj).subscribe(t=>{this.Leads=t,this.pageCount=this.Leads.totalPages,this.page=this.Leads.page,this.totalLeads=this.Leads.leads.totalcountData;for(let i=1;i<=this.pageCount;i++)this.pageCounts.push(i);this.LeadDetail=this.Leads.leads,this.dataFoundOrNot=!!this.LeadDetail.rows.length,this.LeadDetail.rows.forEach(i=>{if(i.follow_up_date){let c=m(i.follow_up_date).format("MM-DD-YYYY"),s=m().format("MM-DD-YYYY"),f=new Date(c),O=new Date(s);this.pastDate=f<O}this.newLeads.push({id:i.id?i.id:null,call_dateTime:i.call_datetime?i.call_datetime:null,callDuration:i.call_duration?i.call_duration:null,projectName:i.Project?i.Project.name:null,alternate_contact_no:i.alternate_contact_no?i.alternate_contact_no:null,salesExecutive:i.Sales_Executive?i.Sales_Executive.name:null,areaOfIntrest:i.area_of_interest?i.area_of_interest:null,Budget:i.budget?i.budget:null,buyingPurpose:i.buying_purpose?i.buying_purpose:null,Category:i.category?i.category:null,Contactability:i.contactability?i.contactability:null,currentLocation:i.current_location?i.current_location:null,expectedVdate:i.expected_visit_date?i.expected_visit_date:null,firstName:i.first_name?i.first_name:null,middleName:i.middle_name?i.middle_name:null,lastName:i.last_name?i.last_name:null,followUpDate:i.follow_up_date?i.follow_up_date:null,leadsource:i.lead_source?i.lead_source:null,livingmode:i.living_mode?i.living_mode:null,modeofInterest:i.mode_of_interest?i.mode_of_interest:null,Phone:i.phone?i.phone:null,requiredPlotSize:i.required_plot_size?i.required_plot_size:null,professionId:i.profession_id?i.profession_id:null,professionname:i.professions_name?i.professions_name:null,expectedBookingDates:i.expected_booking_date?i.expected_booking_date:null,Status:i.status,videoSent:i.video_sent?i.video_sent:null,cre:i.CRE?i.CRE.name:null,activeOrDeactive:i.is_active?i.is_active:null,preBooking:i.Pre_Bookings?i.Pre_Bookings:null,projectId:i.project_id,expectedVisitDate:i.expected_visit_date?i.expected_visit_date:null,count:i[i.status.toLowerCase()+"_count"],dueDate:this.pastDate,lead_logs:i.Lead_Logs,isChecked:!(!this.allLeadDelete||"pre_booked"==i.status||"Booked"==i.status)})}),this.newLeads.length&&(this.paginator.pageIndex=0)},t=>{})}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(E.bZ),e.rXU(b.t),e.rXU(p.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-lead-recycle"]],viewQuery:function(o,t){if(1&o&&e.GBs(g.iy,5),2&o){let i;e.mGM(i=e.lsd())&&(t.paginator=i.first)}},decls:41,vars:9,consts:[["id","leadPage"],["id","page-lead-filter"],[1,"app-main__inner"],[1,"app-page-title"],[1,"row"],[1,"col-lg-4"],[1,"page-title-icon"],[1,"leads_icon",2,"background","white","color","#68bfbb","font-size","larger","position","relative","bottom","6px","right","2px"],[2,"padding-left","40px","font-size","18px"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-4",2,"display","flex","align-content","center","flex-wrap","wrap","justify-content","flex-end"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"col-lg-8"],["appearance","outline"],["matNativeControl","",3,"selectionChange","value"],["value","Active Lead"],["value","Uncalled Lead"],["value","Follow Up Lead"],[1,"col-lg-6"],["showFirstLastButtons","","aria-label","Select page of users","style","float: left",3,"length","pageSize","pageIndex","page",4,"ngIf"],[1,"col-lg-12"],[1,"scroll"],[1,"kol-12"],[4,"ngIf"],["datatable","","class","row-border hover",3,"dtOptions",4,"ngIf"],["matNativeControl","","formControlName","project_id","id","slectedColor",1,"mat-select-red",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["showFirstLastButtons","","aria-label","Select page of users",2,"float","left",3,"page","length","pageSize","pageIndex"],["datatable","",1,"row-border","hover",3,"dtOptions"],["role","rowgroup",1,"tableHead"],["role","row",1,"headRow"],["role","columnheader",1,"header","first_name"],["role","columnheader",1,"header"],["role","columnheader",1,"header","status"],["role","columnheader",1,"header","showCount"],["role","columnheader",1,"header","category"],["class","header AssignedUser","role","columnheader",4,"ngIf"],["role","columnheader",1,"header","follow_up"],["role","columnheader",1,"header","expectedVisitDateTh"],["class","details-control sorting_disabled showFooter",4,"ngIf"],["role","rowgroup",1,"tableBody"],[4,"ngFor","ngForOf"],["role","columnheader",1,"header","AssignedUser"],[1,"details-control","sorting_disabled","showFooter"],["role","row",1,"headRow","hoverable_row",3,"id","ngClass"],["role","cell",1,"tableData"],[1,"tableData","status"],[1,"tableData","showCount"],[1,"tableData","category"],["class","tableData AssignedUser",4,"ngIf"],[1,"tableData","follow_up"],[1,"tableData","expectedVisitDateTh"],[1,"tableData","first_name","showHeader"],[1,"tableData"],[1,"tableData","AssignedUser"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-icon",7),e.EFF(8,"trending_up"),e.k0s(),e.j41(9,"div",8),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.DNE(12,T,6,2,"div",9),e.nrm(13,"div",10),e.k0s()(),e.j41(14,"div",11)(15,"div",12)(16,"div",4),e.nrm(17,"div",13),e.j41(18,"div",5)(19,"mat-form-field",14)(20,"mat-select",15),e.bIt("selectionChange",function(c){return t.leadfilter(c)}),e.j41(21,"mat-option",16),e.EFF(22," Active Lead"),e.k0s(),e.j41(23,"mat-option",17),e.EFF(24," Uncalled Lead"),e.k0s(),e.j41(25,"mat-option",18),e.EFF(26," Follow Up Lead"),e.k0s()()()()(),e.j41(27,"div",4)(28,"div",19),e.DNE(29,U,1,3,"mat-paginator",20),e.k0s(),e.nrm(30,"div",19),e.k0s(),e.j41(31,"div",4)(32,"div",21)(33,"div",22)(34,"div",23),e.DNE(35,Y,1,0,"app-no-data-found",24),e.k0s(),e.DNE(36,W,28,25,"table",25),e.k0s()()(),e.j41(37,"div",4),e.nrm(38,"div",19),e.j41(39,"div",19),e.DNE(40,Q,1,3,"mat-paginator",20),e.k0s()()()()()()()),2&o&&(e.R7$(10),e.JRh(e.bMT(11,7,"Lead.Leads")),e.R7$(2),e.Y8G("ngIf",t.projectLength>1),e.R7$(8),e.Y8G("value",t.defaultVAlue),e.R7$(9),e.Y8G("ngIf",t.dataFoundOrNot),e.R7$(6),e.Y8G("ngIf",0==t.newLeads.length),e.R7$(),e.Y8G("ngIf",t.newLeads.length),e.R7$(4),e.Y8G("ngIf",t.dataFoundOrNot))},dependencies:[d.YU,d.Sq,d.bT,u.rl,u.nJ,v.VO,y.wT,x.An,g.iy,C._,P.p,_.D9,R.B],styles:['mat-form-field[_ngcontent-%COMP%]{width:100%}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:red!important;opacity:.8!important}  .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:red!important}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.8em}@media only screen and (max-width: 900px){.submit-btn[_ngcontent-%COMP%]{width:100%}  .mat-form-field{margin:0rem!important;width:100%}}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 20px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#a1a1a1}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;font-weight:300;padding:7px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{box-shadow:0 0 8px #00000040;cursor:pointer;border-radius:6px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:first-child, thead[_ngcontent-%COMP%]{border-radius:6px 0 0 6px}tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:last-child, tr[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{border-radius:0 6px 6px 0}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}tr[_ngcontent-%COMP%]{margin:0 0 1rem}tr[_ngcontent-%COMP%]:nth-child(odd){background:#ccc}td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eee;position:relative;padding:7px 0 7px 50%!important}}@media only screen and (max-width: 760px) and (max-width: 384px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 384px){td[_ngcontent-%COMP%]{padding-left:55%!important}}@media only screen and (max-width: 760px) and (max-width: 340px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 340px){td[_ngcontent-%COMP%]{padding-left:60%!important}}@media only screen and (max-width: 760px) and (max-width: 314px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 314px){td[_ngcontent-%COMP%]{padding-left:65%!important}}@media only screen and (max-width: 760px) and (max-width: 296px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 296px){td[_ngcontent-%COMP%]{padding-left:69%!important}}@media only screen and (max-width: 760px) and (max-width: 242px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 242px){td[_ngcontent-%COMP%]{padding-left:78%!important}}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){td[_ngcontent-%COMP%]:before{position:absolute;left:20px;width:45%;padding-right:10px;white-space:nowrap}td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Name"}td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Mobile"}td[_ngcontent-%COMP%]:nth-of-type(3):before{content:"Status"}td[_ngcontent-%COMP%]:nth-of-type(4):before{content:"Count"}td[_ngcontent-%COMP%]:nth-of-type(5):before{content:"Category"}td[_ngcontent-%COMP%]:nth-of-type(6):before{content:"Follow Up Date "}td[_ngcontent-%COMP%]:nth-of-type(7):before{content:"Expected Visit Date"}}  .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:#68bfbb}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#344054}@media only screen and (min-width: 200px) and (max-width: 1024px){#example[_ngcontent-%COMP%]{border-spacing:0 0px}}.circular-icon[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;width:28px;height:28px;border-radius:50%;background-color:#fff;padding-left:14px}']})}return a})();const K=a=>({scrollable:a});function Z(a,r){if(1&a&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&a){const n=r.$implicit;e.FS9("value",n.id),e.R7$(),e.SpI(" ",n.name,"")}}function ee(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",6),e.nrm(1,"div",7),e.j41(2,"div",8)(3,"mat-form-field",9)(4,"mat-label"),e.EFF(5,"Project Name"),e.k0s(),e.j41(6,"mat-select",10),e.bIt("selectionChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.Projectfilter(t))}),e.DNE(7,Z,2,2,"mat-option",11),e.k0s()()()()}if(2&a){const n=e.XpG();e.R7$(7),e.Y8G("ngForOf",n.projects)}}function te(a,r){1&a&&(e.j41(0,"div",13),e.EFF(1," Recently Deleted "),e.k0s())}function ne(a,r){if(1&a){const n=e.RV6();e.j41(0,"ul",16)(1,"li",17),e.bIt("click",function(){const t=e.eBV(n).$implicit,i=e.XpG(2);return e.Njj(i.redirect(t.label))}),e.j41(2,"div",18)(3,"mat-icon",19),e.EFF(4,"fiber_manual_record"),e.k0s(),e.j41(5,"div",20),e.EFF(6),e.k0s(),e.j41(7,"div",21),e.EFF(8),e.k0s()()()()}if(2&a){const n=r.$implicit;e.R7$(6),e.SpI(" ",n.label," "),e.R7$(2),e.SpI(" ",n.count," ")}}function ie(a,r){if(1&a&&(e.j41(0,"div",14),e.DNE(1,ne,9,2,"ul",15),e.k0s()),2&a){const n=e.XpG();e.Y8G("ngClass",e.eq3(2,K,n.dataList.length>5)),e.R7$(),e.Y8G("ngForOf",n.dataList)}}function oe(a,r){1&a&&e.nrm(0,"app-no-data-found")}let ae=(()=>{class a{constructor(n,o){this.router=n,this.mainService=o,this.currentPage=0,this.recevingTransaction=[],this.obj={},this.queryParamData={},this.projects=[],this.projectName="",this.new1p=[],this.DateStatus="WithDate",this.dataList=[],this.listStyles={display:"flex","justify-content":"center","margin-top":"42px",padding:"0","list-style-type":"none"}}ngOnInit(){this.getRecentDeleteData(),this.Projects()}redirect(n){if(console.log(n),"Active Leads"==n)this.router.navigate(["master/recycle_bin/lead-recycle"],{queryParams:{isActiveLeads:"true",notConnected:"true",recentlyDelete:"true",project_id:this.project_id}});else if("Uncalled Leads"==n)this.router.navigate(["master/recycle_bin/lead-recycle"],{queryParams:{contactability:"Imported",recentlyDelete:"true",project_id:this.project_id}});else if("Follow Up Leads"==n){var o=m();this.currentDate=o.format("YYYY-MM-DD"),this.router.navigate(["master/recycle_bin/lead-recycle"],{queryParams:{todayfollowup:this.currentDate,recentlyDelete:"true",project_id:this.project_id}})}else"Vouchers"==n?(console.log(this.project_id),this.router.navigate(["master/recycle_bin/voucher_recycle"],{queryParams:{recentlyDelete:"true",project_id:null!=this.project_id?this.project_id:0}})):"Items"==n?this.router.navigate(["master/recycle_bin/item_recycle"],{queryParams:{recentlyDelete:"true",project_id:null!=this.project_id?this.project_id:0}}):"Ledgers"==n?this.router.navigate(["master/recycle_bin/ledger_recycle"],{queryParams:{recentlyDelete:"true",project_id:null!=this.project_id?this.project_id:0}}):"Customer"==n?this.router.navigate(["master/recycle_bin/customer-recycle"],{queryParams:{recentlyDelete:"true",project_id:this.project_id}}):"Receiving Transaction"==n&&this.router.navigate(["master/recycle_bin/transaction-recycle"],{queryParams:{recentlyDelete:"true",project_id:this.project_id}})}getRecentDeleteData(){this.mainService.getrecentDelete().subscribe(n=>{console.log(n),this.dataList=[],null!=n.result.isActiveLeads&&this.dataList.push({label:"Active Leads",count:n.result.isActiveLeads}),null!=n.result.uncalledLeads&&this.dataList.push({label:"Uncalled Leads",count:n.result.uncalledLeads}),null!=n.result.followUpLead&&this.dataList.push({label:"Follow Up Leads",count:n.result.followUpLead}),null!=n.result.vouchers&&this.dataList.push({label:"Vouchers",count:n.result.vouchers}),null!=n.result.ledgers&&this.dataList.push({label:"Ledgers",count:n.result.ledgers}),null!=n.result.items&&this.dataList.push({label:"Items",count:n.result.items}),null!=n.result.customer&&this.dataList.push({label:"Customer",count:n.result.customer}),null!=n.result.transactions&&this.dataList.push({label:"Receiving Transaction",count:n.result.transactions}),console.log(n.result.vouchers)},n=>{console.error("Error fetching data:",n)})}Projectfilter(n){this.obj={},this.queryParamData={},this.project_id=n.value,this.queryParamData.project_id=n.value,this.queryParamData.is_delete=!0,this.mainService.getrecentDelete(this.queryParamData).subscribe(o=>{console.log(o),this.dataList=[],null!=o.result.isActiveLeads&&this.dataList.push({label:"Active Leads",count:o.result.isActiveLeads}),null!=o.result.uncalledLeads&&this.dataList.push({label:"Uncalled Leads",count:o.result.uncalledLeads}),null!=o.result.followUpLead&&this.dataList.push({label:"Follow Up Leads",count:o.result.followUpLead}),null!=o.result.vouchers&&this.dataList.push({label:"Vouchers",count:o.result.vouchers}),null!=o.result.ledgers&&this.dataList.push({label:"Ledgers",count:o.result.ledgers}),null!=o.result.items&&this.dataList.push({label:"Items",count:o.result.items}),null!=o.result.customer&&this.dataList.push({label:"Customer",count:o.result.customer}),null!=o.result.transactions&&this.dataList.push({label:"Receiving Transaction",count:o.result.transactions}),console.log(o.result.vouchers)},o=>{console.error("Error fetching data:",o)})}Projects(){this.getPermission=localStorage.getItem("user_info"),this.logindata=JSON.parse(this.getPermission),console.log(this.logindata),this.userId=this.logindata.id,this.mainService.getUser(this.userId).subscribe(n=>{this.userData=n,this.projects=this.userData.projects,this.projectLength=this.projects.length,console.log(this.projectLength),1==this.projectLength&&(this.projectId=this.projects[0].id,this.mainService.getProject(this.projects[0].id).subscribe(o=>{this.oneprojects=o,this.oneproject=this.oneprojects.project,console.log(this.oneproject),this.projectName=this.oneproject.name,$(".Projectbtn").html(this.projectName),$(".Projectbtn").prop("value",this.projects[0].id),console.log(this.new1p),0==this.new1p.length?$("#emptyErr").fadeIn():$("#emptyErr").fadeOut()}))})}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(p.Ix),e.rXU(b.t))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-recent-delete"]],decls:7,vars:4,consts:[[1,"container"],[1,"demo","col-sm-12","col-md-12","col-xs-12","col-xl-12","col-lg-12",2,"margin-bottom","30px"],["class","row",4,"ngIf"],["class","row textRecent",4,"ngIf"],["class","list-container",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-lg-8"],[1,"col-lg-4"],["appearance","outline"],["matNativeControl","","formControlName","project_id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"row","textRecent"],[1,"list-container",3,"ngClass"],["style","list-style-type: none;",4,"ngFor","ngForOf"],[2,"list-style-type","none"],[3,"click"],[2,"display","flex","justify-content","flex-start","flex-direction","row","cursor","default"],["mat-list-icon",""],[1,"text",2,"margin-left","10px"],[2,"display","flex","align-content","center","align-items","center","margin-left","10px","flex-direction","row","color","#49A4FF","font-size","20px"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,ee,8,1,"div",2)(3,te,2,0,"div",3)(4,ie,2,4,"div",4),e.j41(5,"div"),e.DNE(6,oe,1,0,"app-no-data-found",5),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("ngIf",t.projectLength>1),e.R7$(),e.Y8G("ngIf",t.dataList.length>0),e.R7$(),e.Y8G("ngIf",t.dataList.length>0),e.R7$(2),e.Y8G("ngIf",0==t.dataList.length))},dependencies:[d.YU,d.Sq,d.bT,u.rl,u.nJ,v.VO,y.wT,x.An,P.p],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:red!important;opacity:.8!important}  .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:red!important}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.8em}  .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:#68bfbb}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#344054}@media only screen and (max-width: 900px){.submit-btn[_ngcontent-%COMP%]{width:100%}  .mat-form-field{margin:0rem!important;width:100%}}.demo[_ngcontent-%COMP%]{padding:30px;background:#fff;border:1px solid #49A4FF!important;border-radius:64.6539px 0;height:530px;margin-top:52px}.textRecent[_ngcontent-%COMP%]{margin-top:30px;justify-content:center;align-items:center;text-align:center;font-size:29px;font-weight:500;font-family:Poppins}.list-container[_ngcontent-%COMP%]{max-height:320px;overflow-y:auto}.scrollable[_ngcontent-%COMP%]{overflow-y:auto}.text[_ngcontent-%COMP%]{font-size:26px;font-weight:400;font-family:Poppins;color:#68bfbb;vertical-align:middle}.center-list[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer}.flex-container[_ngcontent-%COMP%]{display:flex;align-items:center}.circle-icon[_ngcontent-%COMP%]{background-color:#68bfbb;color:#fff;border-radius:50%;padding:2px 10px;font-size:20px;margin-left:6%}.list-item[_ngcontent-%COMP%]{height:60px}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:100%}.left-content[_ngcontent-%COMP%]{display:flex;align-items:center}.right-content[_ngcontent-%COMP%]{background-color:#68bfbb;color:#fff;border-radius:50%;padding:2px 6px;font-size:12px}  .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar, .mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-option.mat-list-item-with-avatar[_ngcontent-%COMP%]{padding-left:40%}@media (max-width: 768px){  .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar, .mat-list-base[dense][_ngcontent-%COMP%]   .mat-list-option.mat-list-item-with-avatar[_ngcontent-%COMP%]{padding-left:0%}.text[_ngcontent-%COMP%]{font-size:18px}.circle-icon[_ngcontent-%COMP%]{font-size:12px}}"]})}return a})();function re(a,r){if(1&a&&(e.j41(0,"mat-option",23),e.EFF(1),e.k0s()),2&a){const n=r.$implicit;e.FS9("value",n.id),e.R7$(),e.SpI(" ",n.name,"")}}function se(a,r){if(1&a){const n=e.RV6();e.j41(0,"mat-paginator",22),e.bIt("page",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageEvents(t))}),e.k0s()}if(2&a){const n=e.XpG();e.Y8G("length",n.totalLength)("pageSize",10)("pageIndex",n.currentPage)}}function le(a,r){1&a&&e.nrm(0,"app-no-data-found")}function ce(a,r){if(1&a&&(e.qex(0),e.j41(1,"div",30),e.EFF(2),e.k0s(),e.bVm()),2&a){const n=r.$implicit;e.R7$(2),e.JRh(n.Property.number)}}function de(a,r){if(1&a&&(e.j41(0,"tr")(1,"td",27),e.EFF(2),e.k0s(),e.j41(3,"td",28)(4,"a",29),e.EFF(5),e.nrm(6,"br"),e.EFF(7),e.k0s()(),e.j41(8,"td",28),e.EFF(9),e.k0s(),e.j41(10,"td",27),e.DNE(11,ce,3,1,"ng-container",26),e.k0s()()),2&a){const n=r.$implicit;e.R7$(),e.Mz_("routerLink","edit-customer/",n.id,""),e.R7$(),e.E5c(" ",n.fName," ",n.mName?n.mName:""," ",n.lName?n.lName:""," "),e.R7$(2),e.FCK("href","tel:",n.Phone," ",n.alternatephone,"",e.B4B),e.R7$(),e.SpI("",n.phone," "),e.R7$(2),e.JRh(n.alternatePhone),e.R7$(2),e.JRh(n.gender),e.R7$(),e.Mz_("routerLink","view-customer/",n.id,""),e.R7$(),e.Y8G("ngForOf",n.AllProperty)}}function pe(a,r){if(1&a&&(e.j41(0,"table",24)(1,"thead")(2,"tr")(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.j41(15,"tbody",25),e.DNE(16,de,12,14,"tr",26),e.k0s()()),2&a){const n=e.XpG();e.Y8G("dtOptions",n.dtOptions),e.R7$(4),e.JRh(e.bMT(5,6,"Buttons.Name")),e.R7$(3),e.JRh(e.bMT(8,8,"Buttons.MobileNumber")),e.R7$(3),e.JRh(e.bMT(11,10,"Contact_information.Gender")),e.R7$(3),e.SpI(" ",e.bMT(14,12,"Customer.view_customer.Property_Number")," "),e.R7$(3),e.Y8G("ngForOf",n.customerDetail)}}let me=(()=>{class a{constructor(n,o){this.mainService=n,this.activatedRoute=o,this.dtOptions={},this.projects=[],this.projectName="",this.new1p=[],this.totalLength=0,this.currentPage=0,this.customerDetail=[],this.isLoadingResults=!0,this.dataFoundOrNot=!1,this.paginator=1}ngOnInit(){this.dtOptions={serverSide:!0,searching:!1,processing:!0,responsive:!0,order:[],paging:!1,info:!1,columnDefs:[{orderable:!1,targets:[0,1,2,3]}]},window.alert=function(){},this.customerDetail=[],this.getPermission=localStorage.getItem("user_info"),this.logindata=JSON.parse(this.getPermission),this.userProjects=this.logindata.projectspecificUser,this.Projects(),this.activatedRoute.queryParams.subscribe(n=>{console.log(n),this.queryParamData=JSON.parse(JSON.stringify(n)),console.log(this.queryParamData.project_id),null!=this.queryParamData.project_id&&(this.defaultVAlueproject=this.queryParamData.project_id)}),this.setPage(this.paginator?.pageIndex?this.paginator.pageIndex+1:1)}Projects(){this.getPermission=localStorage.getItem("user_info"),this.logindata=JSON.parse(this.getPermission),this.userId=this.logindata.id,this.mainService.getUser(this.userId).subscribe(n=>{this.userData=n,this.projects=this.userData.projects,this.projectLength=this.projects.length,1==this.projectLength&&(this.projectId=this.projects[0].id,this.mainService.getProject(this.projects[0].id).subscribe(o=>{this.oneprojects=o,this.oneproject=this.oneprojects.project,console.log(this.oneproject),this.projectName=this.oneproject.name,$(".Projectbtn").html(this.projectName),$(".Projectbtn").prop("value",this.projects[0].id),0==this.new1p.length?$("#emptyErr").fadeIn():$("#emptyErr").fadeOut()}))})}Projectfilter(n){this.isLoadingResults=!0;let t=!1;t=!0,this.filterProject=n.value,this.mainService.getCustomerApi(this.paginator.pageIndex,"","","",!0,this.filterProject).subscribe(i=>{this.customerDetail=[],this.customerData=i,this.totalLength=this.customerData.customers.totalcountData,this.isLoadingResults=!1,this.dataFoundOrNot=!!this.customerData.customers.rows.length,this.customerData.customers.rows.forEach(s=>{this.customerDetail.push({id:s.id,fName:s.first_name,mName:s.middle_name,lName:s.last_name,email:s.email,gender:s.gender,phone:s.phone,alternatePhone:s.alternate_phone,AllProperty:s.Pre_Bookings,leadId:s.lead_id})}),this.customerDetail.map(s=>s.AllProperty)})}pageEvents(n){this.currentPage=n.pageIndex,this.setPage(n.pageIndex+1)}setPage(n){this.isLoadingResults=!0;let t=!1;t=!0,this.mainService.getCustomerApi(n,"","","",!0,this.filterProject).subscribe(i=>{this.customerDetail=[],this.customerData=i,this.totalLength=this.customerData.customers.totalcountData,this.isLoadingResults=!1,this.dataFoundOrNot=!!this.customerData.customers.rows.length,this.customerData.customers.rows.forEach(s=>{this.customerDetail.push({id:s.id,fName:s.first_name,mName:s.middle_name,lName:s.last_name,email:s.email,gender:s.gender,phone:s.phone,alternatePhone:s.alternate_phone,AllProperty:s.Pre_Bookings,leadId:s.lead_id})}),this.customerDetail.map(s=>s.AllProperty)})}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(b.t),e.rXU(p.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-customer-recycle"]],viewQuery:function(o,t){if(1&o&&e.GBs(g.iy,5),2&o){let i;e.mGM(i=e.lsd())&&(t.paginator=i.first)}},decls:36,vars:8,consts:[["id","leadPage"],["id","page-lead-filter"],[1,"app-main__inner"],[1,"app-page-title"],[1,"row"],[1,"col-lg-4"],[1,"page-title-icon"],[1,"leads_icon",2,"background","white","color","#68bfbb","font-size","larger","position","relative","bottom","6px","right","2px"],[2,"padding-left","40px","font-size","18px"],["appearance","outline"],["matNativeControl","","formControlName","project_id",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-4",2,"display","flex","align-content","center","flex-wrap","wrap","justify-content","flex-end"],[1,"col-lg-12"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"col-lg-6"],["showFirstLastButtons","","aria-label","Select page of users","style","float: left",3,"length","pageSize","pageIndex","page",4,"ngIf"],[1,"scroll"],[1,"kol-12"],[4,"ngIf"],["datatable","","class","row-border hover",3,"dtOptions",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of users",2,"float","left",3,"page","length","pageSize","pageIndex"],[3,"value"],["datatable","",1,"row-border","hover",3,"dtOptions"],["role","rowgroup"],[4,"ngFor","ngForOf"],["role","cell",3,"routerLink"],["role","cell"],[3,"href"],[2,"color","green"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-icon",7),e.EFF(8,"trending_up"),e.k0s(),e.j41(9,"div",8),e.EFF(10,"Customer"),e.k0s()()(),e.j41(11,"div",5)(12,"mat-form-field",9)(13,"mat-label"),e.EFF(14,"Project Name"),e.k0s(),e.j41(15,"mat-select",10),e.bIt("selectionChange",function(c){return t.Projectfilter(c)}),e.DNE(16,re,2,2,"mat-option",11),e.k0s()()(),e.nrm(17,"div",12),e.k0s()(),e.j41(18,"div",4)(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",4)(23,"div",16),e.DNE(24,se,1,3,"mat-paginator",17),e.k0s(),e.nrm(25,"div",16),e.k0s(),e.j41(26,"div",4)(27,"div",13)(28,"div",18)(29,"div",19),e.DNE(30,le,1,0,"app-no-data-found",20),e.k0s(),e.DNE(31,pe,17,14,"table",21),e.k0s()(),e.j41(32,"div",4),e.nrm(33,"div",16),e.j41(34,"div",16)(35,"mat-paginator",22),e.bIt("page",function(c){return t.pageEvents(c)}),e.k0s()()()()()()()()()()()),2&o&&(e.R7$(15),e.Y8G("value",t.defaultVAlueproject),e.R7$(),e.Y8G("ngForOf",t.projects),e.R7$(8),e.Y8G("ngIf",t.dataFoundOrNot),e.R7$(6),e.Y8G("ngIf",0==t.customerDetail.length),e.R7$(),e.Y8G("ngIf",t.customerDetail.length),e.R7$(4),e.Y8G("length",t.totalLength)("pageSize",10)("pageIndex",t.currentPage))},dependencies:[d.Sq,d.bT,p.Wk,u.rl,u.nJ,v.VO,y.wT,x.An,g.iy,C._,P.p,_.D9],styles:['mat-form-field[_ngcontent-%COMP%]{width:100%}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:red!important;opacity:.8!important}  .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:red!important}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.8em}  .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:#68bfbb}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#344054}@media only screen and (max-width: 900px){.submit-btn[_ngcontent-%COMP%]{width:100%}  .mat-form-field{margin:0rem!important;width:100%}}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 20px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#a1a1a1}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;font-weight:300;padding:7px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{box-shadow:0 0 8px #00000040;cursor:pointer;border-radius:6px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:first-child, thead[_ngcontent-%COMP%]{border-radius:6px 0 0 6px}tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:last-child, tr[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{border-radius:0 6px 6px 0}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}tr[_ngcontent-%COMP%]{margin:0 0 1rem}tr[_ngcontent-%COMP%]:nth-child(odd){background:#ccc}td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eee;position:relative;padding:7px 0 7px 50%!important}}@media only screen and (max-width: 760px) and (max-width: 384px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 384px){td[_ngcontent-%COMP%]{padding-left:55%!important}}@media only screen and (max-width: 760px) and (max-width: 340px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 340px){td[_ngcontent-%COMP%]{padding-left:60%!important}}@media only screen and (max-width: 760px) and (max-width: 314px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 314px){td[_ngcontent-%COMP%]{padding-left:65%!important}}@media only screen and (max-width: 760px) and (max-width: 296px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 296px){td[_ngcontent-%COMP%]{padding-left:69%!important}}@media only screen and (max-width: 760px) and (max-width: 242px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 242px){td[_ngcontent-%COMP%]{padding-left:78%!important}}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){td[_ngcontent-%COMP%]:before{position:absolute;left:20px;width:45%;padding-right:10px;white-space:nowrap}td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Name"}td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Mobile"}td[_ngcontent-%COMP%]:nth-of-type(3):before{content:"Gender"}td[_ngcontent-%COMP%]:nth-of-type(4):before{content:"Property Number"}}@media only screen and (min-width: 200px) and (max-width: 1024px){#example[_ngcontent-%COMP%]{border-spacing:0 0px}}.circular-icon[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;width:28px;height:28px;border-radius:50%;background-color:#fff;padding-left:14px}']})}return a})();function he(a,r){if(1&a&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&a){const n=r.$implicit;e.FS9("value",n.id),e.R7$(),e.SpI(" ",n.name,"")}}function ue(a,r){if(1&a){const n=e.RV6();e.j41(0,"div",3)(1,"mat-form-field",19)(2,"mat-label"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"mat-select",20),e.bIt("selectionChange",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.Projectfilter(t))}),e.DNE(6,he,2,2,"mat-option",21),e.k0s()()()}if(2&a){const n=e.XpG();e.R7$(3),e.JRh(e.bMT(4,3,"Buttons.Projects")),e.R7$(2),e.Y8G("value",n.defaultVAlueproject),e.R7$(),e.Y8G("ngForOf",n.projects)}}function ge(a,r){if(1&a){const n=e.RV6();e.j41(0,"mat-paginator",23),e.bIt("page",function(t){e.eBV(n);const i=e.XpG();return e.Njj(i.pageEvents(t))}),e.k0s()}if(2&a){const n=e.XpG();e.Y8G("length",n.totalLength)("pageSize",10)("pageIndex",n.currentPage)}}function fe(a,r){1&a&&e.nrm(0,"app-no-data-found")}function _e(a,r){if(1&a&&(e.j41(0,"tr")(1,"td",28),e.EFF(2),e.k0s(),e.j41(3,"td",29),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.nI1(11,"dateConvertToUserFriendly"),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s()()),2&a){const n=r.$implicit,o=e.XpG(2);e.R7$(2),e.E5c(" ",n.fName," ",n.mName?n.mName:""," ",n.lName?n.lName:""," "),e.R7$(),e.FCK("routerLink","/master/customer/view-customer/",n.customerid,"/",n.sale_id,""),e.R7$(),e.SpI(" ",n.property_name," "),e.R7$(2),e.SpI(" \u20b9 ",o.NumberFormat(n.receiving_amount)," "),e.R7$(2),e.JRh(n.payment_mode),e.R7$(2),e.JRh(e.i5U(11,12,n.receiving_date,o.DateStatus)),e.R7$(3),e.JRh(n.receipt_number),e.R7$(2),e.JRh(n.received_by)}}function be(a,r){if(1&a&&(e.j41(0,"table",24)(1,"thead",25)(2,"tr")(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"th"),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"th"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.j41(24,"tbody",26),e.DNE(25,_e,16,15,"tr",27),e.k0s()()),2&a){const n=e.XpG();e.Y8G("dtOptions",n.dtOptions),e.R7$(4),e.JRh(e.bMT(5,9,"Buttons.Name")),e.R7$(3),e.JRh(e.bMT(8,11,"collection.Property_name")),e.R7$(3),e.JRh(e.bMT(11,13,"collection.Receiving_amount")),e.R7$(3),e.SpI("",e.bMT(14,15,"Lead.lead_closure.Payment_Mode.Payment_Mode")," "),e.R7$(3),e.JRh(e.bMT(17,17,"collection.Receiving_date")),e.R7$(3),e.JRh(e.bMT(20,19,"collection.Receipt_no")),e.R7$(3),e.JRh(e.bMT(23,21,"collection.Received_By")),e.R7$(3),e.Y8G("ngForOf",n.recevingTransaction)}}let ve=(()=>{class a{constructor(n,o){this.mainService=n,this.router=o,this.totalLength=0,this.dataFoundOrNot=!1,this.dtOptions={},this.currentPage=0,this.recevingTransaction=[],this.obj={},this.queryParamData={},this.projects=[],this.projectName="",this.new1p=[],this.DateStatus="WithDate",this.paginator=1}ngOnInit(){this.dtOptions={serverSide:!0,searching:!1,processing:!0,responsive:!0,order:[],paging:!1,info:!1,columnDefs:[{orderable:!1,targets:[0,1,2,3,4,5,6]}]},window.alert=function(){},this.Projects(),this.router.queryParams.subscribe(n=>{console.log(n),this.queryParamData=JSON.parse(JSON.stringify(n)),console.log(this.queryParamData.project_id),null!=this.queryParamData.project_id&&(this.defaultVAlueproject=this.queryParamData.project_id)}),this.setPage(this.paginator?.pageIndex?this.paginator.pageIndex+1:1),console.log("dshddvjasdvsahds hdsvhsavdh")}pageEvents(n){this.currentPage=n.pageIndex,this.setPage(n.pageIndex+1)}setPage(n){Object.keys(this.obj).length?Object.assign(this.queryParamData,this.obj,{page:n}):Object.assign(this.queryParamData,{page:n}),this.queryParamData.is_delete=!0,this.pageCounts=[],this.mainService.getreceivingTrans(this.queryParamData).subscribe(o=>{this.recevingTransaction=[],this.recevingTransactions=o,this.totalLength=this.recevingTransactions.result.totalcountData,this.recevingTransactions.result.rows.forEach(t=>{console.log(t),this.recevingTransaction.push({id:t.id,fName:t.Sale.Customer.first_name,mName:t.Sale.Customer.middle_name,lName:t.Sale.Customer.last_name,property_name:t.Sale.Pre_Booking.Property.number,receiving_amount:t.transaction_total_recevied_amount,receiving_date:t.transaction_received_amount_date,payment_mode:t.transaction_payment_via,receipt_number:t.receipt_no,received_by:t.User.name,sale_id:t.Sale.id,customerid:t.Sale.Customer.id,paymentId:t.payment_via_id})})},o=>{})}Projectfilter(n){this.obj={},this.queryParamData={},this.obj.tarnsectionStartDate=[],this.obj.tarnsectionEndDate=[],this.queryParamData.project=n.value,this.queryParamData.is_delete=!0,this.recevingTransaction=[],this.recevingTransactions=[],this.mainService.getreceivingTrans(this.queryParamData).subscribe(o=>{this.recevingTransaction=[],this.recevingTransactions=o,this.totalLength=this.recevingTransactions.result.totalcountData,this.recevingTransactions.result.rows.forEach(t=>{this.recevingTransaction.push({id:t.id,fName:t.Sale.Customer.first_name,mName:t.Sale.Customer.middle_name,lName:t.Sale.Customer.last_name,property_name:t.Sale.Pre_Booking.Property.number,receiving_amount:t.transaction_total_recevied_amount,receiving_date:t.transaction_received_amount_date,payment_mode:t.transaction_payment_via,receipt_number:t.receipt_no,received_by:t.User.name,sale_id:t.Sale.id,customerid:t.Sale.Customer.id,paymentId:t.payment_via_id})}),this.recevingTransaction.length&&(this.paginator.pageIndex=0)},o=>{})}Projects(){this.getPermission=localStorage.getItem("user_info"),this.logindata=JSON.parse(this.getPermission),console.log(this.logindata),this.userId=this.logindata.id,this.mainService.getUser(this.userId).subscribe(n=>{this.userData=n,this.projects=this.userData.projects,this.projectLength=this.projects.length,console.log(this.projectLength),1==this.projectLength&&(this.projectId=this.projects[0].id,this.mainService.getProject(this.projects[0].id).subscribe(o=>{this.oneprojects=o,this.oneproject=this.oneprojects.project,console.log(this.oneproject),this.projectName=this.oneproject.name,$(".Projectbtn").html(this.projectName),$(".Projectbtn").prop("value",this.projects[0].id),console.log(this.new1p),0==this.new1p.length?$("#emptyErr").fadeIn():$("#emptyErr").fadeOut()}))})}NumberFormat(n){return n.toLocaleString("en-IN")}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(b.t),e.rXU(p.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-transaction-recycle"]],viewQuery:function(o,t){if(1&o&&e.GBs(g.iy,5),2&o){let i;e.mGM(i=e.lsd())&&(t.paginator=i.first)}},decls:29,vars:7,consts:[[1,"app-main__inner"],[1,"app-page-title"],[1,"row"],[1,"col-lg-4"],[1,"page-title-icon"],[1,"leads_icon",2,"background","white","color","#68bfbb","font-size","larger","position","relative","bottom","6px","right","2px"],[2,"padding-left","40px","font-size","18px"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-4",2,"display","flex","align-content","center","flex-wrap","wrap","justify-content","flex-end"],[1,"col-lg-12"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"col-lg-6"],["showFirstLastButtons","","aria-label","Select page of users","style","float: left",3,"length","pageSize","pageIndex","page",4,"ngIf"],[1,"scroll"],[1,"kol-12"],[4,"ngIf"],["datatable","","class","row-border hover","id","table",3,"dtOptions",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of users",3,"page","length","pageSize","pageIndex"],["appearance","outline"],["matNativeControl","","formControlName","project_id",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["showFirstLastButtons","","aria-label","Select page of users",2,"float","left",3,"page","length","pageSize","pageIndex"],["datatable","","id","table",1,"row-border","hover",3,"dtOptions"],[1,"table"],["role","rowgroup"],[4,"ngFor","ngForOf"],["role","cell"],[3,"routerLink"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),e.EFF(6,"trending_up"),e.k0s(),e.j41(7,"div",6),e.EFF(8,"Receiving Transaction"),e.k0s()()(),e.DNE(9,ue,7,5,"div",7),e.nrm(10,"div",8),e.k0s()(),e.j41(11,"div",2)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",2)(16,"div",12),e.DNE(17,ge,1,3,"mat-paginator",13),e.k0s(),e.nrm(18,"div",12),e.k0s(),e.j41(19,"div",2)(20,"div",9)(21,"div",14)(22,"div",15),e.DNE(23,fe,1,0,"app-no-data-found",16),e.k0s(),e.DNE(24,be,26,23,"table",17),e.k0s()(),e.j41(25,"div",2),e.nrm(26,"div",12),e.j41(27,"div",12)(28,"mat-paginator",18),e.bIt("page",function(c){return t.pageEvents(c)}),e.k0s()()()()()()()()()),2&o&&(e.R7$(9),e.Y8G("ngIf",t.projectLength>1),e.R7$(8),e.Y8G("ngIf",t.dataFoundOrNot),e.R7$(6),e.Y8G("ngIf",0==t.recevingTransaction.length),e.R7$(),e.Y8G("ngIf",t.recevingTransaction.length),e.R7$(4),e.Y8G("length",t.totalLength)("pageSize",10)("pageIndex",t.currentPage))},dependencies:[d.Sq,d.bT,p.Wk,u.rl,u.nJ,v.VO,y.wT,x.An,g.iy,C._,P.p,_.D9,R.B],styles:['mat-form-field[_ngcontent-%COMP%]{width:100%}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:red!important;opacity:.8!important}  .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:red!important}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.8em}  .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:#68bfbb}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#344054}@media only screen and (max-width: 900px){.submit-btn[_ngcontent-%COMP%]{width:100%}  .mat-form-field{margin:0rem!important;width:100%}}.circular-icon[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;width:28px;height:28px;border-radius:50%;background-color:#fff;padding-left:14px}table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 20px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#a1a1a1}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;font-weight:300;padding:7px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{box-shadow:0 0 8px #00000040;cursor:pointer;border-radius:6px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:7px}tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:first-child, thead[_ngcontent-%COMP%]{border-radius:6px 0 0 6px}tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:last-child, tr[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{border-radius:0 6px 6px 0}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}tr[_ngcontent-%COMP%]{margin:0 0 1rem}tr[_ngcontent-%COMP%]:nth-child(odd){background:#ccc}td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eee;position:relative;padding:7px 0 7px 50%!important}}@media only screen and (max-width: 760px) and (max-width: 384px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 384px){td[_ngcontent-%COMP%]{padding-left:55%!important}}@media only screen and (max-width: 760px) and (max-width: 340px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 340px){td[_ngcontent-%COMP%]{padding-left:60%!important}}@media only screen and (max-width: 760px) and (max-width: 314px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 314px){td[_ngcontent-%COMP%]{padding-left:65%!important}}@media only screen and (max-width: 760px) and (max-width: 296px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 296px){td[_ngcontent-%COMP%]{padding-left:69%!important}}@media only screen and (max-width: 760px) and (max-width: 242px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 242px){td[_ngcontent-%COMP%]{padding-left:78%!important}}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){td[_ngcontent-%COMP%]:before{position:absolute;left:20px;width:45%;padding-right:10px;white-space:nowrap}#table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Name"}#table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Property Name"}#table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(3):before{content:"Receiving Amount"}#table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(4):before{content:"Payment Mode"}#table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(5):before{content:"Receiving Date"}#table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(6):before{content:"Receipt Number"}#table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-of-type(7):before{content:"Received By"}}']})}return a})();var h=l(5312),j=l(345),w=l(9214);const ye=[{path:"",component:k},{path:"lead-recycle",component:H},{path:"recent-delete",component:ae},{path:"customer-recycle",component:me},{path:"transaction-recycle",component:ve},{path:"item_recycle",component:(()=>{class a{constructor(n,o,t){this.sanitizer=n,this.auth=o,this.route=t,this.url=h.c.flutterUrl+"item_recycle";var i=this.auth.getRootDomain(window.location.hostname),s=h.c.iframeUrl.split(".")[0]+"."+i+"/item_recycle";this.url="devdreamcity"==window.location.hostname.split(".")[0]?"https://devflutter."+i+"/item_recycle":"uatdreamcity"==window.location.hostname.split(".")[0]?"https://uatflutter."+i+"/item_recycle":"localhost"==window.location.hostname?h.c.flutterUrl+"item_recycle":"colonizer"==window.location.hostname||"letsplay"==window.location.hostname.split(".")[0]?"https://letsplayflutter."+i+"/item_recycle":s,this.controllerSrc=this.generateControllerUrl()}generateControllerUrl(){let n=`${this.url}`;return this.project_id&&(n+=`?recentlyDelete=true&project_id=${this.project_id}`),n}getSafeUrl(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)}ngOnInit(){this.route.queryParams.subscribe(n=>{console.log(n);const o=n.project_id;null!=o?this.project_id=parseInt(o):null==o&&null==o&&(this.project_id=parseInt("0")),this.controllerSrc=this.getSafeUrl(this.generateControllerUrl())})}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(j.up),e.rXU(w.k),e.rXU(p.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-item-recycle"]],decls:2,vars:1,consts:[[2,"height","90vh"],["title","W3Schools Free Online Web Tutorials","width","100%","height","100%",3,"src"]],template:function(o,t){1&o&&(e.j41(0,"div",0),e.nrm(1,"iframe",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("src",t.controllerSrc,e.f$h))}})}return a})()},{path:"ledger_recycle",component:(()=>{class a{constructor(n,o,t){this.sanitizer=n,this.auth=o,this.route=t,this.url=h.c.flutterUrl+"ledger_recycle",this.project_id=0;var i=this.auth.getRootDomain(window.location.hostname),s=h.c.iframeUrl.split(".")[0]+"."+i+"/ledger_recycle";this.url="devdreamcity"==window.location.hostname.split(".")[0]?"https://devflutter."+i+"/ledger_recycle":"uatdreamcity"==window.location.hostname.split(".")[0]?"https://uatflutter."+i+"/ledger_recycle":"localhost"==window.location.hostname?h.c.flutterUrl+"ledger_recycle":"colonizer"==window.location.hostname||"letsplay"==window.location.hostname.split(".")[0]?"https://letsplayflutter."+i+"/ledger_recycle":s,this.controllerSrc=this.generateControllerUrl()}generateControllerUrl(){let n=`${this.url}`;return this.project_id&&(n+=`?recentlyDelete=true&project_id=${this.project_id}`),n}getSafeUrl(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)}ngOnInit(){this.route.queryParams.subscribe(n=>{console.log(n);const o=n.project_id;null!=o?this.project_id=parseInt(o):null==o&&null==o&&(this.project_id=parseInt("0")),this.controllerSrc=this.getSafeUrl(this.generateControllerUrl())})}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(j.up),e.rXU(w.k),e.rXU(p.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-ledger-recycle"]],decls:2,vars:1,consts:[[2,"height","90vh"],["title","W3Schools Free Online Web Tutorials","width","100%","height","100%",3,"src"]],template:function(o,t){1&o&&(e.j41(0,"div",0),e.nrm(1,"iframe",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("src",t.controllerSrc,e.f$h))}})}return a})()},{path:"voucher_recycle",component:(()=>{class a{constructor(n,o,t){this.sanitizer=n,this.auth=o,this.route=t,this.url=h.c.flutterUrl+"voucher_recycle",this.project_id=0,this.recentlyDelete=!0;var i=this.auth.getRootDomain(window.location.hostname),s=h.c.iframeUrl.split(".")[0]+"."+i+"/voucher_recycle";this.url="devdreamcity"==window.location.hostname.split(".")[0]?"https://devflutter."+i+"/voucher_recycle":"uatdreamcity"==window.location.hostname.split(".")[0]?"https://uatflutter."+i+"/voucher_recycle":"localhost"==window.location.hostname?h.c.flutterUrl+"voucher_recycle":"colonizer"==window.location.hostname||"letsplay"==window.location.hostname.split(".")[0]?"https://letsplayflutter."+i+"/voucher_recycle":s,this.controllerSrc=this.generateControllerUrl()}generateControllerUrl(){let n=`${this.url}`;return console.log(this.project_id),this.project_id&&(n+=`?recentlyDelete=true&project_id=${this.project_id??"0"}`),n}getSafeUrl(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)}ngOnInit(){this.route.queryParams.subscribe(n=>{console.log(n);const o=n.project_id;null!=o?this.project_id=parseInt(o):null==o&&null==o&&(this.project_id=parseInt("0")),this.controllerSrc=this.getSafeUrl(this.generateControllerUrl())})}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(j.up),e.rXU(w.k),e.rXU(p.nX))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-voucher-recycle"]],decls:2,vars:1,consts:[[2,"height","90vh"],["title","W3Schools Free Online Web Tutorials","width","100%","height","100%",3,"src"]],template:function(o,t){1&o&&(e.j41(0,"div",0),e.nrm(1,"iframe",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("src",t.controllerSrc,e.f$h))}})}return a})()}];let xe=(()=>{class a{static#e=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275mod=e.$C({type:a});static#n=this.\u0275inj=e.G2t({imports:[p.iI.forChild(ye),p.iI]})}return a})();var Ce=l(551),Pe=l(9853),je=l(1626),we=l(6494),Oe=l(105),De=l(3125);let Re=(()=>{class a{static#e=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275mod=e.$C({type:a});static#n=this.\u0275inj=e.G2t({imports:[d.MD,xe,Ce.G,g.Ou,C.H,Oe.Fg,_.h.forChild({loader:{provide:_.Wr,useFactory:Pe.M,deps:[je.Qq]},defaultLanguage:"en"}),we.G,De.m]})}return a})()}}]);