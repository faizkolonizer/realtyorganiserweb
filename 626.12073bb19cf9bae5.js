"use strict";(self.webpackChunkCRM=self.webpackChunkCRM||[]).push([[626],{8626:(As,w,v)=>{v.r(w),v.d(w,{HttpLoaderFactory:()=>Q,RoleModule:()=>ks});var I=v(177),T=v(9631),G=v(3141),N=v(1653),x=v(4006),E=v(9417),X=v(4800),R=v(9327),e=v(4438),O=v(5794),S=v(1487),C=v(2102),U=v(8834),D=v(1161),Y=v(450),$=v(9217),L=v(9016),J=v(9491),P=v(1780);const Z=["readFullTag"],K=["readFullTag1"],ee=["readFullTag2"],te=["readFullTag3"],se=["readFullTag4"],re=["readFullTag5"],ne=["readFullTagInventory"],ie=["materialDashboardReadAccess"],ae=["propertyDashboardReadAccess"],ce=["materialDashboardFullAccess"],le=["propertyDashboardFullAccess"],oe=["materialDashboardCreateAccess"],de=["materialDashboardUpdateAccess"],he=["propertyDashboardCreateAccess"],ue=["propertyDashboardUpdateAccess"],pe=["allFullAccressForInventory"],fe=["createReadAccessInventory"],me=["updateReadAccessInventory"],_e=["allFullAccressForfinancial"],ge=["createReadAccess4"],ke=["updateReadAccess4"],M=d=>({display:d}),Ae=()=>({"border-top":"1px solid black"}),q=()=>({}),be=()=>({"background-color":"#45b545",color:"white"}),ye=()=>["Reserve - Stock","For Sale - Stock","Booked","Sold","Purchases","Consumptions"];function ve(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",85)(1,"input",86,20),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getLeadFeature(i.name,s))}),e.k0s(),e.j41(3,"label",87),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.k0s()}if(2&d){const t=A.$implicit;e.R7$(),e.FS9("value",t.id),e.Y8G("id",t.id)("checked",t.value),e.R7$(2),e.Y8G("for",t.id),e.R7$(),e.SpI("","Inventory Module"==t.name?"Inventory Management":t.name," ")}}function Fe(d,A){if(1&d){const t=e.RV6();e.j41(0,"tr",94)(1,"td",95)(2,"button",96),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.openDialog())}),e.EFF(3,"Limited Access"),e.k0s()()()}if(2&d){const t=e.XpG(2);e.R7$(2),e.Y8G("ngStyle",t.propertyResult?e.lJ4(1,be):e.lJ4(2,q))}}function Re(d,A){if(1&d){const t=e.RV6();e.qex(0),e.j41(1,"tr",72)(2,"td",88),e.EFF(3),e.k0s(),e.j41(4,"td",60)(5,"mat-slide-toggle",89),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getCreate(s,i.id,i.Module_feature_id))}),e.k0s()(),e.j41(6,"td",60)(7,"mat-slide-toggle",90),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getRead(s,i.id))}),e.k0s()(),e.j41(8,"td",60)(9,"mat-slide-toggle",91),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getUpdate(s,i.id))}),e.k0s()(),e.j41(10,"td",60)(11,"mat-slide-toggle",92),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFullAccess(s,i.id))}),e.k0s()()(),e.DNE(12,Fe,4,3,"tr",93),e.bVm()}if(2&d){const t=A.$implicit,c=e.XpG();e.R7$(),e.Y8G("ngStyle","Properties"==t.name?e.lJ4(11,Ae):e.lJ4(12,q)),e.R7$(2),e.JRh("Project Property Types"==t.name?"Project Block":t.name&&"Property Types"==t.name?"Product Type":t.name&&"Properties"==t.name?"Property Unit Details":t.name),e.R7$(2),e.Y8G("checked",t.create)("disabled",c.propertyResult&&"Properties"==t.name),e.R7$(2),e.Y8G("checked",t.read)("disabled",c.propertyResult&&"Properties"==t.name),e.R7$(2),e.Y8G("checked",t.update)("disabled",c.propertyResult&&"Properties"==t.name),e.R7$(2),e.Y8G("checked",t.full)("disabled",c.propertyResult&&"Properties"==t.name),e.R7$(),e.Y8G("ngIf","Properties"==t.name)}}function Ee(d,A){if(1&d){const t=e.RV6();e.j41(0,"tr")(1,"td",88),e.EFF(2),e.k0s(),e.j41(3,"td",60)(4,"mat-slide-toggle",61),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getCreate(s,i.id,i.Module_feature_id))}),e.k0s()(),e.j41(5,"td",60)(6,"mat-slide-toggle",97),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getRead(s,i.id))}),e.k0s()(),e.j41(7,"td",60)(8,"mat-slide-toggle",63),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getUpdate(s,i.id))}),e.k0s()(),e.j41(9,"td",69)(10,"mat-slide-toggle",98),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFullAccess(s,i.id))}),e.k0s()()()}if(2&d){const t=A.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.full)}}function Ie(d,A){if(1&d){const t=e.RV6();e.j41(0,"tr")(1,"td",88),e.EFF(2),e.k0s(),e.j41(3,"td",60)(4,"mat-slide-toggle",61,0),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.getCreate(s,i.id,i.Module_feature_id))}),e.k0s()(),e.j41(6,"td",60)(7,"mat-slide-toggle",97),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.getRead(s,i.id))}),e.k0s()(),e.j41(8,"td",60)(9,"mat-slide-toggle",63,2),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.getUpdate(s,i.id))}),e.k0s()(),e.j41(11,"td",69)(12,"mat-slide-toggle",98),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.getFullAccess(s,i.id))}),e.k0s()()()}if(2&d){const t=A.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(3),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(3),e.Y8G("checked",t.full)}}function Ce(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",99)(1,"table",100)(2,"tr"),e.nrm(3,"th"),e.j41(4,"th",101),e.bIt("click",function(s){e.eBV(t);const i=e.XpG();return e.Njj(i.clickOnModule(s,i.collectionFeatureArr,"create"))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th",101),e.bIt("click",function(s){e.eBV(t);const i=e.XpG();return e.Njj(i.clickOnModule(s,i.collectionFeatureArr,"read"))}),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",101),e.bIt("click",function(s){e.eBV(t);const i=e.XpG();return e.Njj(i.clickOnModule(s,i.collectionFeatureArr,"update"))}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",101),e.bIt("click",function(s){e.eBV(t);const i=e.XpG();return e.Njj(i.clickOnModule(s,i.collectionFeatureArr,"full"))}),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"tr",58)(17,"td",67),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"td",60)(21,"mat-slide-toggle",61,21),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(28),r=e.XpG();return e.Njj(r.clickOnModule(s,r.collectionFeatureArr,"create","collection",i.checked))}),e.k0s()(),e.j41(23,"td",60)(24,"mat-slide-toggle",102,22),e.bIt("change",function(s){e.eBV(t);const i=e.XpG();return e.Njj(i.clickOnModule(s,i.collectionFeatureArr,"read"))}),e.k0s()(),e.j41(26,"td",60)(27,"mat-slide-toggle",63,23),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(22),r=e.XpG();return e.Njj(r.clickOnModule(s,r.collectionFeatureArr,"update","collection",i.checked))}),e.k0s()(),e.j41(29,"td",60)(30,"mat-slide-toggle",64,24),e.bIt("change",function(s){e.eBV(t);const i=e.XpG();return e.Njj(i.clickOnModule(s,i.collectionFeatureArr,"full","collection"))}),e.k0s()()(),e.DNE(32,Ie,13,5,"tr",65),e.k0s()()}if(2&d){const t=e.sdS(31),c=e.XpG();e.R7$(5),e.SpI(" ",e.bMT(6,8,"role.add_role.Create")," "),e.R7$(3),e.SpI(" ",e.bMT(9,10,"role.add_role.Read")," "),e.R7$(3),e.SpI(" ",e.bMT(12,12,"role.add_role.Update")," "),e.R7$(3),e.SpI(" ",e.bMT(15,14,"role.add_role.Full_Access")," "),e.R7$(4),e.SpI(" ",e.bMT(19,16,"Offer.All")," "),e.R7$(3),e.Y8G("checked",t.checked),e.R7$(6),e.Y8G("checked",t.checked),e.R7$(5),e.Y8G("ngForOf",c.collectionFeatureArr)}}function De(d,A){if(1&d){const t=e.RV6();e.j41(0,"tr")(1,"td",88),e.EFF(2),e.k0s(),e.j41(3,"td",60)(4,"mat-slide-toggle",61),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getCreate(s,i.id,i.Module_feature_id))}),e.k0s()(),e.j41(5,"td",60)(6,"mat-slide-toggle",97),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getRead(s,i.id))}),e.k0s()(),e.j41(7,"td",60)(8,"mat-slide-toggle",63),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getUpdate(s,i.id))}),e.k0s()(),e.j41(9,"td",60)(10,"mat-slide-toggle",98),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFullAccess(s,i.id))}),e.k0s()()()}if(2&d){const t=A.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.full)}}function xe(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",106),e.bIt("change",function(s){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.getCreateFinancial(s,i.id))}),e.k0s()}if(2&d){const t=e.XpG().$implicit;e.Y8G("disabled",t.isDisabled)("checked",t.create)}}function Pe(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",106),e.bIt("change",function(s){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.getReadFinancial(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG().$implicit;e.Y8G("disabled",t.isDisabled)("checked",t.read)}}function Me(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",106),e.bIt("change",function(s){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.getUpdateFinancial(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG().$implicit;e.Y8G("disabled",t.isDisabled)("checked",t.update)}}function je(d,A){if(1&d){const t=e.RV6();e.qex(0),e.j41(1,"div",103)(2,"div",104),e.EFF(3),e.k0s(),e.j41(4,"div",80),e.DNE(5,xe,1,2,"input",105),e.k0s(),e.j41(6,"div",82),e.DNE(7,Pe,1,2,"input",105),e.k0s(),e.j41(8,"div"),e.DNE(9,Me,1,2,"input",105),e.k0s(),e.j41(10,"div")(11,"input",106),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFullAccessFinancial(s,i.id))}),e.k0s()()(),e.bVm()}if(2&d){const t=A.$implicit;e.R7$(3),e.JRh("Cash Flow"==t.name?"Cash Health Report":"Voucher"==t.name?"Journal voucher":t.name),e.R7$(2),e.Y8G("ngIf","All Transactions"!=t.name&&"Cash Health Report"!=t.name&&"Cheque Statement"!=t.name&&"Customer Payment Status"!=t.name&&"Sales"!=t.name&&"Received From Customers"!=t.name&&"Receivables From Customers"!=t.name&&"Only Bank Entries"!=t.name),e.R7$(2),e.Y8G("ngIf","Backdated Entries"!=t.name&&"Only Bank Entries"!=t.name),e.R7$(2),e.Y8G("ngIf","Cash Health Report"!=t.name&&"Customer Payment Status"!=t.name&&"Sales"!=t.name&&"Receivables From Customers"!=t.name&&"Only Bank Entries"!=t.name),e.R7$(2),e.Y8G("disabled",t.isDisabled)("checked",t.fullAccess)}}function Te(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",106),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.getCreateInventory(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG(2).$implicit;e.Y8G("disabled",t.isDisabledCreate)("checked",t.create)}}function Ge(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",81),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.getReadInventory(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG(2).$implicit;e.Y8G("checked",t.read)}}function Ne(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",106),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.getUpdateInventory(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG(2).$implicit;e.Y8G("disabled",t.isDisabledUpdate)("checked",t.update)}}function Oe(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",103)(1,"div",104),e.EFF(2),e.k0s(),e.j41(3,"div",80),e.DNE(4,Te,1,2,"input",105),e.k0s(),e.j41(5,"div",82),e.DNE(6,Ge,1,1,"input",109),e.k0s(),e.j41(7,"div"),e.DNE(8,Ne,1,2,"input",105),e.k0s(),e.j41(9,"div")(10,"input",106),e.bIt("change",function(s){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.getFullAccessInventory(s,i.id,i.name))}),e.k0s()()()}if(2&d){const t=e.XpG().$implicit;e.R7$(2),e.JRh("Backdated Entries"==t.name?"Backdated Entries (Purchase and Consumption)":t.name),e.R7$(2),e.Y8G("ngIf","Expenses Consumed"!=t.name),e.R7$(2),e.Y8G("ngIf","Backdated Entries"!=t.name),e.R7$(2),e.Y8G("ngIf","Expenses Consumed"!=t.name),e.R7$(2),e.Y8G("disabled",t.isDisabledFullaccess)("checked",t.fullAccess)}}function Se(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",116),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.toggleMaterialExpansion())}),e.j41(1,"mat-icon"),e.EFF(2,"expand_more"),e.k0s()()}}function $e(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",116),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.toggleMaterialExpansion())}),e.j41(1,"mat-icon"),e.EFF(2,"expand_less"),e.k0s()()}}function Be(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",118)(1,"div",119),e.EFF(2),e.k0s(),e.j41(3,"div",80)(4,"input",120),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getCreateInventory(s,i.id,"materialDashboard"))}),e.k0s()(),e.j41(5,"div",82)(6,"input",81),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getReadInventory(s,i.id,"materialDashboard",!0))}),e.k0s()(),e.j41(7,"div")(8,"input",81),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getUpdateInventory(s,i.id,"materialDashboard",!0))}),e.k0s()(),e.j41(9,"div")(10,"input",81),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getFullAccessInventory(s,i.id,"materialDashboard",!0))}),e.k0s()()()}if(2&d){const t=A.$implicit,c=e.XpG(4);e.AVh("slide",c.isExpandedMaterial),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.fullAccess)}}function Ve(d,A){if(1&d&&(e.j41(0,"div"),e.DNE(1,Be,11,7,"div",117),e.k0s()),2&d){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.materialDashboard)}}function we(d,A){if(1&d){const t=e.RV6();e.qex(0),e.j41(1,"div",103)(2,"div",110),e.EFF(3,"Material Dashboard"),e.k0s(),e.j41(4,"div",80)(5,"input",111,25),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(12),r=e.XpG(2);return e.Njj(r.clickOnMaterialDashboardModule(s,r.InventoryModuleArr,"create","inventoryMaterial",i.checked))}),e.k0s()(),e.j41(7,"div",82)(8,"input",112,26),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clickOnMaterialDashboardModule(s,i.InventoryModuleArr,"read","inventoryMaterial"))}),e.k0s()(),e.j41(10,"div")(11,"input",81,27),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(6),r=e.XpG(2);return e.Njj(r.clickOnMaterialDashboardModule(s,r.InventoryModuleArr,"update","inventoryMaterial",i.checked))}),e.k0s()(),e.j41(13,"div",113)(14,"input",114,28),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clickOnMaterialDashboardModule(s,i.InventoryModuleArr,"fullAccess","inventoryMaterial"))}),e.k0s(),e.DNE(16,Se,3,0,"div",115)(17,$e,3,0,"div",115),e.k0s()(),e.DNE(18,Ve,2,1,"div",108),e.bVm()}if(2&d){const t=e.sdS(15),c=e.XpG(2);e.R7$(5),e.Y8G("checked",t.checked),e.R7$(6),e.Y8G("checked",t.checked),e.R7$(5),e.Y8G("ngIf",!c.isExpandedMaterial),e.R7$(),e.Y8G("ngIf",c.isExpandedMaterial),e.R7$(),e.Y8G("ngIf",c.isExpandedMaterial)}}function Xe(d,A){if(1&d){const t=e.RV6();e.j41(0,"mat-icon",125),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.togglePropertyExpansion())}),e.EFF(1,"expand_more"),e.k0s()}}function Ue(d,A){if(1&d){const t=e.RV6();e.j41(0,"mat-icon",116),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.togglePropertyExpansion())}),e.EFF(1,"expand_less"),e.k0s()}}function Ye(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",118)(1,"div",119),e.EFF(2),e.k0s(),e.j41(3,"div",80)(4,"input",120),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getCreateInventory(s,i.id,"propertyDashboard"))}),e.k0s()(),e.j41(5,"div",82)(6,"input",81),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getReadInventory(s,i.id,"propertyDashboard"))}),e.k0s()(),e.j41(7,"div")(8,"input",81),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getUpdateInventory(s,i.id,"propertyDashboard"))}),e.k0s()(),e.j41(9,"div")(10,"input",81),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getFullAccessInventory(s,i.id,"propertyDashboard"))}),e.k0s()()()}if(2&d){const t=A.$implicit,c=e.XpG(4);e.AVh("slide",c.isExpandedProperty),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.fullAccess)}}function Le(d,A){if(1&d&&(e.j41(0,"div"),e.DNE(1,Ye,11,7,"div",117),e.k0s()),2&d){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.propertyDashboard)}}function Je(d,A){if(1&d){const t=e.RV6();e.qex(0),e.j41(1,"div",103)(2,"div",110),e.EFF(3,"Property Dashboard"),e.k0s(),e.j41(4,"div",80)(5,"input",121,29),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(12),r=e.XpG(2);return e.Njj(r.clickOnMaterialDashboardModule(s,r.InventoryModuleArr,"create","inventoryProperty",i.checked))}),e.k0s()(),e.j41(7,"div",82)(8,"input",122,30),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clickOnMaterialDashboardModule(s,i.InventoryModuleArr,"read","inventoryProperty"))}),e.k0s()(),e.j41(10,"div")(11,"input",123,31),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(6),r=e.XpG(2);return e.Njj(r.clickOnMaterialDashboardModule(s,r.InventoryModuleArr,"update","inventoryProperty",i.checked))}),e.k0s()(),e.j41(13,"div",113)(14,"input",83,32),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clickOnMaterialDashboardModule(s,i.InventoryModuleArr,"fullAccess","inventoryProperty"))}),e.k0s(),e.DNE(16,Xe,2,0,"mat-icon",124)(17,Ue,2,0,"mat-icon",115),e.k0s()(),e.DNE(18,Le,2,1,"div",108),e.bVm()}if(2&d){const t=e.sdS(15),c=e.XpG(2);e.R7$(5),e.Y8G("checked",t.checked),e.R7$(6),e.Y8G("checked",t.checked),e.R7$(5),e.Y8G("ngIf",!c.isExpandedProperty),e.R7$(),e.Y8G("ngIf",c.isExpandedProperty),e.R7$(),e.Y8G("ngIf",c.isExpandedProperty)}}function qe(d,A){if(1&d&&(e.qex(0),e.DNE(1,Oe,11,6,"div",107)(2,we,19,5,"ng-container",108)(3,Je,19,5,"ng-container",108),e.bVm()),2&d){const t=A.$implicit;e.R7$(),e.Y8G("ngIf",!e.lJ4(3,ye).includes(t.name.trim())),e.R7$(),e.Y8G("ngIf","Material Category"===t.name),e.R7$(),e.Y8G("ngIf","Property"===t.name)}}let He=(()=>{class d{constructor(t,c,s,i,r,o,n){this.toastr=t,this.dialogRef=c,this.data=s,this.formbuilder=i,this.mainService=r,this.dialog=o,this.breakpointObserver=n,this.disabled=!0,this.moduleData=[],this.isLead=!1,this.isMaster=!1,this.isCollection=!1,this.isSale=!1,this.isFinancial=!1,this.isInventory=!1,this.isCreate=!1,this.isRead=!1,this.isUpdate=!1,this.isDelete=!1,this.isFullAccess=!1,this.isFullCreate=!1,this.checked=!1,this.featureArray=[],this.leadFeatureArr=[],this.masterFeatureArr=[],this.collectionFeatureArr=[],this.saleFeatureArr=[],this.financialfeatureArr=[],this.InventoryModuleArr=[],this.autoSelectIds=[],this.isExpandedMaterial=!1,this.isExpandedProperty=!1,this.materialDashboard=[],this.propertyDashboard=[],this.backDatedCreateIsDisable=!1,this.nameErrorData={requiredErrorMessage:"Buttons.Role_name_is_required",patternErrorMessage:"Buttons.Please_Enter_Valid_Role_Name"},this.addRoleForm=this.formbuilder.group({name:[null,[E.k0.required,E.k0.pattern(/[A-Za-z]/)]],role_id:[null],description:[null],full:[]})}getName(t){this.roleName=t.target.value}getDesc(t){this.roleDesc=t.target.value}handleLeadChecked(t,c,s=[],i){15==c&&this.featureArray.map(i?r=>(console.log(r),!r[t]&&s.includes(r.id)&&(r[t]=!0,this.autoSelectIds.push(r.id)),r):r=>(s.includes(r.id)&&(r[t]=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),console.log(r),r))}handleCustomerChecked(t,c,s=[],i){13==c&&this.featureArray.map(i?r=>(!r[t]&&s.includes(r.id)&&(r[t]=!0,this.autoSelectIds.push(r.id)),r):r=>(s.includes(r.id)&&(r[t]=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),r))}handleSaleChecked(t,c,s=[],i){18==c&&this.featureArray.map(i?r=>(!r[t]&&s.includes(r.id)&&(r[t]=!0,this.autoSelectIds.push(r.id)),r):r=>(s.includes(r.id)&&(r[t]=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),r))}getCreate(t,c,s){console.log(c),this.handleSaleChecked("read",c,[1,4,3,5,7,6,8,9,10,11,12,13,14,15,16,17,19],t.checked),this.handleSaleChecked("create",c,[10,11,12,14,15,16,17],t.checked),this.handleLeadChecked("create",c,[14],t.checked),this.handleLeadChecked("read",c,[1,3,5,8,4,6,14,7,15,19,12],t.checked),this.handleCustomerChecked("read",c,[1,4,3,7,6,8,9,10,11,12,13,14,15,16,17],t.checked),this.handleCustomerChecked("create",c,[10,11,12,14,15,16,17],t.checked),console.log("e.checked"),console.log(t.checked),this.isCreate=t.checked,this.isRead=t.checked,this.featureArray.map(i=>(i.id==c&&(i.create=this.isCreate,i.read=this.isRead),i))}getRead(t,c){this.isRead=t.checked,this.featureArray.map(s=>(s.id==c&&(s.read=this.isRead),s))}getCreateFinancial(t,c){const s=t.target.checked;this.isCreate=s,this.isRead=s;const i=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher"];let r=!0;this.featureArray.map(l=>(l.id==c&&(s?(l.create=this.isCreate,l.read=this.isRead,1==l.update&&(l.fullAccess=!0)):(l.create=this.isCreate,l.fullAccess=!1,1!=l.update&&(l.read=this.isRead,this.readFullTag5.nativeElement.checked=s),this.createReadAccess4.nativeElement.checked=s,this.allFullAccressForfinancial.nativeElement.checked=s)),i.includes(l.name)&&(l.create||l.read||l.update||l.delete)&&(r=!1),l)),this.financialfeatureArr.every(l=>l.create&&l.read&&l.update&&l.delete);const n=this.financialfeatureArr.every(l=>l.update),a=this.financialfeatureArr.every(l=>l.create);a&&(this.createReadAccess4.nativeElement.checked=!0),n&&(this.updateReadAccess4.nativeElement.checked=!0),n&&a&&(this.allFullAccressForfinancial.nativeElement.checked=!0);const h=this.featureArray.findIndex(l=>"Received Voucher"===l.name),u=this.featureArray.findIndex(l=>"Payment Voucher"===l.name),m=this.featureArray.findIndex(l=>"Contra Voucher"===l.name),y=this.featureArray.findIndex(l=>"Expense Voucher"===l.name),F=this.featureArray.findIndex(l=>"Journal Voucher"===l.name);this.featureArray=this.featureArray.map(l=>("Backdated Entries"==l.name&&"financial management"==l.moduleName&&(l.isDisabled=r,console.log("check toggle",r),this.featureArray[h].create||this.featureArray[u].create||this.featureArray[m].create||this.featureArray[y].create||this.featureArray[F].create||(l.create=!1)),l))}getCreateInventory(t,c,s){const i=t.target.checked;this.isCreate=i,this.isRead=i,this.handleInventoryChecked("create",s,["Materials"],i),this.handleFacilityChecked("create",s,["Property"],i);const r=["Purchase Voucher","Consumption Voucher","Purchases","Consumptions"];let o=!0;this.featureArray=this.featureArray.map(m=>(m.id==c&&(i?(m.create=this.isCreate,m.read=this.isRead,1==m.update&&(m.fullAccess=!0)):(m.create=this.isCreate,m.fullAccess=!1,1!=m.update&&(m.read=this.isRead),this.createReadAccessInventory.nativeElement.checked=i,this.allFullAccressForInventory.nativeElement.checked=i)),r.includes(m.name)&&(("Purchases"==m.name||"Consumptions"==m.name)&&(m.create=!1),(m.create||m.read)&&(o=!1)),m));const n=this.InventoryModuleArr.every(m=>m.create);console.log("allFullPermission"),console.log(n),n&&(this.createReadAccessInventory.nativeElement.checked=!0);const a=this.InventoryModuleArr.every(m=>m.update);console.log("allFullPermission"),console.log(n),a&&(this.updateReadAccessInventory.nativeElement.checked=!0),a&&n&&(this.allFullAccressForInventory.nativeElement.checked=!0);const h=this.featureArray.findIndex(m=>"Purchase Voucher"===m.name),u=this.featureArray.findIndex(m=>"Consumption Voucher"===m.name);this.featureArray=this.featureArray.map(m=>(console.log(m),"Backdated Entries"==m.name&&"Inventory Module"==m.moduleName&&!this.featureArray[h].create&&!this.featureArray[u].create&&(m.fullAccess=!1,m.create=!1),"Backdated Entries"!=m.name||"Inventory Module"!=m.moduleName||this.featureArray[h].create||this.featureArray[u].create?"Backdated Entries"==m.name&&"Inventory Module"==m.moduleName&&(m.isDisabledCreate=o,console.log("check toggle",o)):(m.isDisabledCreate=!0,m.isDisabledFullaccess=!0,m.fullAccess=!1,m.create=!1,m.read=!1,console.log("check toggle for data.id 42:",o)),m.isDisabledFullaccess=!(!m.isDisabledCreate&&!m.isDisabledUpdate),m))}handleInventoryChecked(t,c,s=[],i){if(console.log(c),"Material Category"==c)i?(console.log(t),this.featureArray.map(r=>(!r[t]&&s.includes(r.name)&&(r[t]=!0,("create"==t||"update"==t)&&(r.read=!0),"update"==t&&(r.create=!0,r.delete=!0),1==r.create&&1==r.update&&(r.fullAccess=!0),this.autoSelectIds.push(r.id)),r))):this.featureArray.map(r=>(s.includes(r.name)&&(r[t]=!1,r.fullAccess=!1,"create"==t?1!=r.update&&(r.read=i):"update"==t?(r.read=i,r.create=i,r.delete=i):"read"==t&&(1==r.create&&(r.create=!1),1==r.update&&(r.update=!1,r.delete=!1)),this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),console.log(r),r));else if("Materials"==c){const r=this.featureArray.findIndex(o=>"Material Category"==o.name);i||("create"==t?(this.featureArray[r].create=!1,this.featureArray[r].fullAccess=!1,1!=this.featureArray[r].update&&(this.featureArray[r].read=i)):"update"==t?(this.featureArray[r].fullAccess=!1,this.featureArray[r].create=!1,this.featureArray[r].read=!1,this.featureArray[r].update=!1):"read"==t&&(this.featureArray[r].fullAccess=!1,1==this.featureArray[r].create&&(this.featureArray[r].create=!1,this.featureArray[r].read=!1),1==this.featureArray[r].update?(this.featureArray[r].update=!1,this.featureArray[r].read=!1):(this.featureArray[r].fullAccess=!1,this.featureArray[r].read=!1)))}}handleFacilityChecked(t,c,s=[],i){if("Facilities"==c)i?(console.log("check if"),this.featureArray.map(r=>(!r[t]&&s==r.name&&(r[t]=!0,("create"==t||"update"==t)&&(r.read=!0),"update"==t&&(r.create=!0),1==r.create&&1==r.update&&(r.fullAccess=!0),this.autoSelectIds.push(r.id)),r))):(console.log("check else"),this.featureArray.map(r=>(s==r.name&&(r[t]=!1,r.fullAccess=!1,"create"==t?1!=r.update&&(r.read=i):"update"==t?(r.read=i,r.create=i):"read"==t&&(1==r.create&&(r.create=!1),1==r.update&&(r.update=!1)),this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),r)));else if("Property"==c){const r=this.featureArray.findIndex(o=>"Facilities"==o.name);i||("create"==t?(this.featureArray[r].create=!1,this.featureArray[r].fullAccess=!1,1!=this.featureArray[r].update&&(this.featureArray[r].read=i)):"update"==t?(this.featureArray[r].fullAccess=!1,this.featureArray[r].create=!1,this.featureArray[r].read=!1,this.featureArray[r].update=!1):"read"==t&&(1==this.featureArray[r].create&&(this.featureArray[r].create=!1,this.featureArray[r].read=!1),1==this.featureArray[r].update?(this.featureArray[r].update=!1,this.featureArray[r].read=!1):this.featureArray[r].read=!1))}}handleInventoryFullChecked(t,c,s=[],i){if("Material Category"==c)this.featureArray.map(i?r=>(!r[t]&&s.includes(r.name)&&(r.fullAccess=!0,r.create=!0,r.read=!0,r.update=!0,r.delete=!0,this.autoSelectIds.push(r.id)),r):r=>(s.includes(r.name)&&(r.fullAccess=!1,r.create=!1,r.read=!1,r.update=!1,r.delete=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),console.log(r),r));else if("Materials"==c){const r=this.featureArray.findIndex(o=>"Material Category"==o.name);i||(this.featureArray[r].fullAccess=!1,this.featureArray[r].create=!1,this.featureArray[r].read=!1,this.featureArray[r].update=!1)}}handleFacilityFullChecked(t,c,s=[],i){if("Facilities"==c)this.featureArray.map(i?r=>(!r[t]&&r.name==s&&(r.fullAccess=!0,r.create=!0,r.read=!0,r.update=!0,r.delete=!0,this.autoSelectIds.push(r.id)),r):r=>(r.name==s&&(r.fullAccess=!1,r.create=!1,r.read=!1,r.update=!1,r.delete=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),console.log(r),r));else if("Property"==c){const r=this.featureArray.findIndex(o=>"Facilities"==o.name);i||(this.featureArray[r].fullAccess=!1,this.featureArray[r].create=!1,this.featureArray[r].read=!1,this.featureArray[r].update=!1)}}getReadInventory(t,c,s,i=!1){const r=t.target.checked;this.isRead=r,this.handleInventoryChecked("read",s,["Materials"],r),this.handleFacilityChecked("read",s,["Property"],r);const o=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"],n=["Expenses Consumed"];let a=!0;this.featureArray.map(l=>(l.id==c&&(r?(l.read=this.isRead,"materialDashboard"==s||"propertyDashboard"==s?1==l.update&&(l.fullAccess=!0):(1==l.create&&1==l.update&&(l.fullAccess=!0),n.includes(l.name)&&(l.fullAccess=!0))):(l.read=this.isRead,l.fullAccess=!1,1==l.create&&(l.create=!1),1==l.update&&(l.update=!1),this.allFullAccressForInventory.nativeElement.checked=!1,this.readFullTagInventory.nativeElement.checked=!1,this.updateReadAccessInventory.nativeElement.checked=!1,"materialDashboard"!=s&&"propertyDashboard"!=s&&(this.createReadAccessInventory.nativeElement.checked=!1))),o.includes(l.name)&&(l.create||l.update)&&(a=!1),l));const h=this.featureArray.findIndex(l=>"Purchase Voucher"===l.name),u=this.featureArray.findIndex(l=>"Consumption Voucher"===l.name),m=this.featureArray.findIndex(l=>"Purchases"===l.name),y=this.featureArray.findIndex(l=>"Consumptions"===l.name);if(this.featureArray=this.featureArray.map(l=>("Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[h].create||this.featureArray[h].update||this.featureArray[u].create||this.featureArray[u].update||this.featureArray[m].update||this.featureArray[y].update?"Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update||this.featureArray[y].update?"Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[h].create||this.featureArray[u].create?"Backdated Entries"==l.name&&"Inventory Module"==l.moduleName&&(l.isDisabledUpdate=a,l.isDisabledFullaccess=a,"materialDashboard"!=s&&(l.isDisabledCreate=a),console.log("check toggle for data.id 42:",a)):(l.isDisabledCreate=!0,l.isDisabledFullaccess=!0,l.create=!1,console.log("check toggle for data.id 42:",a)):(l.isDisabledUpdate=!0,l.isDisabledFullaccess=!0,l.update=!1,console.log("check toggle for data.id 42:",a)):(l.isDisabledCreate=!0,l.isDisabledUpdate=!0,l.isDisabledFullaccess=!0,l.fullAccess=!1,l.create=!1,l.read=!1,l.update=!1,console.log("check toggle for data.id 42:",a)),l)),this.InventoryModuleArr.every(l=>l.read)&&(this.readFullTagInventory.nativeElement.checked=!0),"materialDashboard"==s){const l=this.materialDashboard.every(g=>g.read);console.log(l),l?this.materialDashboardReadAccess&&(this.materialDashboardReadAccess.nativeElement.checked=!0):this.materialDashboardReadAccess&&(this.materialDashboardReadAccess.nativeElement.checked=!1),this.materialDashboard.every(g=>g.read&&g.update&&g.delete)?this.materialDashboardFullAccess&&(this.materialDashboardFullAccess.nativeElement.checked=!0):this.materialDashboardFullAccess&&(this.materialDashboardFullAccess.nativeElement.checked=!1),i&&this.materialDashboard.forEach(g=>{1==g.read?g.readCheckbox=i:(g.updateCheckbox=!1,g.readCheckbox=!1,g.fullAccessCheckbox=!1)})}if("propertyDashboard"==s){this.propertyDashboardReadAccess.nativeElement.checked=!!this.propertyDashboard.every(g=>g.read);const _=this.propertyDashboard.every(g=>g.read&&g.update&&g.delete);console.log("allPermissionsTrueFull"),console.log(_),this.propertyDashboardFullAccess.nativeElement.checked=!!_}}getUpdateInventory(t,c,s,i=!1){const r=t.target.checked;this.isUpdate=r,this.isRead=r,this.handleInventoryChecked("update",s,["Materials"],r),this.handleFacilityChecked("update",s,["Property"],r),console.log(s);const o=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let n=!0;this.featureArray.map(l=>(l.id==c&&(r?"materialDashboard"==s||"propertyDashboard"==s?(l.update=this.isUpdate,l.delete=this.isUpdate,l.read=this.isRead,l.fullAccess=!0):(l.update=this.isUpdate,l.delete=this.isUpdate,l.read=this.isRead,l.create=!0,l.fullAccess=!0):("materialDashboard"==s||"propertyDashboard"==s?(l.update=this.isUpdate,l.delete=this.isUpdate,l.read=this.isRead,l.fullAccess=!1):(l.update=this.isUpdate,l.delete=this.isUpdate,l.fullAccess=!1,l.create=!1,l.read=this.isRead),this.allFullAccressForInventory.nativeElement.checked=r,this.updateReadAccessInventory.nativeElement.checked=r,"Backdated Entries"!=s&&(this.readFullTagInventory.nativeElement.checked=r),this.createReadAccessInventory.nativeElement.checked=r)),"materialDashboard"==s?(o.includes(l.name)&&l.update&&(n=!1),i&&this.materialDashboard.forEach(_=>{1==_.update?_.updateCheckbox=i:(_.updateCheckbox=!1,_.readCheckbox=!1,_.fullAccessCheckbox=!1)})):(("Purchases"==l.name||"Consumptions"==l.name)&&(l.create=!1),o.includes(l.name)&&l.update&&(n=!1)),l));const a=this.featureArray.findIndex(l=>"Purchase Voucher"===l.name),h=this.featureArray.findIndex(l=>"Consumption Voucher"===l.name),u=this.featureArray.findIndex(l=>"Purchases"===l.name),m=this.featureArray.findIndex(l=>"Consumptions"===l.name);this.featureArray=this.featureArray.map(l=>("Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[a].update||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update||this.featureArray[a].create||this.featureArray[h].create?"Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[a].update||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update?"Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[a].create||this.featureArray[h].create||"materialDashboard"==s?"Backdated Entries"==l.name&&"Inventory Module"==l.moduleName&&(l.isDisabledUpdate=n,console.log("check toggle for data.id 41:",n),"materialDashboard"!=s&&(l.isDisabledCreate=n),console.log("check toggle for data.id 42:",n),l.isDisabledFullaccess=!(!l.isDisabledUpdate&&!l.isDisabledCreate)):(l.isDisabledCreate=!0,l.isDisabledFullaccess=!0,l.create=!1,l.fullAccess=!1,console.log("check toggle for data.id 42:",n)):(console.log("check toggle for data.id 42:",n),l.isDisabledUpdate=!0,l.isDisabledFullaccess=!0,l.fullAccess=!1,l.update=!1):(l.isDisabledCreate=!0,l.isDisabledUpdate=!0,l.isDisabledFullaccess=!0,l.fullAccess=!1,l.create=!1,l.update=!1,console.log("check toggle for data.id 42:",n)),l));const y=this.InventoryModuleArr.every(l=>l.create);y&&(this.createReadAccessInventory.nativeElement.checked=!0,this.readFullTagInventory.nativeElement.checked=!0);const F=this.InventoryModuleArr.every(l=>l.update);if(F&&(this.updateReadAccessInventory.nativeElement.checked=!0,this.readFullTagInventory.nativeElement.checked=!0),F&&y&&(this.allFullAccressForInventory.nativeElement.checked=!0),"materialDashboard"==s){const l=this.materialDashboard.every(g=>g.read),_=this.materialDashboard.every(g=>g.update);l?(this.materialDashboardFullAccess&&(this.materialDashboardFullAccess.nativeElement.checked=!0),this.materialDashboardReadAccess&&(this.materialDashboardReadAccess.nativeElement.checked=!0)):this.readFullTagInventory&&(this.materialDashboardReadAccess.nativeElement.checked=!1,this.materialDashboardFullAccess.nativeElement.checked=!1),_?(this.materialDashboardReadAccess.nativeElement.checked=!0,this.materialDashboardUpdateAccess.nativeElement.checked=!0):(this.materialDashboardUpdateAccess.nativeElement.checked=!1,this.materialDashboardFullAccess.nativeElement.checked=!1)}if("propertyDashboard"==s){const l=this.propertyDashboard.every(g=>g.read),_=this.propertyDashboard.every(g=>g.update);this.propertyDashboardReadAccess.nativeElement.checked=!!l,_?(this.propertyDashboardUpdateAccess.nativeElement.checked=!0,this.propertyDashboardReadAccess.nativeElement.checked=!0):this.propertyDashboardUpdateAccess.nativeElement.checked=!1,this.propertyDashboardFullAccess.nativeElement.checked=!(!l||!_)}}getFullAccessInventory(t,c,s,i=!1){const r=t.target.checked;this.isFullAccess=r,this.handleInventoryFullChecked("full",s,["Materials"],r),this.handleFacilityFullChecked("full",s,["Property"],r);const o=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let n=!0;this.featureArray.map(p=>(p.id==c&&(p.fullAccess=this.isFullAccess,p.create=this.isFullAccess,p.read=this.isFullAccess,p.update=this.isFullAccess,p.delete=this.isFullAccess),o.includes(s)&&"Backdated Entries"==p.name&&"Inventory Module"==p.moduleName&&(p.isDisabled=!r),("Purchases"==p.name||"Consumptions"==p.name)&&(p.create=!1),o.includes(p.name)&&(p.create||p.read||p.update||p.delete)&&(n=!1),p));const a=this.featureArray.findIndex(p=>"Purchase Voucher"===p.name),h=this.featureArray.findIndex(p=>"Consumption Voucher"===p.name),u=this.featureArray.findIndex(p=>"Purchases"===p.name),m=this.featureArray.findIndex(p=>"Consumptions"===p.name);this.featureArray=this.featureArray.map(p=>("Backdated Entries"!=p.name||"Inventory Module"!=p.moduleName||this.featureArray[a].create||this.featureArray[a].update||this.featureArray[h].create||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update?"Backdated Entries"!=p.name||"Inventory Module"!=p.moduleName||this.featureArray[a].update||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update?"Backdated Entries"!=p.name||"Inventory Module"!=p.moduleName||this.featureArray[a].create||this.featureArray[h].create||"materialDashboard"==s?"Backdated Entries"==p.name&&"Inventory Module"==p.moduleName&&(p.isDisabledUpdate=n,"materialDashboard"!=s&&(p.isDisabledCreate=n),p.isDisabledFullaccess=!(!p.isDisabledCreate&&!p.isDisabledUpdate),console.log("check toggle for data.id 42:",n)):(p.isDisabledCreate=!0,p.isDisabledFullaccess=!0,p.create=!1,p.fullAccess=!1,console.log("check toggle for data.id 42:",n)):(p.isDisabledUpdate=!0,p.isDisabledFullaccess=!0,p.update=!1,p.fullAccess=!1,console.log("check toggle for data.id 42:",n)):(p.isDisabledCreate=!0,p.isDisabledUpdate=!0,p.isDisabledFullaccess=!0,p.fullAccess=!1,p.create=!1,p.read=!1,p.update=!1,console.log("check toggle for data.id 42:",n)),p)),this.InventoryModuleArr.every(p=>p.fullAccess)?(this.allFullAccressForInventory.nativeElement.checked=!0,this.readFullTagInventory.nativeElement.checked=!0,this.createReadAccessInventory.nativeElement.checked=!0,this.updateReadAccessInventory.nativeElement.checked=!0):(this.readFullTagInventory.nativeElement.checked=!1,this.allFullAccressForInventory.nativeElement.checked=!1,"Purchases"!=s&&"Consumptions"!=s&&"Reserve - Stock"!=s&&"For Sale - Stock"!=s&&"Booked"!=s&&"Sold"!=s&&(this.createReadAccessInventory.nativeElement.checked=!1),this.updateReadAccessInventory.nativeElement.checked=!1);const F=this.materialDashboard.every(p=>p.read),l=this.materialDashboard.every(p=>p.update);F?(this.materialDashboardFullAccess&&(this.materialDashboardFullAccess.nativeElement.checked=!0),this.materialDashboardReadAccess&&(this.materialDashboardReadAccess.nativeElement.checked=!0)):this.readFullTagInventory&&(this.materialDashboardReadAccess.nativeElement.checked=!1,this.materialDashboardFullAccess.nativeElement.checked=!1),l?(this.materialDashboardReadAccess.nativeElement.checked=!0,this.materialDashboardUpdateAccess.nativeElement.checked=!0):(this.materialDashboardUpdateAccess.nativeElement.checked=!1,this.materialDashboardFullAccess.nativeElement.checked=!1);const _=this.propertyDashboard.every(p=>p.read),g=this.propertyDashboard.every(p=>p.update);g&&_?(this.propertyDashboardUpdateAccess.nativeElement.checked=!0,this.propertyDashboardReadAccess.nativeElement.checked=!0,this.propertyDashboardFullAccess.nativeElement.checked=!0):(this.propertyDashboardReadAccess.nativeElement.checked=!!_,g?(this.propertyDashboardUpdateAccess.nativeElement.checked=!0,this.propertyDashboardReadAccess.nativeElement.checked=!0):this.propertyDashboardUpdateAccess.nativeElement.checked=!1),"materialDashboard"==s&&1==i&&this.materialDashboard.forEach(p=>{"Purchases"==p.name&&(1==p.fullAccess?p.fullAccessCheckbox=i:(p.updateCheckbox=!1,p.readCheckbox=!1,p.fullAccessCheckbox=!1))})}handlePurchases(t,c){const s=t.target.checked;let i=0;switch(this.featureArray.forEach(r=>{"Purchases"==r.name&&(i=r.id)}),s&&(this.moduleData[4].value=!0,this.isInventory=!0),c){case"read":(1==s||1!=this.materialDashboard[0]?.readCheckbox&&1!=this.materialDashboard[0]?.updateCheckbox&&1!=this.materialDashboard[0]?.fullAccessCheckbox)&&this.getReadInventory(t,i,"materialDashboard");break;case"update":1==s?this.getUpdateInventory(t,i,"materialDashboard",!1):1!=this.materialDashboard[0]?.updateCheckbox&&1!=this.materialDashboard[0]?.fullAccessCheckbox&&this.getUpdateInventory(t,i,"materialDashboard");break;case"full access":1==s?this.getFullAccessInventory(t,i,"materialDashboard"):(console.log(this.materialDashboard[0]?.fullAccessCheckbox),1!=this.materialDashboard[0]?.fullAccessCheckbox&&1!=this.materialDashboard[0]?.updateCheckbox&&this.getFullAccessInventory(t,i,"materialDashboard"))}s||this.InventoryModuleArr.some(o=>o.read||o.create||o.update)||(this.moduleData[4].value=!1,this.isInventory=!1)}getReadFinancial(t,c,s){const i=t.target.checked;this.isRead=i;let r=!0;const o=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher","All Transactions"],n=["Cash Health Report","Customer Payment Status","Sales","Receivables From Customers"],a=["All Transactions","Cheque Statement","Received From Customers"];this.featureArray.map(k=>(k.id==c&&(i?(k.read=this.isRead,1==k.create&&1==k.update&&(k.fullAccess=!0),n.includes(k.name)&&(k.fullAccess=!0)):(k.read=this.isRead,k.fullAccess=!1,1==k.create&&(k.create=!1),1==k.update&&(k.update=!1))),o.includes(k.name)&&(k.create||k.update)&&(r=!1),k));const h=this.financialfeatureArr.every(k=>{}),u=this.financialfeatureArr.every(k=>k.read),m=this.financialfeatureArr.every(k=>k.update);n.includes(s)||a.includes(s)?a.includes(s)?(m&&(this.updateReadAccess4.nativeElement.checked=!0),h?(this.readFullTag5.nativeElement.checked=!0,this.createReadAccess4.nativeElement.checked=!0):u&&(this.readFullTag5.nativeElement.checked=!0),this.createReadAccess4.nativeElement.checked&&this.updateReadAccess4.nativeElement.checked&&(this.allFullAccressForfinancial.nativeElement.checked=!0),i||(this.readFullTag5.nativeElement.checked=!1,this.allFullAccressForfinancial.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1)):(m&&(this.updateReadAccess4.nativeElement.checked=!0),h?(this.readFullTag5.nativeElement.checked=!0,this.createReadAccess4.nativeElement.checked=!0):u&&(this.readFullTag5.nativeElement.checked=!0),this.createReadAccess4.nativeElement.checked&&this.updateReadAccess4.nativeElement.checked&&(this.allFullAccressForfinancial.nativeElement.checked=!0),i||(this.readFullTag5.nativeElement.checked=!1,this.allFullAccressForfinancial.nativeElement.checked=!1)):(h?(this.readFullTag5.nativeElement.checked=!0,this.createReadAccess4.nativeElement.checked=!0):(this.readFullTag5.nativeElement.checked=!1,this.createReadAccess4.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1,this.allFullAccressForfinancial.nativeElement.checked=!1),this.readFullTag5.nativeElement.checked=!!u);const y=this.featureArray.findIndex(k=>"Received Voucher"===k.name),F=this.featureArray.findIndex(k=>"Payment Voucher"===k.name),l=this.featureArray.findIndex(k=>"Contra Voucher"===k.name),_=this.featureArray.findIndex(k=>"Expense Voucher"===k.name),g=this.featureArray.findIndex(k=>"Journal Voucher"===k.name),p=this.featureArray.findIndex(k=>"All Transactions"===k.name);this.featureArray=this.featureArray.map(k=>("Backdated Entries"==k.name&&"financial management"==k.moduleName&&(k.isDisabled=r,console.log("check toggle",r),!this.featureArray[y].create&&!this.featureArray[F].create&&!this.featureArray[l].create&&!this.featureArray[_].create&&!this.featureArray[g].create&&(k.create=!1,k.fullAccess=!1),!this.featureArray[y].update&&!this.featureArray[F].update&&!this.featureArray[l].update&&!this.featureArray[_].update&&!this.featureArray[g].update&&!this.featureArray[p].update&&(k.update=!1,k.fullAccess=!1)),k)),"All Transactions"==s&&this.handlePurchases(t,"read")}getUpdateFinancial(t,c,s){const i=t.target.checked;this.isUpdate=i,this.isRead=i;const r=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher","All Transactions"];let n=!0;this.featureArray.map(_=>(_.id==c&&(i?(_.update=this.isUpdate,_.delete=this.isUpdate,_.read=this.isRead,_.create=!0,_.fullAccess=!0):(_.update=this.isUpdate,_.delete=this.isUpdate,_.fullAccess=!1,_.create=!1,_.read=this.isRead)),r.includes(_.name)&&(_.create||_.read||_.update||_.delete)&&(n=!1),_));const a=this.featureArray.findIndex(_=>"Received Voucher"===_.name),h=this.featureArray.findIndex(_=>"Payment Voucher"===_.name),u=this.featureArray.findIndex(_=>"Contra Voucher"===_.name),m=this.featureArray.findIndex(_=>"Expense Voucher"===_.name),y=this.featureArray.findIndex(_=>"Journal Voucher"===_.name),F=this.featureArray.findIndex(_=>"All Transactions"===_.name);this.featureArray=this.featureArray.map(_=>("Backdated Entries"==_.name&&"financial management"==_.moduleName&&(_.isDisabled=n,console.log("check toggle",n),this.featureArray[a].update||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update||this.featureArray[y].update||this.featureArray[a].create||this.featureArray[h].create||this.featureArray[u].create||this.featureArray[m].create||this.featureArray[y].create||this.featureArray[F].update||(_.update=!1,_.create=!1,_.delete=!1,_.read=!1,_.fullAccess=!1)),_));const l=this.financialfeatureArr.every(_=>_.create&&_.read&&_.update&&_.delete);["All Transactions","Cash Health Report","Cheque Statement","Customer Payment Status","Sales","Receivables From Customers"].includes(s)||"Backdated Entries"==s?"Backdated Entries"!=s?l?(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0):(this.allFullAccressForfinancial.nativeElement.checked=!1,this.readFullTag5.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1):l?(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0):(this.updateReadAccess4.nativeElement.checked=!1,this.createReadAccess4.nativeElement.checked=!1,this.allFullAccressForfinancial.nativeElement.checked=!1):l?(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0):(this.allFullAccressForfinancial.nativeElement.checked=!1,this.readFullTag5.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1,this.createReadAccess4.nativeElement.checked=!1),"All Transactions"==s&&this.handlePurchases(t,"update")}getUpdate(t,c){this.handleLeadChecked("read",c,[1,3,5,8,4,6,14,7,15,19,12],t.checked),this.handleLeadChecked("create",c,[14],t.checked),this.handleSaleChecked("read",c,[1,4,3,5,7,6,8,9,10,11,12,13,14,15,16,17,19],t.checked),this.handleSaleChecked("create",c,[10,11,12,14,15,16,17],t.checked),this.isUpdate=t.checked,this.isRead=t.checked,this.featureArray.map(s=>(s.id==c&&(s.update=this.isUpdate,s.read=this.isRead),s))}getFullAccess(t,c){this.feaId=c,this.isFullAccess=t.checked,this.featureArray.map(s=>(s.id==c&&(s.fullAccess=this.isFullAccess,s.create=this.isFullAccess,s.read=this.isFullAccess,s.update=this.isFullAccess,s.delete=this.isFullAccess),console.log(s),s))}getFullAccessFinancial(t,c){const s=t.target.checked;this.feaId=c,this.isFullAccess=s;const i=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher","All Transactions"];let r=!0;this.featureArray.map(n=>(n.id==c&&(n.fullAccess=this.isFullAccess,n.create=this.isFullAccess,n.read=this.isFullAccess,n.update=this.isFullAccess,n.delete=this.isFullAccess),console.log(n),i.includes(n.name)&&(n.create||n.read||n.update||n.delete)&&(r=!1),n)),this.featureArray=this.featureArray.map(n=>(console.log(n.name),console.log(n.id),"Backdated Entries"==n.name&&"financial management"==n.moduleName&&(n.isDisabled=r,1==r&&(n.fullAccess=!1,n.create=!1,n.read=!1,n.update=!1,n.delete=!1),console.log("check toggle",r)),n)),this.financialfeatureArr.every(n=>"Only Bank Entries"==n.name||n.create&&n.read&&n.update&&n.delete)?(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0):(this.allFullAccressForfinancial.nativeElement.checked=!1,this.readFullTag5.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1,this.createReadAccess4.nativeElement.checked=!1),67==c&&this.handlePurchases(t,"full access")}clickOnModule(t,c,s,i="",r=!1,o=15){if("read"!=s&&"master"==i)this.readFullTag.checked=t.checked||r;else if("read"!=s&&"lead"==i)this.readFullTag1.checked=t.checked||r;else if("read"!=s&&"collection"==i)this.readFullTag2.checked=t.checked||r;else if("read"!=s&&"sale"==i)this.readFullTag3.checked=t.checked||r;else if("read"!=s&&"financial"==i);else if("read"!=s&&"inventory"==i){const n=t.target.checked;console.log(n,"isChecked"),this.readFullTagInventory.nativeElement.checked=n||r}if("create"==s&&"master"==i)this.handleCustomerChecked("read",13,[1,4,3,7,6,8,9,10,11,12,13,14,15,16,17],t.checked),this.handleCustomerChecked("create",13,[10,11,12,14,15,16,17],t.checked),c.map(n=>{console.log(n),n.create=t.checked,1!=n.update&&(n.read=t.checked);const a=this.featureArray.findIndex(h=>"Properties"===h.name);this.propertyResult&&(this.featureArray[a].create=!1,this.featureArray[a].update=!1,this.featureArray[a].read=!1,this.featureArray[a].full=!1),console.log("first")});else if("create"==s&&"lead"==i)this.handleLeadChecked("create",15,[14],t.checked),this.handleLeadChecked("read",15,[1,3,5,8,4,6,14,7,15,19,12],t.checked),c.map(n=>{n.create=t.checked,1!=n.update&&(n.read=t.checked),console.log("first")});else if("create"==s&&"sale"==i)this.handleSaleChecked("read",18,[1,4,3,5,7,6,8,9,10,11,12,13,14,15,16,17,19],t.checked),this.handleSaleChecked("create",18,[10,11,12,14,15,16,17],t.checked),c.map(n=>{n.create=t.checked,1!=n.update&&(n.read=t.checked),console.log("first")});else if("create"==s&&"collection"==i)c.map(n=>{n.create=t.checked,1!=n.update&&(n.read=t.checked),console.log("first")});else if("create"==s&&"financial"==i){const n=t.target.checked;c.map(a=>{a.create=n,0==n&&(a.fullAccess=n,this.allFullAccressForfinancial.nativeElement.checked=n),this.updateReadAccess4.nativeElement.checked||(a.read=n,this.readFullTag5.nativeElement.checked=n),"Backdated Entries"==a.name&&"financial management"==a.moduleName&&(a.isDisabled=1!=a.update&&1!=a.create)})}else if("create"==s&&"inventory"==i){const n=t.target.checked;c.map(a=>{a.create=n,0==n&&(a.fullAccess=n,this.allFullAccressForInventory.nativeElement.checked=n),this.materialDashboardCreateAccess.nativeElement.checked=n,this.propertyDashboardCreateAccess.nativeElement.checked=n,1!=a.update&&(a.read=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardReadAccess.nativeElement.checked=n),"Backdated Entries"==a.name&&"Inventory Module"==a.moduleName&&(1==a.create?a.isDisabledCreate=!1:(a.isDisabledCreate=!0,a.isDisabledFullaccess=!0))}),this.materialDashboard.map(a=>{a.create=n,1!=a.update&&(a.read=n)}),this.propertyDashboard.map(a=>{a.create=n,1!=a.update&&(a.read=n)})}else if("update"==s&&"inventory"==i){const n=t.target.checked;c.map(a=>{a.update=n,a.delete=n,this.materialDashboardUpdateAccess.nativeElement.checked=n,this.propertyDashboardUpdateAccess.nativeElement.checked=n,a.create=n,a.read=n,a.fullAccess=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardReadAccess.nativeElement.checked=n,this.materialDashboardFullAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n,this.readFullTagInventory.nativeElement.checked=n,this.createReadAccessInventory.nativeElement.checked=n,console.log("second"),"Backdated Entries"==a.name&&"Inventory Module"==a.moduleName&&(1==a.update?(a.isDisabledUpdate=!1,a.isDisabledCreate=!1,a.isDisabledFullaccess=!1):(a.isDisabledUpdate=!0,a.isDisabledCreate=!0,a.isDisabledFullaccess=!0))}),this.materialDashboard.map(a=>{a.update=n,a.delete=n,a.create=n,a.read=n,a.fullAccess=n,console.log("second")}),this.propertyDashboard.map(a=>{a.update=n,a.delete=n,a.create=n,a.read=n,a.fullAccess=n,console.log("second")})}else if("update"==s&&"financial"==i){const n=t.target.checked;c.map(a=>{("Only Bank Entries"!=a.name||0==n)&&(a.update=n,a.delete=n,a.create=n,a.read=n,a.fullAccess=n),"Backdated Entries"==a.name&&"financial management"==a.moduleName&&(a.isDisabled=1!=a.update&&1!=a.create)}),this.allFullAccressForfinancial.nativeElement.checked=n,this.createReadAccess4.nativeElement.checked=n,this.updateReadAccess4.nativeElement.checked=n,this.readFullTag5.nativeElement.checked=n,this.handlePurchases(t,"update")}else if("update"==s){if(c.map(n=>{console.log(n),n.update=t.checked,1!=n.create&&(n.read=t.checked),console.log("second")}),"master"==i){const n=this.featureArray.findIndex(a=>"Properties"===a.name);this.propertyResult&&(this.featureArray[n].create=!1,this.featureArray[n].update=!1,this.featureArray[n].read=!1,this.featureArray[n].full=!1)}}else if("full"==s&&"master"==i){this.handleCustomerChecked("read",13,[1,4,3,7,6,8,9,10,11,12,13,14,15,16,17],t.checked),this.handleCustomerChecked("create",13,[10,11,12,14,15,16,17],t.checked),c.map(a=>{a[s]=t.checked,a.create=t.checked,a.read=t.checked,a.update=t.checked,a.fullAccess=t.checked,console.log("Third")});const n=this.featureArray.findIndex(a=>"Properties"===a.name);this.propertyResult&&(this.featureArray[n].create=!1,this.featureArray[n].update=!1,this.featureArray[n].read=!1,this.featureArray[n].full=!1)}else if("full"==s&&"lead"==i)this.handleLeadChecked("create",15,[14],t.checked),this.handleLeadChecked("read",15,[1,3,5,8,4,6,14,7,15,19,12],t.checked),c.map(n=>{n[s]=t.checked,n.create=t.checked,n.read=t.checked,n.update=t.checked,console.log("Third")});else if("full"==s&&"collection"==i)c.map(n=>{n[s]=t.checked,n.create=t.checked,n.read=t.checked,n.update=t.checked,console.log("Third")});else if("full"==s&&"sale"==i)this.handleSaleChecked("read",18,[1,4,3,5,7,6,8,9,10,11,12,13,14,15,16,17,19],t.checked),this.handleSaleChecked("create",18,[10,11,12,14,15,16,17],t.checked),c.map(n=>{n[s]=t.checked,n.create=t.checked,n.read=t.checked,n.update=t.checked,console.log("Third")});else if("full"==s&&"financial"==i){const n=t.target.checked;c.map(a=>{"Only Bank Entries"!=a.name?(a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n):0==n&&(a.update=n,a.delete=n,a.create=n,a.read=n,a.fullAccess=n),"Backdated Entries"==a.name&&"financial management"==a.moduleName&&(a.isDisabled=1!=n)}),n||(this.updateReadAccess4.nativeElement.checked=n,this.readFullTag5.nativeElement.checked=n,this.createReadAccess4.nativeElement.checked=n),this.handlePurchases(t,"full access")}else if("full"==s&&"inventory"==i){const n=t.target.checked;this.materialDashboardFullAccess.nativeElement.checked=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n,this.propertyDashboardReadAccess.nativeElement.checked=n,c.map(a=>{console.log(a.name),a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n,"Backdated Entries"==a.name&&"Inventory Module"==a.moduleName&&(1==n?(a.isDisabledCreate=!1,a.isDisabledUpdate=!1,a.isDisabledFullaccess=!1):(a.isDisabledCreate=!0,a.isDisabledUpdate=!0,a.isDisabledFullaccess=!0))}),this.materialDashboard.map(a=>{a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n}),this.propertyDashboard.map(a=>{a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n}),n||(this.updateReadAccessInventory.nativeElement.checked=n,this.createReadAccessInventory.nativeElement.checked=n)}else if("inventory"==i){const n=t.target.checked;c.map(a=>{n?(a[s]=n,"Backdated Entries"==a.name&&"Inventory Module"==a.moduleName&&(a.read=!1),this.materialDashboardReadAccess.nativeElement.checked=n||r,this.propertyDashboardReadAccess.nativeElement.checked=n||r,console.log("Fourth")):(this.allFullAccressForInventory.nativeElement.checked=n,this.materialDashboardFullAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardReadAccess.nativeElement.checked=n,this.createReadAccessInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n)}),this.materialDashboard.map(a=>{a[s]=n,console.log("Fourth")}),this.propertyDashboard.map(a=>{a[s]=n,console.log("Fourth")})}else if("financial"==i){const n=t.target.checked;c.map(a=>{n?(a.read=n,console.log("Fourth"),"Backdated Entries"==a.name&&"financial management"==a.moduleName&&(a.read=!1)):(this.allFullAccressForfinancial.nativeElement.checked=n,this.createReadAccess4.nativeElement.checked=n,this.updateReadAccess4.nativeElement.checked=n,a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n)}),this.handlePurchases(t,"read")}else{const n=t.target.checked;if(c.map(a=>{a[s]=n,a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n}),"masterFull"==i&&(this.propertyResult=null),"master"==i){const a=this.featureArray.findIndex(h=>"Properties"===h.name);this.propertyResult&&(this.featureArray[a].create=!1,this.featureArray[a].update=!1,this.featureArray[a].read=!1,this.featureArray[a].full=!1)}}}onClickModuleForFinancial(t,c,s,i=!1){"read"!=s&&"create"!=s&&(this.readFullTag5.checked=t.checked||i),"create"==s?c.map(r=>{r.create=t.checked}):"read"==s?c.map(r=>{r.readFinancial=t.checked}):"update"==s?c.map(r=>{r.updateFinancial=t.checked,r.readFinancial=t.checked}):"full"==s&&c.map(r=>{r[s]=t.checked,r.create=t.checked,r.readFinancial=t.checked,r.updateFinancial=t.checked})}ngOnInit(){this.roleData=this.dialogRef.componentInstance.data.roleData,this.mainService.getModules().subscribe(t=>{this.moduleRes=t,this.modules=this.moduleRes.modules,this.moduleData=[],this.leadFeatureArr=[],this.masterFeatureArr=[],this.collectionFeatureArr=[],this.saleFeatureArr=[],this.InventoryModuleArr=[],this.modules.forEach(c=>{switch(c.name){case"Lead":this.leadFeature=c.Features,this.leadFeature.forEach(s=>{this.leadFeatureArr.push({id:s.id,name:s.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess,featureName:this.leadFeature,Module_id:s.Module_Feature.module_id,Module_feature_id:s.Module_Feature.id})});break;case"Master":this.masterFeature=c.Features,this.masterFeature.map(s=>{this.masterFeatureArr.push({id:s.id,name:s.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess,fullCreate:this.isFullCreate,moduleName:c.name,Module_id:s.Module_Feature.module_id,Module_feature_id:s.Module_Feature.id})});break;case"Collection":this.collectionFeature=c.Features,this.collectionFeature.forEach(s=>{this.collectionFeatureArr.push({id:s.id,name:s.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess,moduleName:c.name,Module_id:s.Module_Feature.module_id,Module_feature_id:s.Module_Feature.id})});break;case"Sale":this.saleFeature=c.Features,this.saleFeature.forEach(s=>{this.saleFeatureArr.push({id:s.id,name:s.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess,Module_id:s.Module_Feature.module_id,Module_feature_id:s.Module_Feature.id})});break;case"financial management":this.financialFeature=c.Features,this.financialFeature.forEach(s=>{console.log(s),this.financialfeatureArr.push({id:s.id,name:s.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess,moduleName:c.name,Module_id:s.Module_Feature.module_id,isDisabled:"Backdated Entries"==s.name,Module_feature_id:s.Module_Feature.id})});break;case"Inventory Module":this.inventoryFeature=c.Features,this.inventoryFeature.forEach(s=>{console.log(s),this.InventoryModuleArr.push({id:s.id,name:s.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess,moduleName:c.name,Module_id:s.Module_Feature.module_id,Module_feature_id:s.Module_Feature.id,isDisabledCreate:"Backdated Entries"==s.name,isDisabledUpdate:"Backdated Entries"==s.name,isDisabledFullaccess:"Backdated Entries"==s.name})})}this.moduleData.push({id:c.id?c.id:null,name:c.name?c.name:null})}),this.featureArray=this.masterFeatureArr.concat(this.leadFeatureArr).concat(this.collectionFeatureArr).concat(this.saleFeatureArr).concat(this.financialfeatureArr).concat(this.InventoryModuleArr),this.materialDashboard=this.InventoryModuleArr.filter(c=>"Purchases"===c.name||"Consumptions"===c.name),this.propertyDashboard=this.InventoryModuleArr.filter(c=>["Reserve - Stock","For Sale - Stock","Booked","Sold"].includes(c.name.trim())),console.log(this.InventoryModuleArr),console.log(this.materialDashboard),console.log(this.propertyDashboard)})}getLeadFeature(t,c){this.moduleName=t,0==c.target.checked&&"Lead"==this.moduleName?this.isLead=!1:0==c.target.checked&&"Master"==this.moduleName?(this.isMaster=!1,this.propertyResult=null):1==c.target.checked&&"Lead"==this.moduleName?this.isLead=!0:1==c.target.checked&&"Master"==this.moduleName?this.isMaster=!0:1==c.target.checked&&"Collection"==this.moduleName?this.isCollection=!0:0==c.target.checked&&"Collection"==this.moduleName?this.isCollection=!1:1==c.target.checked&&"Sale"==this.moduleName?this.isSale=!0:0==c.target.checked&&"Sale"==this.moduleName?this.isSale=!1:1==c.target.checked&&"financial management"==this.moduleName?this.isFinancial=!0:0==c.target.checked&&"financial management"==this.moduleName?this.isFinancial=!1:1==c.target.checked&&"Inventory Module"==this.moduleName?this.isInventory=!0:0==c.target.checked&&"Inventory Module"==this.moduleName&&(this.isInventory=!1)}submit(t){if(!this.addRoleForm.valid)return void this.toastr.error("Please Fill All the Mandatory Fields");this.featureArray.forEach(s=>{1==s.updateFinancial&&1==s.readFinancial?(s.update=!0,s.read=!0):1==s.readFinancial?s.read=!0:1==s.updateFinancial&&(s.update=!0,s.delete=!0)}),console.log(this.featureArray),this.finalFeatures=this.featureArray.filter(s=>(s.delete=s.update,1==s.create||1==s.read||1==s.update||1==s.delete||1==s.fullAccess)).map(s=>{const{fullAccess:i,...r}=s;return{...r,full_access:i}});let c={name:t.name,description:t.description,role_id:t.role_id,modulePermission:JSON.stringify({lead:this.isLead,master:this.isMaster,collection:this.isCollection,sale:this.isSale,financial_management:this.isFinancial,inventory_module:this.isInventory}),featureAccessPermission:JSON.stringify(this.finalFeatures)};this.mainService.addRole(c).subscribe(s=>{this.data=s,this.data.success&&(this.propertyResult?this.limitedAccessPermission(this.data.role.id):(this.dialogRef.close(this.data),this.toastr.success(this.data.message)))},s=>{this.data=s,this.errorMsg=this.data.error.error.name,this.toastr.error(this.errorMsg)})}limitedAccessPermission(t){this.mainService.setPropertyPermissions({role_id:t,propertySelectedAll:this.propertyResult.checkedAllProperty,propertyUnselectedId:this.propertyResult.deSelectedProperty,propertySelectedId:this.propertyResult.propertyIdsForPermission,project:this.propertyResult.queryParamData?.project??null,projectBlocksTypes:this.propertyResult.queryParamData?.projectBlocksTypes??null,propertyFeature:this.propertyResult.queryParamData?.propertyFeature??null,propertyType:this.propertyResult.queryParamData?.propertyType??null,status:this.propertyResult.queryParamData?.status??null,subStatus:this.propertyResult.queryParamData?.subStatus??null,tag:this.propertyResult.queryParamData?.category.length?this.propertyResult.queryParamData?.category:null,search:""!=this.propertyResult.search?this.propertyResult.search:null}).subscribe(s=>{this.data=s,this.dialogRef.close(this.data),this.toastr.success(this.data.message)},s=>{this.data=s,this.errorMsg=this.data.error.error.name,this.toastr.error(this.errorMsg)})}save(){this.dialogRef.close()}close(){this.dialogRef.close()}openDialog(){this.breakpointObserver.observe([R.Rp.XSmall,R.Rp.Small,R.Rp.Medium,R.Rp.Large,R.Rp.XLarge]).subscribe(t=>{let c="1200px",s="700px";t.breakpoints[R.Rp.XSmall]?(c="100%",s="100%"):t.breakpoints[R.Rp.Small]?(c="100%",s="80%"):t.breakpoints[R.Rp.Medium]?(c="80%",s="80%"):t.breakpoints[R.Rp.Large]?(c="60%",s="80%"):t.breakpoints[R.Rp.XLarge]&&(c="50%",s="70%"),this.dialog.open(X.Z,{width:"1200px",height:"700px",data:{forPermission:!0,permissionData:null!=this.propertyResult?JSON.parse(JSON.stringify(this.propertyResult)):this.propertyResult,type:"role",role_id:0}}).afterClosed().subscribe(r=>{if(r)if(this.propertyResult=r,this.propertyResult.reset)this.propertyResult=null;else{const o=this.masterFeatureArr.find(n=>"Properties"===n.name);console.log(o),o&&(o.create=!1,o.read=!1,o.update=!1,o.full=!1,o.fullAccess=!1)}})})}toggleMaterialExpansion(){this.isExpandedMaterial=!this.isExpandedMaterial}togglePropertyExpansion(){this.isExpandedProperty=!this.isExpandedProperty}clickOnMaterialDashboardModule(t,c,s,i="",r=!1){const o=t.target.checked;if("inventoryMaterial"==i){const n=t.target.checked;if("read"!=s&&"inventoryMaterial"==i){const a=t.target.checked;console.log(a,"isChecked"),this.materialDashboardReadAccess.nativeElement.checked=a||r}if("create"==s&&"inventoryMaterial"==i){const a=t.target.checked;c.forEach(h=>{this.materialDashboard.some(u=>u.id===h.id)&&(h.create=a,1!=h.update&&(h.read=a))})}else if("update"==s&&"inventoryMaterial"==i)c.forEach(h=>{this.materialDashboard.some(u=>u.id===h.id)&&(h.update=n,h.delete=n,h.fullAccess=n,h.read=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.materialDashboardFullAccess.nativeElement.checked=n)}),this.InventoryModuleArr.every(h=>h.read&&h.update)&&n&&(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n),n||(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n);else if("read"==s&&"inventoryMaterial"==i){const a=t.target.checked;c.forEach(u=>{this.materialDashboard.some(m=>m.id===u.id)&&(u.read=a,a||(u.update=a,u.fullAccess=a))}),a||(this.materialDashboardUpdateAccess.nativeElement.checked=a,this.materialDashboardFullAccess.nativeElement.checked=a);const h=this.InventoryModuleArr.every(u=>u.read);console.log(h),h&&a&&(this.readFullTagInventory.nativeElement.checked=a),a||(this.readFullTagInventory.nativeElement.checked=a,this.updateReadAccessInventory.nativeElement.checked=a,this.allFullAccressForInventory.nativeElement.checked=a)}else c.forEach(h=>{this.materialDashboard.some(u=>u.id===h.id)&&(h[s]=n,h.read=n,h.update=n,h.delete=n)}),this.InventoryModuleArr.every(h=>h.create&&h.read&&h.update&&h.delete)&&n&&(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n),n||(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n);if("read"!=s){const a=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let h=!0;c.forEach(u=>{("Purchases"==u.name||"Consumptions"==u.name)&&(u.create=!1),a.includes(u.name)&&u.update&&(h=!1),"Backdated Entries"==u.name&&"Inventory Module"==u.moduleName&&(console.log(h),u.isDisabledUpdate=h,u.isDisabledFullaccess=h,h&&(u.fullAccess=!1,u.create=!1,u.read=!1,u.update=!1),u.isDisabledFullaccess=!(!u.isDisabledCreate&&!u.isDisabledUpdate))})}else{const a=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let h=!0;c.forEach(u=>{("Purchases"==u.name||"Consumptions"==u.name)&&(u.create=!1),a.includes(u.name)&&u.update&&(h=!1),"Backdated Entries"==u.name&&"Inventory Module"==u.moduleName&&(console.log(h),u.isDisabledUpdate=h,h&&(u.fullAccess=!1,u.create=!1,u.read=!1,u.update=!1),u.isDisabledFullaccess=!(!u.isDisabledCreate&&!u.isDisabledUpdate))})}}else{if("read"!=s&&"inventoryProperty"==i){const n=t.target.checked;console.log(n,"isChecked"),this.propertyDashboardReadAccess.nativeElement.checked=n||r}if("create"==s&&"inventoryProperty"==i){const n=t.target.checked;c.forEach(a=>{this.propertyDashboard.some(h=>h.id===a.id)&&(a.create=n,1!=a.update&&(a.read=n))})}else if("update"==s&&"inventoryProperty"==i){const n=t.target.checked;c.forEach(h=>{this.propertyDashboard.some(u=>u.id===h.id)&&(h.update=n,h.delete=n,h.fullAccess=n,h.read=n,this.propertyDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n)}),this.InventoryModuleArr.every(h=>h.read&&h.update)&&n&&(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n),n||(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n)}else if("read"==s&&"inventoryProperty"==i){const n=t.target.checked;c.forEach(h=>{this.propertyDashboard.some(u=>u.id===h.id)&&(h.read=n,n||(h.update=n,h.fullAccess=n))}),n||(this.propertyDashboardUpdateAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n);const a=this.InventoryModuleArr.every(h=>h.read);console.log(a),a&&n&&(this.readFullTagInventory.nativeElement.checked=n),n||(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n)}else c.forEach(a=>{this.propertyDashboard.some(h=>h.id===a.id)&&(a[s]=o,a.read=o,a.update=o,a.delete=o)}),this.InventoryModuleArr.every(a=>a.create&&a.read&&a.update&&a.delete)&&o&&(this.readFullTagInventory.nativeElement.checked=o,this.updateReadAccessInventory.nativeElement.checked=o,this.allFullAccressForInventory.nativeElement.checked=o),o||(this.readFullTagInventory.nativeElement.checked=o,this.updateReadAccessInventory.nativeElement.checked=o,this.allFullAccressForInventory.nativeElement.checked=o)}}static#e=this.\u0275fac=function(c){return new(c||d)(e.rXU(O.tw),e.rXU(x.CP),e.rXU(x.Vh),e.rXU(E.ok),e.rXU(S.t),e.rXU(x.bZ),e.rXU(R.QP))};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["app-add-role"]],viewQuery:function(c,s){if(1&c&&(e.GBs(Z,5),e.GBs(K,5),e.GBs(ee,5),e.GBs(te,5),e.GBs(se,5),e.GBs(re,5),e.GBs(ne,5),e.GBs(ie,5),e.GBs(ae,5),e.GBs(ce,5),e.GBs(le,5),e.GBs(oe,5),e.GBs(de,5),e.GBs(he,5),e.GBs(ue,5),e.GBs(pe,5),e.GBs(fe,5),e.GBs(me,5),e.GBs(_e,5),e.GBs(ge,5),e.GBs(ke,5)),2&c){let i;e.mGM(i=e.lsd())&&(s.readFullTag=i.first),e.mGM(i=e.lsd())&&(s.readFullTag1=i.first),e.mGM(i=e.lsd())&&(s.readFullTag2=i.first),e.mGM(i=e.lsd())&&(s.readFullTag3=i.first),e.mGM(i=e.lsd())&&(s.readFullTag4=i.first),e.mGM(i=e.lsd())&&(s.readFullTag5=i.first),e.mGM(i=e.lsd())&&(s.readFullTagInventory=i.first),e.mGM(i=e.lsd())&&(s.materialDashboardReadAccess=i.first),e.mGM(i=e.lsd())&&(s.propertyDashboardReadAccess=i.first),e.mGM(i=e.lsd())&&(s.materialDashboardFullAccess=i.first),e.mGM(i=e.lsd())&&(s.propertyDashboardFullAccess=i.first),e.mGM(i=e.lsd())&&(s.materialDashboardCreateAccess=i.first),e.mGM(i=e.lsd())&&(s.materialDashboardUpdateAccess=i.first),e.mGM(i=e.lsd())&&(s.propertyDashboardCreateAccess=i.first),e.mGM(i=e.lsd())&&(s.propertyDashboardUpdateAccess=i.first),e.mGM(i=e.lsd())&&(s.allFullAccressForInventory=i.first),e.mGM(i=e.lsd())&&(s.createReadAccessInventory=i.first),e.mGM(i=e.lsd())&&(s.updateReadAccessInventory=i.first),e.mGM(i=e.lsd())&&(s.allFullAccressForfinancial=i.first),e.mGM(i=e.lsd())&&(s.createReadAccess4=i.first),e.mGM(i=e.lsd())&&(s.updateReadAccess4=i.first)}},decls:216,vars:108,consts:[["createReadAccess",""],["readFullTag",""],["updateReadAccess",""],["allFullAccress",""],["createReadAccess1",""],["readFullTag1",""],["updateReadAccess1",""],["allFullAccressForLead",""],["createReadAccess3",""],["readFullTag3",""],["updateReadAccess3",""],["allFullAccressForSale",""],["createReadAccess4",""],["readFullTag5",""],["updateReadAccess4",""],["allFullAccressForfinancial",""],["createReadAccessInventory",""],["readFullTagInventory",""],["updateReadAccessInventory",""],["allFullAccressForInventory",""],["checkboxes",""],["createReadAccess2",""],["readFullTag2",""],["updateReadAccess2",""],["allFullAccressForCollection",""],["materialDashboardCreateAccess",""],["materialDashboardReadAccess",""],["materialDashboardUpdateAccess",""],["materialDashboardFullAccess",""],["propertyDashboardCreateAccess",""],["propertyDashboardReadAccess",""],["propertyDashboardUpdateAccess",""],["propertyDashboardFullAccess",""],[1,"app-main__inner"],[1,"dialog-page-title","add-project-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"close-icon",3,"click"],[1,"tab-content"],["id","tab-content-0","role","tabpanel",1,"tab-pane","tabs-animation","fade","show","active"],[2,"padding","10px"],[1,"main-card","mb-3","card"],[1,"card-body"],["appFormAutoFocus","","autocomplete","off",3,"ngSubmit","formGroup"],["appearance","outline","hideRequiredMarker",""],[1,"starmandatory"],["matInput","","formControlName","name",3,"placeholder"],[1,"error_margin"],[3,"control","errordata"],["appearance","outline"],["matInput","","formControlName","description",3,"placeholder"],[1,"permission_head"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"row","feature-access-row"],[1,"col-md-12"],[1,"back",2,"overflow-y","scroll",3,"ngStyle"],[1,"headerCursor"],[2,"background-color","rgba(1, 153, 153, 0.87)"],[1,"feature_name",2,"color","aliceblue"],[1,"access_permissions"],["name","create",3,"change","checked"],["name","read","id","readFullTag",3,"change"],["name","update",3,"change","checked"],[3,"change"],[4,"ngFor","ngForOf"],[1,"m-1","headerCursor"],[1,"feature_name",2,"color","aliceblue","padding-left","5px"],["name","read","id","readFullTag1",3,"change"],["s","",1,"access_permissions"],["style","overflow-y: scroll","class","back",4,"ngIf"],["name","read","id","readFullTag3",3,"change"],[3,"ngStyle"],[2,"color","#018323"],[1,"permissions-header"],[1,"fontcls",2,"width","100px"],[1,"fontcls",2,"margin-left","15px"],[1,"fontcls"],[1,"permission-row"],[1,"fontclsforlist",2,"width","100px"],[2,"margin-left","20px"],["type","checkbox",3,"change","checked"],[2,"margin-left","10px"],["type","checkbox",3,"change"],["type","submit",1,"mt-1","btn","btn-primary"],[1,"col-md-4"],["type","checkbox",1,"input-class","regular-checkbox",3,"change","id","checked","value"],[1,"module_name",3,"for"],[1,"feature_name"],["name","create",3,"change","checked","disabled"],["name","read",3,"change","checked","disabled"],["name","update",3,"change","checked","disabled"],[3,"change","checked","disabled"],["style","border-bottom: 1px solid black;",4,"ngIf"],[2,"border-bottom","1px solid black"],[2,"padding-right","10px"],["mat-stroked-button","","type","button",3,"click","ngStyle"],["name","read",3,"change","checked"],[3,"change","checked"],[1,"back",2,"overflow-y","scroll"],[2,"width","100%"],[3,"click"],["name","read","id","readFullTag2",3,"change"],[1,"permission-rowTow"],[1,"fontclsforlist","element",2,"width","100"],["type","checkbox",3,"disabled","checked","change",4,"ngIf"],["type","checkbox",3,"change","disabled","checked"],["class","permission-rowTow",4,"ngIf"],[4,"ngIf"],["type","checkbox",3,"checked","change",4,"ngIf"],[1,"fontclsforlist",2,"width","103px"],["id","materialDashboardCreateAccess","type","checkbox",2,"display","none",3,"change","checked"],["type","checkbox","id","materialDashboardReadAccess",3,"change"],[2,"display","flex","flex-direction","row","text-align","center","padding-right","8px"],["id","materialDashboardFullAccess","type","checkbox",3,"change"],["style","margin-left: 10px;",3,"click",4,"ngIf"],[2,"margin-left","10px",3,"click"],["class","permission-row slide-target",3,"slide",4,"ngFor","ngForOf"],[1,"permission-row","slide-target"],[1,"fontclsforlist","element",2,"width","50"],["type","checkbox",2,"display","none",3,"change","checked"],["type","checkbox","id","propertyDashboardCreateAccess",2,"display","none",3,"change","checked"],["type","checkbox","id","propertyDashboardReadAccess",3,"change"],["type","checkbox","id","propertyDashboardUpdateAccess",3,"change","checked"],["style","margin-left: 8px;",3,"click",4,"ngIf"],[2,"margin-left","8px",3,"click"]],template:function(c,s){if(1&c){const i=e.RV6();e.j41(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"mat-icon",37),e.bIt("click",function(){return e.eBV(i),e.Njj(s.close())}),e.EFF(7,"close"),e.k0s()()(),e.j41(8,"div",38)(9,"div",39)(10,"div",40)(11,"div")(12,"div",41)(13,"div",42)(14,"form",43),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(s.submit(s.addRoleForm.value))}),e.j41(15,"mat-form-field",44)(16,"mat-label"),e.EFF(17),e.nI1(18,"translate"),e.j41(19,"span",45),e.EFF(20,"*"),e.k0s()(),e.nrm(21,"input",46),e.nI1(22,"translate"),e.j41(23,"mat-error",47),e.nrm(24,"app-required-and-pattern-error",48),e.k0s()(),e.j41(25,"mat-form-field",49)(26,"mat-label"),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.nrm(29,"textarea",50),e.nI1(30,"translate"),e.k0s(),e.j41(31,"h4",51),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.nrm(34,"hr"),e.j41(35,"h4",51),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"div",52),e.DNE(39,ve,6,5,"div",53),e.k0s(),e.j41(40,"div",54)(41,"div",55)(42,"h4",51),e.EFF(43),e.nI1(44,"translate"),e.k0s()()(),e.j41(45,"div",56)(46,"table")(47,"tr"),e.nrm(48,"th"),e.j41(49,"th",57),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"th",57),e.EFF(53),e.nI1(54,"translate"),e.k0s(),e.j41(55,"th",57),e.EFF(56),e.nI1(57,"translate"),e.k0s(),e.j41(58,"th",57),e.EFF(59),e.nI1(60,"translate"),e.k0s()(),e.j41(61,"tr",58)(62,"td",59),e.EFF(63),e.nI1(64,"translate"),e.k0s(),e.j41(65,"td",60)(66,"mat-slide-toggle",61,0),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(73);return e.Njj(s.clickOnModule(o,s.masterFeatureArr,"create","master",n.checked))}),e.k0s()(),e.j41(68,"td",60)(69,"mat-slide-toggle",62,1),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.masterFeatureArr,"read"))}),e.k0s()(),e.j41(71,"td",60)(72,"mat-slide-toggle",63,2),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(67);return e.Njj(s.clickOnModule(o,s.masterFeatureArr,"update","master",n.checked))}),e.k0s()(),e.j41(74,"td",60)(75,"mat-slide-toggle",64,3),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.masterFeatureArr,"full","master"))}),e.k0s()()(),e.DNE(77,Re,13,13,"ng-container",65),e.k0s()(),e.j41(78,"div",56)(79,"table")(80,"tr"),e.nrm(81,"th"),e.j41(82,"th",66),e.EFF(83),e.nI1(84,"translate"),e.k0s(),e.j41(85,"th",66),e.EFF(86),e.nI1(87,"translate"),e.k0s(),e.j41(88,"th",66),e.EFF(89),e.nI1(90,"translate"),e.k0s(),e.j41(91,"th",66),e.EFF(92),e.nI1(93,"translate"),e.k0s()(),e.j41(94,"tr",58)(95,"td",67),e.EFF(96),e.nI1(97,"translate"),e.k0s(),e.j41(98,"td",60)(99,"mat-slide-toggle",61,4),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(106);return e.Njj(s.clickOnModule(o,s.leadFeatureArr,"create","lead",n.checked))}),e.k0s()(),e.j41(101,"td",60)(102,"mat-slide-toggle",68,5),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.leadFeatureArr,"read"))}),e.k0s()(),e.j41(104,"td",60)(105,"mat-slide-toggle",63,6),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(100);return e.Njj(s.clickOnModule(o,s.leadFeatureArr,"update","lead",n.checked))}),e.k0s()(),e.j41(107,"td",69)(108,"mat-slide-toggle",64,7),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.leadFeatureArr,"full","lead"))}),e.k0s()()(),e.DNE(110,Ee,11,5,"tr",65),e.k0s()(),e.DNE(111,Ce,33,18,"div",70),e.j41(112,"div",56)(113,"table")(114,"tr"),e.nrm(115,"th"),e.j41(116,"th",66),e.EFF(117),e.nI1(118,"translate"),e.k0s(),e.j41(119,"th",66),e.EFF(120),e.nI1(121,"translate"),e.k0s(),e.j41(122,"th",66),e.EFF(123),e.nI1(124,"translate"),e.k0s(),e.j41(125,"th",66),e.EFF(126),e.nI1(127,"translate"),e.k0s()(),e.j41(128,"tr",58)(129,"td",67),e.EFF(130),e.nI1(131,"translate"),e.k0s(),e.j41(132,"td",60)(133,"mat-slide-toggle",61,8),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(140);return e.Njj(s.clickOnModule(o,s.saleFeatureArr,"create","sale",n.checked))}),e.k0s()(),e.j41(135,"td",60)(136,"mat-slide-toggle",71,9),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.saleFeatureArr,"read"))}),e.k0s()(),e.j41(138,"td",60)(139,"mat-slide-toggle",63,10),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(134);return e.Njj(s.clickOnModule(o,s.saleFeatureArr,"update","sale",n.checked))}),e.k0s()(),e.j41(141,"td",60)(142,"mat-slide-toggle",64,11),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.saleFeatureArr,"full","sale"))}),e.k0s()()(),e.DNE(144,De,11,5,"tr",65),e.k0s()(),e.j41(145,"div",72)(146,"mat-accordion")(147,"mat-expansion-panel")(148,"mat-expansion-panel-header")(149,"mat-panel-title")(150,"span",73),e.EFF(151," Financial Management"),e.k0s()()(),e.j41(152,"div",74)(153,"div",75),e.EFF(154,"Permissions"),e.k0s(),e.j41(155,"div",76),e.EFF(156,"Create"),e.k0s(),e.j41(157,"div",77),e.EFF(158,"Read"),e.k0s(),e.j41(159,"div",77),e.EFF(160,"Update Delete"),e.k0s(),e.j41(161,"div",77),e.EFF(162,"Full Access"),e.k0s()(),e.j41(163,"div",78)(164,"div",79),e.EFF(165,"All"),e.k0s(),e.j41(166,"div",80)(167,"input",81,12),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.financialfeatureArr,"create","financial"))}),e.k0s()(),e.j41(169,"div",82)(170,"input",81,13),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.financialfeatureArr,"read","financial"))}),e.k0s()(),e.j41(172,"div")(173,"input",81,14),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.financialfeatureArr,"update","financial"))}),e.k0s()(),e.j41(175,"div")(176,"input",83,15),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.financialfeatureArr,"full","financial"))}),e.k0s()()(),e.DNE(178,je,12,6,"ng-container",65),e.k0s()()(),e.j41(179,"div",72)(180,"mat-accordion")(181,"mat-expansion-panel")(182,"mat-expansion-panel-header")(183,"mat-panel-title")(184,"span",73),e.EFF(185," Inventory Management"),e.k0s()()(),e.j41(186,"div",74)(187,"div",75),e.EFF(188,"Permissions"),e.k0s(),e.j41(189,"div",76),e.EFF(190,"Create"),e.k0s(),e.j41(191,"div",77),e.EFF(192,"Read"),e.k0s(),e.j41(193,"div",77),e.EFF(194,"Update Delete"),e.k0s(),e.j41(195,"div",77),e.EFF(196,"Full Access"),e.k0s()(),e.j41(197,"div",78)(198,"div",79),e.EFF(199,"All"),e.k0s(),e.j41(200,"div",80)(201,"input",81,16),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(208);return e.Njj(s.clickOnModule(o,s.InventoryModuleArr,"create","inventory",n.checked))}),e.k0s()(),e.j41(203,"div",82)(204,"input",83,17),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.InventoryModuleArr,"read","inventory"))}),e.k0s()(),e.j41(206,"div")(207,"input",81,18),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(202);return e.Njj(s.clickOnModule(o,s.InventoryModuleArr,"update","inventory",n.checked))}),e.k0s()(),e.j41(209,"div")(210,"input",83,19),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.InventoryModuleArr,"full","inventory"))}),e.k0s()()(),e.DNE(212,qe,4,4,"ng-container",65),e.k0s()()(),e.j41(213,"button",84),e.EFF(214),e.nI1(215,"translate"),e.k0s()()()()()()()()()}if(2&c){const i=e.sdS(76),r=e.sdS(109),o=e.sdS(143),n=e.sdS(168),a=e.sdS(171),h=e.sdS(174),u=e.sdS(177),m=e.sdS(202),y=e.sdS(208),F=e.sdS(211);e.R7$(4),e.SpI(" ",e.bMT(5,50,"Buttons.Add_Role")," "),e.R7$(10),e.Y8G("formGroup",s.addRoleForm),e.R7$(3),e.JRh(e.bMT(18,52,"Buttons.Name")),e.R7$(4),e.FS9("placeholder",e.bMT(22,54,"Buttons.Enter_Role_Name")),e.R7$(3),e.Y8G("control",s.addRoleForm.get("name"))("errordata",s.nameErrorData),e.R7$(3),e.JRh(e.bMT(28,56,"Buttons.Description")),e.R7$(2),e.FS9("placeholder",e.bMT(30,58,"Buttons.Description")),e.R7$(3),e.SpI(" ",e.bMT(33,60,"role.add_role.Permissions")," "),e.R7$(4),e.SpI(" ",e.bMT(37,62,"role.add_role.Module")," "),e.R7$(3),e.Y8G("ngForOf",s.moduleData),e.R7$(4),e.SpI(" ",e.bMT(44,64,"role.add_role.Feature_Access:")," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(98,M,s.isMaster?"block":"none")),e.R7$(5),e.SpI(" ",e.bMT(51,66,"role.add_role.Create")," "),e.R7$(3),e.SpI(" ",e.bMT(54,68,"role.add_role.Read")," "),e.R7$(3),e.SpI(" ",e.bMT(57,70,"role.add_role.Update")," "),e.R7$(3),e.SpI(" ",e.bMT(60,72,"role.add_role.Full_Access")," "),e.R7$(4),e.SpI(" ",e.bMT(64,74,"Offer.All")," "),e.R7$(3),e.Y8G("checked",i.checked),e.R7$(6),e.Y8G("checked",i.checked),e.R7$(5),e.Y8G("ngForOf",s.masterFeatureArr),e.R7$(),e.Y8G("ngStyle",e.eq3(100,M,s.isLead?"block":"none")),e.R7$(5),e.SpI(" ",e.bMT(84,76,"role.add_role.Create")," "),e.R7$(3),e.SpI(" ",e.bMT(87,78,"role.add_role.Read")," "),e.R7$(3),e.SpI(" ",e.bMT(90,80,"role.add_role.Update")," "),e.R7$(3),e.SpI(" ",e.bMT(93,82,"role.add_role.Full_Access")," "),e.R7$(4),e.SpI(" ",e.bMT(97,84,"Offer.All")," "),e.R7$(3),e.Y8G("checked",r.checked),e.R7$(6),e.Y8G("checked",r.checked),e.R7$(5),e.Y8G("ngForOf",s.leadFeatureArr),e.R7$(),e.Y8G("ngIf",s.isCollection),e.R7$(),e.Y8G("ngStyle",e.eq3(102,M,s.isSale?"block":"none")),e.R7$(5),e.SpI(" ",e.bMT(118,86,"role.add_role.Create")," "),e.R7$(3),e.SpI(" ",e.bMT(121,88,"role.add_role.Read")," "),e.R7$(3),e.SpI(" ",e.bMT(124,90,"role.add_role.Update")," "),e.R7$(3),e.SpI(" ",e.bMT(127,92,"role.add_role.Full_Access")," "),e.R7$(4),e.SpI(" ",e.bMT(131,94,"Offer.All")," "),e.R7$(3),e.Y8G("checked",o.checked),e.R7$(6),e.Y8G("checked",o.checked),e.R7$(5),e.Y8G("ngForOf",s.saleFeatureArr),e.R7$(),e.Y8G("ngStyle",e.eq3(104,M,s.isFinancial?"block":"none")),e.R7$(22),e.Y8G("checked",u.checked||n.checked),e.R7$(3),e.Y8G("checked",n.checked||h.checked||a.checked),e.R7$(3),e.Y8G("checked",u.checked||h.checked),e.R7$(5),e.Y8G("ngForOf",s.financialfeatureArr),e.R7$(),e.Y8G("ngStyle",e.eq3(106,M,s.isInventory?"block":"none")),e.R7$(22),e.Y8G("checked",F.checked||m.checked),e.R7$(6),e.Y8G("checked",F.checked||y.checked),e.R7$(5),e.Y8G("ngForOf",s.InventoryModuleArr),e.R7$(2),e.SpI(" ",e.bMT(215,96,"Buttons.Submit")," ")}},dependencies:[I.Sq,I.bT,I.B3,T.fg,C.rl,C.nJ,C.TL,E.qT,E.me,E.BC,E.cb,E.j4,E.JD,U.$z,D.BS,D.GK,D.Z2,D.WN,Y.sG,$.An,L.I,J.T,P.D9],styles:['@charset "UTF-8";.add-project-title[_ngcontent-%COMP%]{padding-bottom:0!important;color:#616161}  .mat-dialog-container{background:#fff;overflow-x:hidden;height:auto!important;padding:12px}.limitedAccessBox[_ngcontent-%COMP%]{border-top:1px solid black;margin-top:10px;margin-bottom:10px;padding-left:5px;border-top-left-radius:12px;padding-top:5px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:0;font-size:20px;cursor:pointer;opacity:.7}@media (max-width: 790px){.close-icon[_ngcontent-%COMP%]{top:0}}#hidden_content[_ngcontent-%COMP%]{display:none}mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-btn[_ngcontent-%COMP%]{background-color:#68bfbb;color:#00000070}.Intrest-cls[_ngcontent-%COMP%]{display:none}  .mat-step-header .mat-step-icon-selected, .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-color:#68bfbb!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:red!important;opacity:.8!important}  .mat-input-element{caret-color:#68bfbb!important}  .mat-form-field-invalid .mat-input-element, .mat-warn[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{caret-color:red!important}  .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:red!important}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#68bfbb}  .mat-select-arrow{color:#68bfbb!important}mat-datepicker-toggle[_ngcontent-%COMP%]{color:#68bfbb!important}  .mat-calendar-body-selected{background-color:#68bfbb!important}  .mat-expansion-panel{margin:16px 0!important}  .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#68bfbb}  .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#b3dfdc}  .mat-form-field-infix{padding:.8em!important}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#68bfbc;border-color:#68bfbb}.mat-error[_ngcontent-%COMP%]{display:block;margin-top:0}.feature-access-row[_ngcontent-%COMP%]{margin-top:12px}.permission_head[_ngcontent-%COMP%]{color:#6f6f6f;font-weight:500}.module_name[_ngcontent-%COMP%]{color:#279a95}input[type=checkbox][_ngcontent-%COMP%]{display:inline-block;height:16px;line-height:0;margin:auto 8px auto auto;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}.input-class[_ngcontent-%COMP%]{margin:16px 8px 16px 0!important}@media only screen and (min-width: 387px) and (max-width: 399px){.input-class[_ngcontent-%COMP%]{margin:16px 12px 16px 0!important}}@media only screen and (min-width: 400px) and (max-width: 484px){.input-class[_ngcontent-%COMP%]{margin:16px 0!important}}.regular-checkbox[_ngcontent-%COMP%]{-webkit-appearance:none;background-color:#fafafa;border:1px solid #cacece;box-shadow:0 1px 2px #0003000d,inset 0 -15px 10px -12px #0000000d;padding:7px;border-radius:3px;display:inline-block;position:relative}.regular-checkbox[_ngcontent-%COMP%]:active, .regular-checkbox[_ngcontent-%COMP%]:checked:active{box-shadow:0 1px 2px #0000000d,inset 0 1px 3px #0000001a}.regular-checkbox[_ngcontent-%COMP%]:checked{background-color:#32b7b0;border:1px solid #32b7b0;box-shadow:0 1px 2px #0000000d,inset 0 -15px 10px -12px #0000000d,inset 15px 10px -12px #ffffff1a;color:#fff!important}.regular-checkbox[_ngcontent-%COMP%]:checked:after{content:"\\2714";font-size:11px;position:absolute;top:8px;left:3px;color:#fff}.feature_name[_ngcontent-%COMP%]{color:#525252;font-weight:400}.back[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #e2e2e2;border-radius:7px;display:flex;padding:8px;margin-bottom:9px;justify-content:space-between}.card-body[_ngcontent-%COMP%]{flex:1 1 auto}.acess_container[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #e2e2e2;border-radius:7px;display:flex;padding:8px;margin-bottom:9px;justify-content:space-between}@media only screen and (max-width: 559px){.acess_container[_ngcontent-%COMP%]{display:block;text-align:center}}.access_permissions[_ngcontent-%COMP%]{color:gray}.col1[_ngcontent-%COMP%]{width:100%}.mat-slide-toggle[_ngcontent-%COMP%]{transform:scale(.8)}.headerCursor[_ngcontent-%COMP%]{cursor:pointer}.properties-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid black}.permissions-container[_ngcontent-%COMP%]{width:300px;border:1px solid #e0e0e0;padding:10px;border-radius:5px}.permissions-header[_ngcontent-%COMP%]{width:100%;border:2px solid green;border-radius:7px;display:grid;grid-template-columns:repeat(5,1fr);align-items:center;padding:5px}.permission-row[_ngcontent-%COMP%]{margin-top:8px;background:#c9e9ca;border-radius:7px;display:grid;grid-template-columns:repeat(5,1fr);align-items:center;padding:7px}.permission-rowTow[_ngcontent-%COMP%]{margin-top:8px;background:#f5f5f5;border-radius:7px;display:grid;grid-template-columns:repeat(5,1fr);align-items:center;padding:7px}.category-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr repeat(4,auto);align-items:center;padding:5px}.category-header[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;background-color:#d7f2d7;cursor:pointer;font-weight:700}.permission-row[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.arrow[_ngcontent-%COMP%]{grid-column:5;text-align:right}.divWidth[_ngcontent-%COMP%]{width:50px}.fontcls[_ngcontent-%COMP%]{font-size:14px;font-family:Roboto;font-weight:700;color:#6e6d6d}.fontclsforlist[_ngcontent-%COMP%]{font-size:14px;font-family:Roboto;font-weight:600;color:#6e6d6d}.chnageCheckboxColor[_ngcontent-%COMP%]{accent-color:blue}input[type=checkbox][_ngcontent-%COMP%]{accent-color:#4caf50!important}.element[_ngcontent-%COMP%]{width:13ch;overflow-wrap:break-word}.slide-target[_ngcontent-%COMP%]{overflow:hidden;max-height:0;opacity:0;transition:max-height .5s ease-out,opacity .5s ease-out}.slide-target.slide[_ngcontent-%COMP%]{max-height:500px;opacity:1;transition:max-height .6s ease-in,opacity .6s ease-in}']})}return d})();var ze=v(4664);const We=["readFullTag"],Qe=["readFullTag1"],Ze=["readFullTag2"],Ke=["readFullTag3"],et=["readFullTag4"],tt=["readFullTag5"],st=["readFullTagInventory"],rt=["materialDashboardReadAccess"],nt=["propertyDashboardReadAccess"],it=["materialDashboardFullAccess"],at=["propertyDashboardFullAccess"],ct=["materialDashboardCreateAccess"],lt=["materialDashboardUpdateAccess"],ot=["propertyDashboardCreateAccess"],dt=["propertyDashboardUpdateAccess"],ht=["createReadAccessInventory"],ut=["updateReadAccessInventory"],pt=["allFullAccressForInventory"],ft=["allFullAccressForfinancial"],mt=["allFullAccress"],_t=["createReadAccess4"],gt=["updateReadAccess4"],j=d=>({display:d}),kt=()=>({"border-top":"1px solid black"}),H=()=>({}),At=()=>({"background-color":"#45b545",color:"white"}),bt=()=>["Reserve - Stock","For Sale - Stock","Booked","Sold","Purchases","Consumptions"];function yt(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",83)(1,"input",84,20),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFeature(i.key,s))}),e.k0s(),e.j41(3,"label",85),e.EFF(4),e.k0s(),e.nrm(5,"br"),e.k0s()}if(2&d){const t=A.$implicit,c=e.XpG();e.R7$(),e.FS9("value",c.module.id),e.Y8G("id",t.key)("checked",t.value),e.R7$(2),e.Y8G("for",t.key),e.R7$(),e.SpI(" ","financial_management"==t.key?"Financial Management":"inventory_module"==t.key?"Invenotry Management":t.key," ")}}function vt(d,A){if(1&d){const t=e.RV6();e.j41(0,"tr",92)(1,"td",93)(2,"button",94),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.openDialog())}),e.EFF(3,"Limited Access"),e.k0s()()()}if(2&d){const t=e.XpG(2);e.R7$(2),e.Y8G("ngStyle",t.limitedPropertyPermission?e.lJ4(1,At):e.lJ4(2,H))}}function Ft(d,A){if(1&d){const t=e.RV6();e.qex(0),e.j41(1,"tr",69)(2,"td",86),e.EFF(3),e.k0s(),e.j41(4,"td",58)(5,"mat-slide-toggle",87),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getCreate(s,i.id))}),e.k0s()(),e.j41(6,"td",58)(7,"mat-slide-toggle",88),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getRead(s,i.id))}),e.k0s()(),e.j41(8,"td",58)(9,"mat-slide-toggle",89),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getUpdate(s,i.id))}),e.k0s()(),e.j41(10,"td",58)(11,"mat-slide-toggle",90),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFullAccess(s,i.id))}),e.k0s()()(),e.DNE(12,vt,4,3,"tr",91),e.bVm()}if(2&d){const t=A.$implicit,c=e.XpG();e.R7$(),e.Y8G("ngStyle","Properties"==t.name?e.lJ4(11,kt):e.lJ4(12,H)),e.R7$(2),e.JRh("Project Property Types"==t.name?"Project Block":t.name&&"Property Types"==t.name?"Product Type":t.name&&"Properties"==t.name?"Property Unit Details":t.name),e.R7$(2),e.Y8G("checked",t.create)("disabled",c.limitedPropertyPermission&&"Properties"==t.name),e.R7$(2),e.Y8G("checked",t.read)("disabled",c.limitedPropertyPermission&&"Properties"==t.name),e.R7$(2),e.Y8G("checked",t.update)("disabled",c.limitedPropertyPermission&&"Properties"==t.name),e.R7$(2),e.Y8G("checked",t.fullAccess||t.full)("disabled",c.limitedPropertyPermission&&"Properties"==t.name),e.R7$(),e.Y8G("ngIf","Properties"==t.name)}}function Rt(d,A){if(1&d){const t=e.RV6();e.j41(0,"tr")(1,"td",86),e.EFF(2),e.k0s(),e.j41(3,"td",58)(4,"mat-slide-toggle",59),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getCreate(s,i.id))}),e.k0s()(),e.j41(5,"td",58)(6,"mat-slide-toggle",95),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getRead(s,i.id))}),e.k0s()(),e.j41(7,"td",58)(8,"mat-slide-toggle",61),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getUpdate(s,i.id))}),e.k0s()(),e.j41(9,"td",58)(10,"mat-slide-toggle",96),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFullAccess(s,i.id))}),e.k0s()()()}if(2&d){const t=A.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.full)}}function Et(d,A){if(1&d){const t=e.RV6();e.j41(0,"tr")(1,"td",86),e.EFF(2),e.k0s(),e.j41(3,"td",58)(4,"mat-slide-toggle",59),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.getCreate(s,i.id))}),e.k0s()(),e.j41(5,"td",58)(6,"mat-slide-toggle",95),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.getRead(s,i.id))}),e.k0s()(),e.j41(7,"td",58)(8,"mat-slide-toggle",61),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.getUpdate(s,i.id))}),e.k0s()(),e.j41(9,"td",58)(10,"mat-slide-toggle",96),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.getFullAccess(s,i.id))}),e.k0s()()()}if(2&d){const t=A.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.full)}}function It(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",97)(1,"table",55)(2,"tr"),e.nrm(3,"th"),e.j41(4,"th",64),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th",64),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",64),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",64),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"tr",56)(17,"td",57),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"td",58)(21,"mat-slide-toggle",59,21),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(28),r=e.XpG();return e.Njj(r.clickOnModule(s,r.newCollectionArr,"create","collection",i.checked))}),e.k0s()(),e.j41(23,"td",58)(24,"mat-slide-toggle",98,22),e.bIt("change",function(s){e.eBV(t);const i=e.XpG();return e.Njj(i.clickOnModule(s,i.newCollectionArr,"read"))}),e.k0s()(),e.j41(26,"td",58)(27,"mat-slide-toggle",61,23),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(22),r=e.XpG();return e.Njj(r.clickOnModule(s,r.newCollectionArr,"update","collection",i.checked))}),e.k0s()(),e.j41(29,"td",58)(30,"mat-slide-toggle",66,24),e.bIt("change",function(s){e.eBV(t);const i=e.XpG();return e.Njj(i.clickOnModule(s,i.newCollectionArr,"full","collection"))}),e.k0s()()(),e.DNE(32,Et,11,5,"tr",63),e.k0s()()}if(2&d){const t=e.sdS(31),c=e.XpG();e.R7$(5),e.SpI(" ",e.bMT(6,8,"role.add_role.Create")," "),e.R7$(3),e.SpI(" ",e.bMT(9,10,"role.add_role.Read")," "),e.R7$(3),e.SpI(" ",e.bMT(12,12,"role.add_role.Update")," "),e.R7$(3),e.SpI(" ",e.bMT(15,14,"role.add_role.Full_Access")," "),e.R7$(4),e.SpI(" ",e.bMT(19,16,"Offer.All")," "),e.R7$(3),e.Y8G("checked",t.checked),e.R7$(6),e.Y8G("checked",t.checked),e.R7$(5),e.Y8G("ngForOf",c.newCollectionArr)}}function Ct(d,A){if(1&d){const t=e.RV6();e.j41(0,"tr")(1,"td",86),e.EFF(2),e.k0s(),e.j41(3,"td",58)(4,"mat-slide-toggle",59),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getCreate(s,i.id))}),e.k0s()(),e.j41(5,"td",58)(6,"mat-slide-toggle",95),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getRead(s,i.id))}),e.k0s()(),e.j41(7,"td",58)(8,"mat-slide-toggle",61),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getUpdate(s,i.id))}),e.k0s()(),e.j41(9,"td",58)(10,"mat-slide-toggle",96),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFullAccess(s,i.id))}),e.k0s()()()}if(2&d){const t=A.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.full)}}function Dt(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",102),e.bIt("change",function(s){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.getCreateFinancial(s,i.id))}),e.k0s()}if(2&d){const t=e.XpG().$implicit;e.Y8G("disabled",t.isDisabled)("checked",t.create)}}function xt(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",102),e.bIt("change",function(s){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.getReadFinancial(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG().$implicit;e.Y8G("disabled",t.isDisabled)("checked",t.read)}}function Pt(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",102),e.bIt("change",function(s){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.getUpdateFinancial(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG().$implicit;e.Y8G("disabled",t.isDisabled)("checked",t.update)}}function Mt(d,A){if(1&d){const t=e.RV6();e.qex(0),e.j41(1,"div",99)(2,"div",100),e.EFF(3),e.k0s(),e.j41(4,"div",78),e.DNE(5,Dt,1,2,"input",101),e.k0s(),e.j41(6,"div",80),e.DNE(7,xt,1,2,"input",101),e.k0s(),e.j41(8,"div"),e.DNE(9,Pt,1,2,"input",101),e.k0s(),e.j41(10,"div")(11,"input",102),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.getFullAccessFinancial(s,i.id))}),e.k0s()()(),e.bVm()}if(2&d){const t=A.$implicit;e.R7$(3),e.JRh("Cash Flow"==t.name?"Cash Health Report":"Voucher"==t.name?"Journal voucher":t.name),e.R7$(2),e.Y8G("ngIf","All Transactions"!=t.name&&"Cash Health Report"!=t.name&&"Cheque Statement"!=t.name&&"Customer Payment Status"!=t.name&&"Sales"!=t.name&&"Received From Customers"!=t.name&&"Receivables From Customers"!=t.name&&"Only Bank Entries"!=t.name),e.R7$(2),e.Y8G("ngIf","Backdated Entries"!=t.name&&"Only Bank Entries"!=t.name),e.R7$(2),e.Y8G("ngIf","Cash Health Report"!=t.name&&"Customer Payment Status"!=t.name&&"Sales"!=t.name&&"Receivables From Customers"!=t.name&&"Only Bank Entries"!=t.name),e.R7$(2),e.Y8G("disabled",t.isDisabled)("checked",t.fullAccess)}}function jt(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",102),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.getCreateInventory(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG(2).$implicit;e.Y8G("disabled",t.isDisabledCreate)("checked",t.create)}}function Tt(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",79),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.getReadInventory(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG(2).$implicit;e.Y8G("checked",t.read)}}function Gt(d,A){if(1&d){const t=e.RV6();e.j41(0,"input",102),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.getUpdateInventory(s,i.id,i.name))}),e.k0s()}if(2&d){const t=e.XpG(2).$implicit;e.Y8G("disabled",t.isDisabledUpdate)("checked",t.update)}}function Nt(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",99)(1,"div",105),e.EFF(2),e.k0s(),e.j41(3,"div",78),e.DNE(4,jt,1,2,"input",101),e.k0s(),e.j41(5,"div",80),e.DNE(6,Tt,1,1,"input",106),e.k0s(),e.j41(7,"div"),e.DNE(8,Gt,1,2,"input",101),e.k0s(),e.j41(9,"div")(10,"input",102),e.bIt("change",function(s){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.getFullAccessInventory(s,i.id,i.name))}),e.k0s()()()}if(2&d){const t=e.XpG().$implicit;e.R7$(2),e.JRh("Backdated Entries"==t.name?"Backdated Entries (Purchase and Consumption)":t.name),e.R7$(2),e.Y8G("ngIf","Expenses Consumed"!=t.name),e.R7$(2),e.Y8G("ngIf","Backdated Entries"!=t.name),e.R7$(2),e.Y8G("ngIf","Expenses Consumed"!=t.name),e.R7$(2),e.Y8G("disabled",t.isDisabledFullaccess)("checked",t.fullAccess)}}function Ot(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",112),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.toggleMaterialExpansion())}),e.j41(1,"mat-icon"),e.EFF(2,"expand_more"),e.k0s()()}}function St(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",112),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.toggleMaterialExpansion())}),e.j41(1,"mat-icon"),e.EFF(2,"expand_less"),e.k0s()()}}function $t(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",114)(1,"div",115),e.EFF(2),e.k0s(),e.j41(3,"div",78)(4,"input",116),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getCreateInventory(s,i.id,"materialDashboard"))}),e.k0s()(),e.j41(5,"div",80)(6,"input",79),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getReadInventory(s,i.id,"materialDashboard",!0))}),e.k0s()(),e.j41(7,"div")(8,"input",79),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getUpdateInventory(s,i.id,"materialDashboard",!0))}),e.k0s()(),e.j41(9,"div")(10,"input",79),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getFullAccessInventory(s,i.id,"materialDashboard",!0))}),e.k0s()()()}if(2&d){const t=A.$implicit,c=e.XpG(4);e.AVh("slide",c.isExpandedMaterial),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.fullAccess)}}function Bt(d,A){if(1&d&&(e.j41(0,"div"),e.DNE(1,$t,11,7,"div",113),e.k0s()),2&d){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.materialDashboard)}}function Vt(d,A){if(1&d){const t=e.RV6();e.qex(0),e.j41(1,"div",99)(2,"div",77),e.EFF(3,"Material Dashboard"),e.k0s(),e.j41(4,"div",78)(5,"input",107,25),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(12),r=e.XpG(2);return e.Njj(r.clickOnMaterialDashboardModule(s,r.newInventoryArr,"create","inventoryMaterial",i.checked))}),e.k0s()(),e.j41(7,"div",80)(8,"input",108,26),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clickOnMaterialDashboardModule(s,i.newInventoryArr,"read","inventoryMaterial"))}),e.k0s()(),e.j41(10,"div")(11,"input",79,27),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(6),r=e.XpG(2);return e.Njj(r.clickOnMaterialDashboardModule(s,r.newInventoryArr,"update","inventoryMaterial",i.checked))}),e.k0s()(),e.j41(13,"div",109)(14,"input",110,28),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clickOnMaterialDashboardModule(s,i.newInventoryArr,"fullAccess","inventoryMaterial"))}),e.k0s(),e.DNE(16,Ot,3,0,"div",111)(17,St,3,0,"div",111),e.k0s()(),e.DNE(18,Bt,2,1,"div",104),e.bVm()}if(2&d){const t=e.sdS(15),c=e.XpG(2);e.R7$(5),e.Y8G("checked",t.checked),e.R7$(6),e.Y8G("checked",t.checked),e.R7$(5),e.Y8G("ngIf",!c.isExpandedMaterial),e.R7$(),e.Y8G("ngIf",c.isExpandedMaterial),e.R7$(),e.Y8G("ngIf",c.isExpandedMaterial)}}function wt(d,A){if(1&d){const t=e.RV6();e.j41(0,"mat-icon",112),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.togglePropertyExpansion())}),e.EFF(1,"expand_more"),e.k0s()}}function Xt(d,A){if(1&d){const t=e.RV6();e.j41(0,"mat-icon",112),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.togglePropertyExpansion())}),e.EFF(1,"expand_less"),e.k0s()}}function Ut(d,A){if(1&d){const t=e.RV6();e.j41(0,"div",114)(1,"div",115),e.EFF(2),e.k0s(),e.j41(3,"div",78)(4,"input",116),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getCreateInventory(s,i.id,"propertyDashboard"))}),e.k0s()(),e.j41(5,"div",80)(6,"input",79),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getReadInventory(s,i.id,"propertyDashboard"))}),e.k0s()(),e.j41(7,"div")(8,"input",79),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getUpdateInventory(s,i.id,"propertyDashboard"))}),e.k0s()(),e.j41(9,"div")(10,"input",79),e.bIt("change",function(s){const i=e.eBV(t).$implicit,r=e.XpG(4);return e.Njj(r.getFullAccessInventory(s,i.id,"propertyDashboard"))}),e.k0s()()()}if(2&d){const t=A.$implicit,c=e.XpG(4);e.AVh("slide",c.isExpandedProperty),e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("checked",t.create),e.R7$(2),e.Y8G("checked",t.read),e.R7$(2),e.Y8G("checked",t.update),e.R7$(2),e.Y8G("checked",t.fullAccess)}}function Yt(d,A){if(1&d&&(e.j41(0,"div"),e.DNE(1,Ut,11,7,"div",113),e.k0s()),2&d){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.propertyDashboard)}}function Lt(d,A){if(1&d){const t=e.RV6();e.qex(0),e.j41(1,"div",99)(2,"div",77),e.EFF(3,"Property Dashboard"),e.k0s(),e.j41(4,"div",78)(5,"input",117,29),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(12),r=e.XpG(2);return e.Njj(r.clickOnMaterialDashboardModule(s,r.newInventoryArr,"create","inventoryProperty",i.checked))}),e.k0s()(),e.j41(7,"div",80)(8,"input",118,30),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clickOnMaterialDashboardModule(s,i.newInventoryArr,"read","inventoryProperty"))}),e.k0s()(),e.j41(10,"div")(11,"input",119,31),e.bIt("change",function(s){e.eBV(t);const i=e.sdS(6),r=e.XpG(2);return e.Njj(r.clickOnMaterialDashboardModule(s,r.newInventoryArr,"update","inventoryProperty",i.checked))}),e.k0s()(),e.j41(13,"div",109)(14,"input",81,32),e.bIt("change",function(s){e.eBV(t);const i=e.XpG(2);return e.Njj(i.clickOnMaterialDashboardModule(s,i.newInventoryArr,"fullAccess","inventoryProperty"))}),e.k0s(),e.DNE(16,wt,2,0,"mat-icon",111)(17,Xt,2,0,"mat-icon",111),e.k0s()(),e.DNE(18,Yt,2,1,"div",104),e.bVm()}if(2&d){const t=e.sdS(15),c=e.XpG(2);e.R7$(5),e.Y8G("checked",t.checked),e.R7$(6),e.Y8G("checked",t.checked),e.R7$(5),e.Y8G("ngIf",!c.isExpandedProperty),e.R7$(),e.Y8G("ngIf",c.isExpandedProperty),e.R7$(),e.Y8G("ngIf",c.isExpandedProperty)}}function Jt(d,A){if(1&d&&(e.qex(0),e.DNE(1,Nt,11,6,"div",103)(2,Vt,19,5,"ng-container",104)(3,Lt,19,5,"ng-container",104),e.bVm()),2&d){const t=A.$implicit;e.R7$(),e.Y8G("ngIf",!e.lJ4(3,bt).includes(t.name.trim())),e.R7$(),e.Y8G("ngIf","Material Category"===t.name),e.R7$(),e.Y8G("ngIf","Property"===t.name)}}function qt(d,A){1&d&&(e.j41(0,"button",121),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&d&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Buttons.Update")," "))}function Ht(d,A){if(1&d&&(e.qex(0),e.DNE(1,qt,3,3,"button",120),e.bVm()),2&d){const t=A.$implicit;e.R7$(),e.Y8G("ngIf",1==t.update)}}let zt=(()=>{class d{constructor(t,c,s,i,r,o,n,a,h){this.toastr=t,this.socket=c,this.dialog=s,this.dialogRef=i,this.data=r,this.mainService=o,this.route=n,this.formbuilder=a,this.breakpointObserver=h,this.propertyResult={},this.getPropertyPermission={},this.isCreate=!1,this.isRead=!1,this.isUpdate=!1,this.isDelete=!1,this.isFullAccess=!1,this.masterFeature=!1,this.limitedPropertyPermission=!1,this.featureArray=[],this.isLead=!1,this.isMaster=!1,this.isCollection=!1,this.isFinancial=!1,this.isInventory=!1,this.isSale=!1,this.checked=!1,this.module={},this.newMasterArr=[],this.newLeadArr=[],this.newCollectionArr=[],this.newSaleArr=[],this.newFinanCialArr=[],this.newInventoryArr=[],this.defaultleadArr=[],this.defaultMasterArr=[],this.defaultCollectionArr=[],this.defaultSaleArr=[],this.defaultFinancialArr=[],this.defaultInventoryArr=[],this.nameDisable=!0,this.isExpanded=!1,this.isExpandedMaterial=!1,this.isExpandedProperty=!1,this.materialDashboard=[],this.propertyDashboard=[],this.autoSelectIds=[],this.finalFeatures=[],this.nameErrorData={requiredErrorMessage:"Buttons.Role_name_is_required",patternErrorMessage:"Buttons.Please_Enter_Valid_Role_Name"},this.editRoleForm=this.formbuilder.group({name:[r.name,[E.k0.required,E.k0.pattern(/[A-Za-z]/)]],description:[r.description],role_id:[r.parentRoleId],full:[]})}ngAfterViewInit(){setTimeout(()=>{const t=this.newInventoryArr.filter(g=>["Purchases","Consumptions"].includes(g.name));t.length>0&&t.every(g=>g.read)&&(this.materialDashboardReadAccess.nativeElement.checked=!0),t.length>0&&t.every(g=>g.update)&&(this.materialDashboardFullAccess.nativeElement.checked=!0,this.materialDashboardReadAccess.nativeElement.checked=!0);const i=this.newInventoryArr.filter(g=>["Reserve - Stock","For Sale - Stock","Booked","Sold"].includes(g.name));i.length>0&&i.every(g=>g.read)&&(this.propertyDashboardReadAccess.nativeElement.checked=!0),i.length>0&&i.every(g=>g.update)&&(this.propertyDashboardFullAccess.nativeElement.checked=!0,this.propertyDashboardReadAccess.nativeElement.checked=!0);let n=!1;console.log(this.newInventoryArr),n=this.newInventoryArr.every(g=>"Reserve - Stock"===g.name||"For Sale - Stock"===g.name||"Booked"===g.name||"Sold"===g.name||"Purchases"===g.name||"Consumptions"===g.name?g.read&&g.update:g.read&&g.update&&g.create),n&&(this.allFullAccressForInventory.nativeElement.checked=!0,this.readFullTagInventory.nativeElement.checked=!0);const a=this.newInventoryArr.filter(g=>!["Reserve - Stock","For Sale - Stock","Booked","Sold","Purchases","Consumptions"].includes(g.name));a.length>0&&a.every(g=>g.create)&&(this.createReadAccessInventory.nativeElement.checked=!0,this.readFullTagInventory.nativeElement.checked=!0);const u=this.newInventoryArr.filter(g=>!["Backdated Entries"].includes(g.name));u.length>0&&u.every(g=>g.read)&&(this.readFullTagInventory.nativeElement.checked=!0),this.newFinanCialArr.every(g=>"Only Bank Entries"===g.name||g.read&&g.update&&g.delete&&g.create)&&(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0),this.newFinanCialArr.every(g=>"All Transactions"===g.name||"Cash Health Report"===g.name||"Cheque Statement"===g.name||"Customer Payment Status"===g.name||"Sales"===g.name||"Received From Customers"===g.name||"Only Bank Entries"===g.name||"Receivables From Customers"===g.name||g.create)&&(this.createReadAccess4.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0),this.newFinanCialArr.every(g=>"Cash Health Report"===g.name||"Customer Payment Status"===g.name||"Sales"===g.name||"Only Bank Entries"===g.name||"Receivables From Customers"===g.name||g.update)&&(this.updateReadAccess4.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0),this.newFinanCialArr.every(g=>g.read)&&(this.readFullTag5.nativeElement.checked=!0)},2e3)}handlePurchases(t,c){const s=t.target.checked;let i=0;switch(this.featureArray.forEach(r=>{"Purchases"==r.name&&(i=r.id)}),s&&(this.module.inventory_module=!0,this.isInventory=!0),c){case"read":(1==s||1!=this.materialDashboard[0]?.readCheckbox&&1!=this.materialDashboard[0]?.updateCheckbox&&1!=this.materialDashboard[0]?.fullAccessCheckbox)&&this.getReadInventory(t,i,"materialDashboard");break;case"update":1==s?this.getUpdateInventory(t,i,"materialDashboard",!1):1!=this.materialDashboard[0]?.updateCheckbox&&1!=this.materialDashboard[0]?.fullAccessCheckbox&&this.getUpdateInventory(t,i,"materialDashboard");break;case"full access":(1==s||1!=this.materialDashboard[0]?.fullAccessCheckbox&&1!=this.materialDashboard[0]?.updateCheckbox)&&this.getFullAccessInventory(t,i,"materialDashboard")}s||this.newInventoryArr.some(o=>o.read||o.create||o.update)||(this.module.inventory_module=!1,this.isInventory=!1)}handleLeadChecked(t,c,s=[],i){15==c&&this.featureArray.map(i?r=>(!r[t]&&s.includes(r.id)&&(r[t]=!0,this.autoSelectIds.push(r.id)),r):r=>(s.includes(r.id)&&(r[t]=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),r))}handleCustomerChecked(t,c,s=[],i){13==c&&this.featureArray.map(i?r=>(!r[t]&&s.includes(r.id)&&(r[t]=!0,this.autoSelectIds.push(r.id)),r):r=>(s.includes(r.id)&&(r[t]=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),r))}handleSaleChecked(t,c,s=[],i){18==c&&this.featureArray.map(i?r=>(!r[t]&&s.includes(r.id)&&(r[t]=!0,this.autoSelectIds.push(r.id)),r):r=>(s.includes(r.id)&&(r[t]=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),r))}getCreate(t,c){this.handleSaleChecked("read",c,[1,4,3,5,7,6,8,9,10,11,12,13,14,15,16,17,19],t.checked),this.handleSaleChecked("create",c,[10,11,12,14,15,16,17],t.checked),this.handleLeadChecked("create",c,[14],t.checked),this.handleLeadChecked("read",c,[1,3,5,8,4,6,14,7,15,19,12],t.checked),this.handleCustomerChecked("read",c,[1,4,3,7,6,8,9,10,11,12,13,14,15,16,17],t.checked),this.handleCustomerChecked("create",c,[10,11,12,14,15,16,17],t.checked),this.isCreate=t.checked,this.isRead=t.checked,this.featureArray.map(s=>(s.id==c&&(s.create=this.isCreate,s.read=this.isRead),s))}getRead(t,c){this.isRead=t.checked,this.featureArray.map(s=>(s.id==c&&(s.read=this.isRead),s))}getCreateByFinancial(t,c){this.isCreate=t.checked,this.featureArray.map(s=>(s.id==c&&(s.create=this.isCreate),s))}getUpdate(t,c){this.handleLeadChecked("read",c,[1,3,5,8,4,6,14,7,15,19,12],t.checked),this.handleLeadChecked("create",c,[14],t.checked),this.isUpdate=t.checked,this.isRead=t.checked,this.featureArray.map(s=>(s.id==c&&(s.update=this.isUpdate,s.read=this.isRead),s))}getCreateFinancial(t,c){const s=t.target.checked;this.isCreate=s,this.isRead=s;const i=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher"];let r=!0;this.featureArray.map(l=>(l.id==c&&(s?(l.create=this.isCreate,l.read=this.isRead,1==l.update&&(l.fullAccess=!0)):(l.create=this.isCreate,l.fullAccess=!1,1!=l.update&&(l.read=this.isRead,this.readFullTag5.nativeElement.checked=s),this.createReadAccess4.nativeElement.checked=s,this.allFullAccressForfinancial.nativeElement.checked=s)),i.includes(l.name)&&(l.create||l.read||l.update||l.delete)&&(r=!1),l)),this.newFinanCialArr.every(l=>l.create&&l.read&&l.update&&l.delete);const n=this.newFinanCialArr.every(l=>l.update),a=this.newFinanCialArr.every(l=>l.create);a&&(this.createReadAccess4.nativeElement.checked=!0),n&&(this.updateReadAccess4.nativeElement.checked=!0),n&&a&&(this.allFullAccressForfinancial.nativeElement.checked=!0);const h=this.featureArray.findIndex(l=>"Received Voucher"===l.name),u=this.featureArray.findIndex(l=>"Payment Voucher"===l.name),m=this.featureArray.findIndex(l=>"Contra Voucher"===l.name),y=this.featureArray.findIndex(l=>"Expense Voucher"===l.name),F=this.featureArray.findIndex(l=>"Journal Voucher"===l.name);this.featureArray=this.featureArray.map(l=>("Backdated Entries"==l.name&&"financial management"==l.moduleName&&(l.isDisabled=r,console.log("check toggle",r),this.featureArray[h].create||this.featureArray[u].create||this.featureArray[m].create||this.featureArray[y].create||this.featureArray[F].create||(l.create=!1)),l))}getFullAccess(t,c){this.isFullAccess=t.checked,this.featureArray.map(s=>(s.id==c&&(s.fullAccess=this.isFullAccess,s.create=this.isFullAccess,s.read=this.isFullAccess,s.update=this.isFullAccess),s))}getFullAccessFinancial(t,c){this.isFullAccess=t.target.checked;const i=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher","All Transactions"];let r=!0;this.featureArray.map(n=>(n.id==c&&(n.fullAccess=this.isFullAccess,n.create=this.isFullAccess,n.read=this.isFullAccess,n.update=this.isFullAccess,n.delete=this.isFullAccess),console.log(n),i.includes(n.name)&&(n.create||n.read||n.update||n.delete)&&(r=!1),n)),this.featureArray=this.featureArray.map(n=>("Backdated Entries"==n.name&&"financial management"==n.moduleName&&(n.isDisabled=r,1==r&&(n.fullAccess=!1,n.create=!1,n.read=!1,n.update=!1,n.delete=!1),console.log("check toggle",r)),n)),this.newFinanCialArr.every(n=>"Only Bank Entries"==n.name||n.create&&n.read&&n.update&&n.delete)?(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0):(this.allFullAccressForfinancial.nativeElement.checked=!1,this.readFullTag5.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1,this.createReadAccess4.nativeElement.checked=!1),67==c&&this.handlePurchases(t,"full access")}clickOnModule(t,c,s,i="",r=!1,o=15){if("read"!=s&&"master"==i)this.readFullTag.checked=t.checked||r;else if("read"!=s&&"lead"==i)this.readFullTag1.checked=t.checked||r;else if("read"!=s&&"collection"==i)this.readFullTag2.checked=t.checked||r;else if("read"!=s&&"sale"==i)this.readFullTag3.checked=t.checked||r;else if("read"!=s&&"financial"==i);else if("read"!=s&&"inventory"==i){const n=t.target.checked;console.log(n,"isChecked"),this.readFullTagInventory.nativeElement.checked=n||r}if("create"==s&&"master"==i)this.handleCustomerChecked("read",13,[1,4,3,7,6,8,9,10,11,12,13,14,15,16,17],t.checked),this.handleCustomerChecked("create",13,[10,11,12,14,15,16,17],t.checked),c.map(n=>{console.log(n),n.create=t.checked,1!=n.update&&(n.read=t.checked);const a=this.featureArray.findIndex(h=>"Properties"===h.name);this.propertyResult&&(this.featureArray[a].create=!1,this.featureArray[a].update=!1,this.featureArray[a].read=!1,this.featureArray[a].full=!1),console.log("first")});else if("create"==s&&"lead"==i)this.handleLeadChecked("create",15,[14],t.checked),this.handleLeadChecked("read",15,[1,3,5,8,4,6,14,7,15,19,12],t.checked),c.map(n=>{n.create=t.checked,1!=n.update&&(n.read=t.checked),console.log("first")});else if("create"==s&&"sale"==i)this.handleSaleChecked("read",18,[1,4,3,5,7,6,8,9,10,11,12,13,14,15,16,17,19],t.checked),this.handleSaleChecked("create",18,[10,11,12,14,15,16,17],t.checked),c.map(n=>{n.create=t.checked,1!=n.update&&(n.read=t.checked),console.log("first")});else if("create"==s&&"collection"==i)c.map(n=>{n.create=t.checked,1!=n.update&&(n.read=t.checked),console.log("first")});else if("create"==s&&"financial"==i){const n=t.target.checked;c.map(a=>{a.create=n,0==n&&(a.fullAccess=n,this.allFullAccressForfinancial.nativeElement.checked=n),this.updateReadAccess4.nativeElement.checked||(a.read=n,this.readFullTag5.nativeElement.checked=n),"Backdated Entries"==a.name&&"financial management"==a.moduleName&&(a.isDisabled=1!=a.update&&1!=a.create)})}else if("create"==s&&"inventory"==i){const n=t.target.checked;c.map(a=>{a.create=n,0==n&&(a.fullAccess=n,this.allFullAccressForInventory.nativeElement.checked=n),this.materialDashboardCreateAccess.nativeElement.checked=n,this.propertyDashboardCreateAccess.nativeElement.checked=n,1!=a.update&&(a.read=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardReadAccess.nativeElement.checked=n),"Backdated Entries"==a.name&&"Inventory Module"==a.moduleName&&(1==a.create?a.isDisabledCreate=!1:(a.isDisabledCreate=!0,a.isDisabledFullaccess=!0))}),this.materialDashboard.map(a=>{a.create=n,1!=a.update&&(a.read=n)}),this.propertyDashboard.map(a=>{a.create=n,1!=a.update&&(a.read=n)})}else if("update"==s&&"inventory"==i){const n=t.target.checked;c.map(a=>{a.update=n,a.delete=n,this.materialDashboardUpdateAccess.nativeElement.checked=n,this.propertyDashboardUpdateAccess.nativeElement.checked=n,a.create=n,a.read=n,a.fullAccess=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardReadAccess.nativeElement.checked=n,this.materialDashboardFullAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n,this.readFullTagInventory.nativeElement.checked=n,this.createReadAccessInventory.nativeElement.checked=n,console.log("second"),"Backdated Entries"==a.name&&"Inventory Module"==a.moduleName&&(1==a.update?(a.isDisabledUpdate=!1,a.isDisabledCreate=!1,a.isDisabledFullaccess=!1):(a.isDisabledUpdate=!0,a.isDisabledCreate=!0,a.isDisabledFullaccess=!0))}),this.materialDashboard.map(a=>{a.update=n,a.delete=n,a.create=n,a.read=n,a.fullAccess=n,console.log("second")}),this.propertyDashboard.map(a=>{a.update=n,a.delete=n,a.create=n,a.read=n,a.fullAccess=n,console.log("second")})}else if("update"==s&&"financial"==i){const n=t.target.checked;c.map(a=>{("Only Bank Entries"!=a.name||0==n)&&(a.update=n,a.delete=n,a.create=n,a.read=n,a.fullAccess=n),"Backdated Entries"==a.name&&"financial management"==a.moduleName&&(a.isDisabled=1!=a.update&&1!=a.create)}),this.allFullAccressForfinancial.nativeElement.checked=n,this.createReadAccess4.nativeElement.checked=n,this.updateReadAccess4.nativeElement.checked=n,this.readFullTag5.nativeElement.checked=n,this.handlePurchases(t,"update")}else if("update"==s){if(c.map(n=>{console.log(n),n.update=t.checked,1!=n.create&&(n.read=t.checked),console.log("second")}),"master"==i){const n=this.featureArray.findIndex(a=>"Properties"===a.name);this.propertyResult&&(this.featureArray[n].create=!1,this.featureArray[n].update=!1,this.featureArray[n].read=!1,this.featureArray[n].full=!1)}}else if("full"==s&&"master"==i){this.handleCustomerChecked("read",13,[1,4,3,7,6,8,9,10,11,12,13,14,15,16,17],t.checked),this.handleCustomerChecked("create",13,[10,11,12,14,15,16,17],t.checked),c.map(a=>{a[s]=t.checked,a.create=t.checked,a.read=t.checked,a.update=t.checked,a.fullAccess=t.checked,console.log("Third")});const n=this.featureArray.findIndex(a=>"Properties"===a.name);this.propertyResult&&(this.featureArray[n].create=!1,this.featureArray[n].update=!1,this.featureArray[n].read=!1,this.featureArray[n].full=!1)}else if("full"==s&&"lead"==i)this.handleLeadChecked("create",15,[14],t.checked),this.handleLeadChecked("read",15,[1,3,5,8,4,6,14,7,15,19,12],t.checked),c.map(n=>{n[s]=t.checked,n.create=t.checked,n.read=t.checked,n.update=t.checked,console.log("Third")});else if("full"==s&&"collection"==i)c.map(n=>{n[s]=t.checked,n.create=t.checked,n.read=t.checked,n.update=t.checked,console.log("Third")});else if("full"==s&&"sale"==i)this.handleSaleChecked("read",18,[1,4,3,5,7,6,8,9,10,11,12,13,14,15,16,17,19],t.checked),this.handleSaleChecked("create",18,[10,11,12,14,15,16,17],t.checked),c.map(n=>{n[s]=t.checked,n.create=t.checked,n.read=t.checked,n.update=t.checked,console.log("Third")});else if("full"==s&&"financial"==i){const n=t.target.checked;c.map(a=>{"Only Bank Entries"!=a.name?(a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n):0==n&&(a.update=n,a.delete=n,a.create=n,a.read=n,a.fullAccess=n),"Backdated Entries"==a.name&&"financial management"==a.moduleName&&(a.isDisabled=1!=n)}),n||(this.updateReadAccess4.nativeElement.checked=n,this.readFullTag5.nativeElement.checked=n,this.createReadAccess4.nativeElement.checked=n),this.handlePurchases(t,"full access")}else if("full"==s&&"inventory"==i){const n=t.target.checked;this.materialDashboardFullAccess.nativeElement.checked=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n,this.propertyDashboardReadAccess.nativeElement.checked=n,c.map(a=>{a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n,"Backdated Entries"==a.name&&"Inventory Module"==a.moduleName&&(1==n?(a.isDisabledCreate=!1,a.isDisabledUpdate=!1,a.isDisabledFullaccess=!1):(a.isDisabledCreate=!0,a.isDisabledUpdate=!0,a.isDisabledFullaccess=!0))}),this.materialDashboard.map(a=>{a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n}),this.propertyDashboard.map(a=>{a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n}),n||(this.updateReadAccessInventory.nativeElement.checked=n,this.createReadAccessInventory.nativeElement.checked=n)}else if("inventory"==i){const n=t.target.checked;c.map(a=>{n?(a[s]=n,"Backdated Entries"==a.name&&"Inventory Module"==a.moduleName&&(a.read=!1),this.materialDashboardReadAccess.nativeElement.checked=n||r,this.propertyDashboardReadAccess.nativeElement.checked=n||r,console.log("Fourth")):(this.allFullAccressForInventory.nativeElement.checked=n,this.materialDashboardFullAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardReadAccess.nativeElement.checked=n,this.createReadAccessInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n)}),this.materialDashboard.map(a=>{a[s]=n,console.log("Fourth")}),this.propertyDashboard.map(a=>{a[s]=n,console.log("Fourth")})}else if("financial"==i){const n=t.target.checked;c.map(a=>{n?(a.read=n,console.log("Fourth"),"Backdated Entries"==a.id&&"financial management"==a.moduleName&&(a.read=!1)):(this.allFullAccressForfinancial.nativeElement.checked=n,this.createReadAccess4.nativeElement.checked=n,this.updateReadAccess4.nativeElement.checked=n,a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n)}),this.handlePurchases(t,"read")}else{const n=t.target.checked;if(c.map(a=>{a[s]=n,a.fullAccess=n,a.create=n,a.read=n,a.update=n,a.delete=n}),"masterFull"==i&&(this.propertyResult=null),"master"==i){const a=this.featureArray.findIndex(h=>"Properties"===h.name);this.propertyResult&&(this.featureArray[a].create=!1,this.featureArray[a].update=!1,this.featureArray[a].read=!1,this.featureArray[a].full=!1)}}}getReadFinancial(t,c,s){const i=t.target.checked;this.isRead=i;let r=!0;const o=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher","All Transactions"],n=["Cash Health Report","Customer Payment Status","Sales","Receivables From Customers"],a=["All Transactions","Cheque Statement","Received From Customers"];this.featureArray.map(k=>(k.id==c&&(i?(k.read=this.isRead,1==k.create&&1==k.update&&(k.fullAccess=!0),n.includes(k.name)&&(k.fullAccess=!0)):(k.read=this.isRead,k.fullAccess=!1,1==k.create&&(k.create=!1),1==k.update&&(k.update=!1))),o.includes(k.name)&&(k.create||k.update)&&(r=!1),k));const h=this.newFinanCialArr.every(k=>{}),u=this.newFinanCialArr.every(k=>k.read),m=this.newFinanCialArr.every(k=>k.update);n.includes(s)||a.includes(s)?a.includes(s)?(m&&(this.updateReadAccess4.nativeElement.checked=!0),h?(this.readFullTag5.nativeElement.checked=!0,this.createReadAccess4.nativeElement.checked=!0):u&&(this.readFullTag5.nativeElement.checked=!0),this.createReadAccess4.nativeElement.checked&&this.updateReadAccess4.nativeElement.checked&&(this.allFullAccressForfinancial.nativeElement.checked=!0),i||(this.readFullTag5.nativeElement.checked=!1,this.allFullAccressForfinancial.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1)):(m&&(this.updateReadAccess4.nativeElement.checked=!0),h?(this.readFullTag5.nativeElement.checked=!0,this.createReadAccess4.nativeElement.checked=!0):u&&(this.readFullTag5.nativeElement.checked=!0),this.createReadAccess4.nativeElement.checked&&this.updateReadAccess4.nativeElement.checked&&(this.allFullAccressForfinancial.nativeElement.checked=!0),i||(this.readFullTag5.nativeElement.checked=!1,this.allFullAccressForfinancial.nativeElement.checked=!1)):(h?(this.readFullTag5.nativeElement.checked=!0,this.createReadAccess4.nativeElement.checked=!0):(this.readFullTag5.nativeElement.checked=!1,this.createReadAccess4.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1,this.allFullAccressForfinancial.nativeElement.checked=!1),this.readFullTag5.nativeElement.checked=!!u);const y=this.featureArray.findIndex(k=>"Received Voucher"===k.name),F=this.featureArray.findIndex(k=>"Payment Voucher"===k.name),l=this.featureArray.findIndex(k=>"Contra Voucher"===k.name),_=this.featureArray.findIndex(k=>"Expense Voucher"===k.name),g=this.featureArray.findIndex(k=>"Journal Voucher"===k.name),p=this.featureArray.findIndex(k=>"All Transactions"===k.name);this.featureArray=this.featureArray.map(k=>("Backdated Entries"==k.name&&"financial management"==k.moduleName&&(k.isDisabled=r,console.log("check toggle",r),!this.featureArray[y].create&&!this.featureArray[F].create&&!this.featureArray[l].create&&!this.featureArray[_].create&&!this.featureArray[g].create&&(k.create=!1,k.fullAccess=!1),!this.featureArray[y].update&&!this.featureArray[F].update&&!this.featureArray[l].update&&!this.featureArray[_].update&&!this.featureArray[g].update&&!this.featureArray[p].update&&(k.update=!1,k.fullAccess=!1)),k)),"All Transactions"==s&&this.handlePurchases(t,"read")}getUpdateFinancial(t,c,s){const i=t.target.checked;this.isUpdate=i,this.isRead=i;const r=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher","All Transactions"];let n=!0;this.featureArray.map(_=>(_.id==c&&(i?(_.update=this.isUpdate,_.delete=this.isUpdate,_.read=this.isRead,_.create=!0,_.fullAccess=!0):(_.update=this.isUpdate,_.delete=this.isUpdate,_.fullAccess=!1,_.create=!1,_.read=this.isRead)),r.includes(_.name)&&(_.create||_.read||_.update||_.delete)&&(n=!1),_));const a=this.featureArray.findIndex(_=>"Received Voucher"===_.name),h=this.featureArray.findIndex(_=>"Payment Voucher"===_.name),u=this.featureArray.findIndex(_=>"Contra Voucher"===_.name),m=this.featureArray.findIndex(_=>"Expense Voucher"===_.name),y=this.featureArray.findIndex(_=>"Journal Voucher"===_.name),F=this.featureArray.findIndex(_=>"All Transactions"===_.name);this.featureArray=this.featureArray.map(_=>("Backdated Entries"==_.name&&"financial management"==_.moduleName&&(_.isDisabled=n,console.log("check toggle",n),this.featureArray[a].update||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update||this.featureArray[y].update||this.featureArray[a].create||this.featureArray[h].create||this.featureArray[u].create||this.featureArray[m].create||this.featureArray[y].create||this.featureArray[F].update||(_.update=!1,_.create=!1,_.delete=!1,_.read=!1,_.fullAccess=!1)),_));const l=this.newFinanCialArr.every(_=>_.create&&_.read&&_.update&&_.delete);["All Transactions","Cash Health Report","Cheque Statement","Customer Payment Status","Sales","Receivables From Customers"].includes(s)||"Backdated Entries"==s?"Backdated Entries"!=s?l?(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0):(this.allFullAccressForfinancial.nativeElement.checked=!1,this.readFullTag5.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1):l?(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0):(this.updateReadAccess4.nativeElement.checked=!1,this.createReadAccess4.nativeElement.checked=!1,this.allFullAccressForfinancial.nativeElement.checked=!1):l?(this.allFullAccressForfinancial.nativeElement.checked=!0,this.readFullTag5.nativeElement.checked=!0):(this.allFullAccressForfinancial.nativeElement.checked=!1,this.readFullTag5.nativeElement.checked=!1,this.updateReadAccess4.nativeElement.checked=!1,this.createReadAccess4.nativeElement.checked=!1),"All Transactions"==s&&this.handlePurchases(t,"update")}onClickModuleForFinancial(t,c,s,i=!1){"read"!=s&&"create"!=s&&(this.readFullTag5.checked=t.checked||i),"create"==s?c.map(r=>{r.create=t.checked}):"read"==s?c.map(r=>{r.readFinancial=t.checked}):"update"==s?c.map(r=>{r.updateFinancial=t.checked,r.readFinancial=t.checked}):"full"==s&&c.map(r=>{r[s]=t.checked,r.create=t.checked,r.readFinancial=t.checked,r.updateFinancial=t.checked})}ngOnInit(){this.mainService.getLimitedPropertyPermissions(this.data.roleId,"role").subscribe(t=>{this.propertyPermissionData=t,this.limitedPropertyPermission=!!this.propertyPermissionData.permission.individual}),this.data.individual_permission_payload&&(this.propertyResult={propertyIdsForPermission:this.data.individual_permission_payload.propertySelectedId,deSelectedProperty:this.data.individual_permission_payload.propertyUnselectedId,checkedAllProperty:this.data.individual_permission_payload.propertySelectedAll,queryParamData:{project:this.data.individual_permission_payload.project,projectBlocksTypes:this.data.individual_permission_payload.projectBlocksTypes,propertyFeature:this.data.individual_permission_payload.propertyFeature,propertyType:this.data.individual_permission_payload.propertyType,status:this.data.individual_permission_payload.status,subStatus:this.data.individual_permission_payload.subStatus,category:this.data.individual_permission_payload.tag},search:this.data.individual_permission_payload.search,reset:!1}),this.getPropertyPermission=null!=this.data.individual_permission_payload?this.data.individual_permission_payload:{},this.nameDisable=!1,this.roleData=this.dialogRef.componentInstance.data.roleData,this.parentRoleID=this.dialogRef.componentInstance.data.parentRoleId,this.getPermission=localStorage.getItem("user_info"),this.logindata=JSON.parse(this.getPermission),this.userId=this.logindata.id,this.userData=this.logindata,this.feature=this.userData.Role.Feature_Access_Permissions,this.roleFeature=this.feature.filter(t=>"Roles"==t.Feature.name),this.features=this.data.features,this.moduleRes=this.data.module_permission,console.log(this.moduleRes),this.module={lead:this.moduleRes.lead,master:this.moduleRes.master,sale:this.moduleRes.sale,financial_management:this.moduleRes.financial_management,inventory_module:this.moduleRes.inventory_module},1==this.module.master&&(this.isMaster=!0),1==this.module.lead&&(this.isLead=!0),1==this.module.collection&&(this.isCollection=!0),1==this.module.sale&&(this.isSale=!0),1==this.module.financial_management&&(this.isFinancial=!0),1==this.module.inventory_module&&(this.isInventory=!0),this.leadFeature=this.features.filter(t=>"Lead"==t.Feature.Modules[0].name),this.masterFeature=this.features.filter(t=>"Master"==t.Feature.Modules[0].name),this.collectionFeature=this.features.filter(t=>"Collection"==t.Feature.Modules[0].name),this.saleFeature=this.features.filter(t=>"Sale"==t.Feature.Modules[0].name),this.financialFeature=this.features.filter(t=>"financial management"==t.Feature.Modules[0].name),this.inventoryFeature=this.features.filter(t=>"Inventory Module"==t.Feature.Modules[0].name),this.mainService.getModules().subscribe(t=>{this.moduleRes=t,this.modules=this.moduleRes.modules;const c=this.modules.filter(f=>"Master"==f.name),s=this.modules.filter(f=>"Lead"==f.name),i=this.modules.filter(f=>"Collection"==f.name),r=this.modules.filter(f=>"Sale"==f.name),o=this.modules.filter(f=>"financial management"==f.name);this.modules.filter(f=>"Inventory Module"==f.name).map(f=>f.Features)[0].forEach(f=>{this.newInventoryArr.push({id:f.id,name:f.name,moduleName:"Inventory Module",create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess}),this.defaultInventoryArr.push({id:f.id,name:f.name,create:this.isCreate,moduleName:"Inventory Module",read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess})}),this.newInventoryArr.forEach(f=>this.inventoryFeature.forEach(b=>{f.name==b.Feature.name&&(f.create=b.create,f.read=b.read,f.update=b.update,f.delete=b.delete,f.fullAccess=b.full_access)}));const h=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let u=!0,m=!0;console.log(this.newInventoryArr),this.newInventoryArr=this.newInventoryArr.map(f=>(("Purchases"==f.name||"Consumptions"==f.name)&&(f.create=!1),h.includes(f.name)&&(f.create&&(u=!1),f.update&&(m=!1)),"Backdated Entries"==f.name&&"Inventory Module"==f.moduleName&&(f.isDisabledCreate=u,f.isDisabledUpdate=m,f.isDisabledFullaccess=!(!u&&!m),console.log("check toggle",u)),f)),this.materialDashboard=this.newInventoryArr.filter(f=>"Purchases"===f.name||"Consumptions"===f.name),this.propertyDashboard=this.newInventoryArr.filter(f=>["Reserve - Stock","For Sale - Stock","Booked","Sold"].includes(f.name.trim())),this.materialDashboard.forEach(f=>{"Purchases"===f.name&&(1==f.read&&(f.readCheckbox=!0),1==f.update&&(f.updateCheckbox=!0),1==f.fullAccess&&(f.fullAccessCheckbox=!0))}),this.newInventoryArr.every(f=>f.create),this.newInventoryArr.every(f=>f.update),this.newInventoryArr.every(f=>f.read),this.newInventoryArr.every(f=>f.read&&f.update&&f.delete&&f.create),o.map(f=>f.Features)[0].forEach(f=>{this.newFinanCialArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,moduleName:"financial management",delete:this.isUpdate,fullAccess:this.isFullAccess}),this.defaultFinancialArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,moduleName:"financial management",data:this.isUpdate,fullAccess:this.isFullAccess})}),this.newFinanCialArr.forEach(f=>this.financialFeature.forEach(b=>{f.name==b.Feature.name&&(f.create=b.create,f.read=b.read,f.update=b.update,f.delete=b.delete,f.fullAccess=b.full_access)}));const p=["Received Voucher","Payment Voucher","Contra Voucher","Expense Voucher","Journal Voucher","All Transactions"];let k=!0;this.newFinanCialArr=this.newFinanCialArr.map(f=>(p.includes(f.name)&&(f.create||f.read||f.update||f.delete)&&(k=!1),"Backdated Entries"==f.name&&"financial management"==f.moduleName&&(f.isDisabled=k,console.log("check toggle",k)),f)),s.map(f=>f.Features)[0].forEach(f=>{this.newLeadArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess}),this.defaultleadArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess})}),this.newLeadArr.forEach(f=>this.leadFeature.forEach(b=>{f.name==b.Feature.name&&(f.create=b.create,f.read=b.read,f.update=b.update,f.fullAccess=b.fullAccess)})),r.map(f=>f.Features)[0].forEach(f=>{this.newSaleArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess}),this.defaultSaleArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess})}),this.newSaleArr.forEach(f=>this.saleFeature.forEach(b=>{f.name==b.Feature.name&&(f.create=b.create,f.read=b.read,f.update=b.update,f.fullAccess=b.fullAccess)})),c.map(f=>f.Features)[0].forEach(f=>{this.newMasterArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess}),this.defaultMasterArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess})}),this.newMasterArr.forEach(f=>this.masterFeature.forEach(b=>{f.name==b.Feature.name&&(f.create=b.create,f.read=b.read,f.update=b.update,f.fullAccess=b.full_access)}));const V=i.map(f=>f.Features);V[0]&&V[0].length&&V[0].forEach(f=>{this.newCollectionArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess}),this.defaultCollectionArr.push({id:f.id,name:f.name,create:this.isCreate,read:this.isRead,update:this.isUpdate,fullAccess:this.isFullAccess})}),this.newCollectionArr.forEach(f=>this.collectionFeature.forEach(b=>{f.name==b.Feature.name&&(f.create=b.create,f.read=b.read,f.update=b.update,f.fullAccess=b.fullAccess)})),this.featureArray=this.newLeadArr.concat(this.newMasterArr).concat(this.newCollectionArr).concat(this.newSaleArr).concat(this.newFinanCialArr).concat(this.newInventoryArr)})}getFeature(t,c){this.moduleName=t,console.log(t),console.log(this.module),0==c.target.checked&&"lead"==this.moduleName?this.isLead=!1:0==c.target.checked&&"master"==this.moduleName?this.isMaster=!1:1==c.target.checked&&"lead"==this.moduleName?this.isLead=!0:1==c.target.checked&&"master"==this.moduleName?this.isMaster=!0:1==c.target.checked&&"collection"==this.moduleName?this.isCollection=!0:0==c.target.checked&&"collection"==this.moduleName?this.isCollection=!1:1==c.target.checked&&"sale"==this.moduleName?this.isSale=!0:0==c.target.checked&&"sale"==this.moduleName?this.isSale=!1:1==c.target.checked&&"financial_management"==this.moduleName?this.isFinancial=!0:0==c.target.checked&&"financial_management"==this.moduleName?this.isFinancial=!1:1==c.target.checked&&"inventory_module"==this.moduleName?this.isInventory=!0:0==c.target.checked&&"inventory_module"==this.moduleName&&(this.isInventory=!1)}submit(t){this.editRoleForm.valid?(this.featureArray.forEach(s=>{console.log(s),1==s.updateFinancial&&1==s.readFinancial?(s.update=!0,s.read=!0):1==s.readFinancial?s.read=!0:1==s.updateFinancial&&(s.update=!0,s.delete=!0),s.full_access=s.fullAccess}),this.finalFeatures=this.featureArray.filter(s=>(s.delete=s.update,1==s.create||1==s.read||1==s.update||1==s.fullAccess)).map(s=>{const{fullAccess:i,...r}=s;return{...r,full_access:i}}),this.mainService.updateRole(this.data.roleId,{name:t.name,description:t.description,role_id:t.role_id,modulePermission:{lead:this.isLead,master:this.isMaster,collection:this.isCollection,sale:this.isSale,financial_management:this.isFinancial,inventory_module:this.isInventory},featureAccessPermission:this.featureArray}).subscribe(s=>{this.data=s;let i=this.data.message;this.data.success&&(console.log(this.propertyResult),console.log(this.getPropertyPermission),this.socket.emitNewEvent("socketUpdateRole",this.data.role.id),this.propertyResult?.checkedAllProperty||this.propertyResult?.propertyIdsForPermission&&this.propertyResult.propertyIdsForPermission.length>0||this.getPropertyPermission?.propertySelectedAll||this.getPropertyPermission?.propertySelectedId&&this.getPropertyPermission.propertySelectedId.length>0?(this.limitedAccessPermission(this.data.role.id),this.toastr.success(i)):(this.dialogRef.close(this.data),this.toastr.success(this.data.message)))},s=>{this.data=s,this.errorMsg=this.data.error.error.name,this.toastr.error(this.errorMsg)})):this.toastr.error("Please Fill All the Mandatory Fields")}limitedAccessPermission(t){this.mainService.setPropertyPermissions({role_id:t,propertySelectedAll:this.propertyResult?.checkedAllProperty??!1,propertyUnselectedId:this.propertyResult?.deSelectedProperty??[],propertySelectedId:this.propertyResult?.propertyIdsForPermission??[],project:this.propertyResult?.queryParamData?.project??null,projectBlocksTypes:this.propertyResult?.queryParamData?.projectBlocksTypes??null,propertyFeature:this.propertyResult?.queryParamData?.propertyFeature??null,propertyType:this.propertyResult?.queryParamData?.propertyType??null,status:this.propertyResult?.queryParamData?.status??null,subStatus:this.propertyResult?.queryParamData?.subStatus??null,tag:this.propertyResult?.queryParamData?.category?.length?this.propertyResult.queryParamData?.category:null,search:this.propertyResult?.search&&""!=this.propertyResult?.search?this.propertyResult.search:null}).subscribe(s=>{this.data=s,this.dialogRef.close(this.data),this.toastr.success(this.data.message)},s=>{this.data=s,this.errorMsg=this.data.error.error.name,this.toastr.error(this.errorMsg)})}close(){this.dialogRef.close()}openDialog(){this.breakpointObserver.observe([R.Rp.XSmall,R.Rp.Small,R.Rp.Medium,R.Rp.Large,R.Rp.XLarge]).subscribe(t=>{let c="1200px",s="700px";t.breakpoints[R.Rp.XSmall]?(c="100%",s="100%"):t.breakpoints[R.Rp.Small]?(c="100%",s="80%"):t.breakpoints[R.Rp.Medium]?(c="80%",s="80%"):t.breakpoints[R.Rp.Large]?(c="60%",s="80%"):t.breakpoints[R.Rp.XLarge]&&(c="50%",s="70%"),console.log(this.propertyResult),this.dialog.open(X.Z,{width:"1200px",height:"700px",data:{forPermission:!0,permissionData:null!=this.propertyResult?JSON.parse(JSON.stringify(this.propertyResult)):this.propertyResult,type:"role",role_id:this.data.roleId}}).afterClosed().subscribe(r=>{if(r)if(this.propertyResult=r,this.propertyResult.reset)this.propertyResult=null,this.limitedPropertyPermission=!1;else{this.limitedPropertyPermission=!0;const o=this.newMasterArr.find(n=>"Properties"===n.name);console.log(o),o&&(o.create=!1,o.read=!1,o.update=!1,o.full=!1,o.fullAccess=!1)}})})}toggleExpansion(){this.isExpanded=!this.isExpanded}toggleMaterialExpansion(){this.isExpandedMaterial=!this.isExpandedMaterial}togglePropertyExpansion(){this.isExpandedProperty=!this.isExpandedProperty}clickOnMaterialDashboardModule(t,c,s,i="",r=!1){const o=t.target.checked;if("inventoryMaterial"==i){const n=t.target.checked;if("read"!=s&&"inventoryMaterial"==i){const a=t.target.checked;console.log(a,"isChecked"),this.materialDashboardReadAccess.nativeElement.checked=a||r}if("create"==s&&"inventoryMaterial"==i){const a=t.target.checked;c.forEach(h=>{this.materialDashboard.some(u=>u.id===h.id)&&(h.create=a,1!=h.update&&(h.read=a))})}else if("update"==s&&"inventoryMaterial"==i)c.forEach(h=>{this.materialDashboard.some(u=>u.id===h.id)&&(h.update=n,h.delete=n,h.fullAccess=n,h.read=n,this.materialDashboardReadAccess.nativeElement.checked=n,this.materialDashboardFullAccess.nativeElement.checked=n)}),this.newInventoryArr.every(h=>h.read&&h.update)&&n&&(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n),n||(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n);else if("read"==s&&"inventoryMaterial"==i){const a=t.target.checked;c.forEach(u=>{this.materialDashboard.some(m=>m.id===u.id)&&(u.read=a,a||(u.update=a,u.fullAccess=a))}),a||(this.materialDashboardUpdateAccess.nativeElement.checked=a,this.materialDashboardFullAccess.nativeElement.checked=a);const h=this.newInventoryArr.every(u=>u.read);console.log(h),h&&a&&(this.readFullTagInventory.nativeElement.checked=a),a||(this.readFullTagInventory.nativeElement.checked=a,this.updateReadAccessInventory.nativeElement.checked=a,this.allFullAccressForInventory.nativeElement.checked=a)}else c.forEach(h=>{this.materialDashboard.some(u=>u.id===h.id)&&(h[s]=n,h.read=n,h.update=n,h.delete=n)}),this.newInventoryArr.every(h=>h.create&&h.read&&h.update&&h.delete)&&n&&(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n),n||(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n);if("read"!=s){const a=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let h=!0;c.forEach(u=>{("Purchases"==u.name||"Consumptions"==u.name)&&(u.create=!1),a.includes(u.name)&&u.update&&(h=!1),"Backdated Entries"==u.name&&"Inventory Module"==u.moduleName&&(console.log(h),u.isDisabledUpdate=h,u.isDisabledFullaccess=h,h&&(u.fullAccess=!1,u.create=!1,u.read=!1,u.update=!1),u.isDisabledFullaccess=!(!u.isDisabledCreate&&!u.isDisabledUpdate))})}else{const a=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let h=!0;c.forEach(u=>{("Purchases"==u.name||"Consumptions"==u.name)&&(u.create=!1),a.includes(u.name)&&u.update&&(h=!1),"Backdated Entries"==u.name&&"Inventory Module"==u.moduleName&&(console.log(h),u.isDisabledUpdate=h,h&&(u.fullAccess=!1,u.create=!1,u.read=!1,u.update=!1),u.isDisabledFullaccess=!(!u.isDisabledCreate&&!u.isDisabledUpdate))})}}else{if("read"!=s&&"inventoryProperty"==i){const n=t.target.checked;console.log(n,"isChecked"),this.propertyDashboardReadAccess.nativeElement.checked=n||r}if("create"==s&&"inventoryProperty"==i){const n=t.target.checked;c.forEach(a=>{this.propertyDashboard.some(h=>h.id===a.id)&&(a.create=n,1!=a.update&&(a.read=n))})}else if("update"==s&&"inventoryProperty"==i){const n=t.target.checked;c.forEach(h=>{this.propertyDashboard.some(u=>u.id===h.id)&&(h.update=n,h.delete=n,h.fullAccess=n,h.read=n,this.propertyDashboardReadAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n)}),this.newInventoryArr.every(h=>h.read&&h.update)&&n&&(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n),n||(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n)}else if("read"==s&&"inventoryProperty"==i){const n=t.target.checked;c.forEach(h=>{this.propertyDashboard.some(u=>u.id===h.id)&&(h.read=n,n||(h.update=n,h.fullAccess=n))}),n||(this.propertyDashboardUpdateAccess.nativeElement.checked=n,this.propertyDashboardFullAccess.nativeElement.checked=n);const a=this.newInventoryArr.every(h=>h.read);console.log(a),a&&n&&(this.readFullTagInventory.nativeElement.checked=n),n||(this.readFullTagInventory.nativeElement.checked=n,this.updateReadAccessInventory.nativeElement.checked=n,this.allFullAccressForInventory.nativeElement.checked=n)}else c.forEach(a=>{this.propertyDashboard.some(h=>h.id===a.id)&&(a[s]=o,a.read=o,a.update=o,a.delete=o)}),this.newInventoryArr.every(a=>a.create&&a.read&&a.update&&a.delete)&&o&&(this.readFullTagInventory.nativeElement.checked=o,this.updateReadAccessInventory.nativeElement.checked=o,this.allFullAccressForInventory.nativeElement.checked=o),o||(this.readFullTagInventory.nativeElement.checked=o,this.updateReadAccessInventory.nativeElement.checked=o,this.allFullAccressForInventory.nativeElement.checked=o)}}getCreateInventory(t,c,s){const i=t.target.checked;this.isCreate=i,this.isRead=i,this.handleInventoryChecked("create",s,["Materials"],i),this.handleFacilityChecked("create",s,["Property"],i);const r=["Purchase Voucher","Consumption Voucher","Purchases","Consumptions"];let o=!0;this.featureArray=this.featureArray.map(m=>(m.id==c&&(i?(m.create=this.isCreate,m.read=this.isRead,1==m.update&&(m.fullAccess=!0)):(m.create=this.isCreate,m.fullAccess=!1,1!=m.update&&(m.read=this.isRead),this.createReadAccessInventory.nativeElement.checked=i,this.allFullAccressForInventory.nativeElement.checked=i)),r.includes(m.name)&&(("Purchases"==m.name||"Consumptions"==m.name)&&(m.create=!1),(m.create||m.read)&&(o=!1)),m));const n=this.newInventoryArr.every(m=>m.create);console.log("allFullPermission"),console.log(n),n&&(this.createReadAccessInventory.nativeElement.checked=!0);const a=this.newInventoryArr.every(m=>m.update);console.log("allFullPermission"),console.log(n),a&&(this.updateReadAccessInventory.nativeElement.checked=!0),a&&n&&(this.allFullAccressForInventory.nativeElement.checked=!0);const h=this.featureArray.findIndex(m=>"Purchase Voucher"===m.name),u=this.featureArray.findIndex(m=>"Consumption Voucher"===m.name);this.featureArray=this.featureArray.map(m=>("Backdated Entries"==m.name&&"Inventory Module"==m.moduleName&&!this.featureArray[h].create&&!this.featureArray[u].create&&(m.fullAccess=!1,m.create=!1),"Backdated Entries"!=m.name||"Inventory Module"!=m.moduleName||this.featureArray[h].create||this.featureArray[u].create?"Backdated Entries"==m.name&&"Inventory Module"==m.moduleName&&(m.isDisabledCreate=o,console.log("check toggle",o)):(m.isDisabledCreate=!0,m.isDisabledFullaccess=!0,m.fullAccess=!1,m.create=!1,m.read=!1,console.log("check toggle for data.id 42:",o)),m.isDisabledFullaccess=!(!m.isDisabledCreate&&!m.isDisabledUpdate),m))}handleInventoryChecked(t,c,s=[],i){if("Material Category"==c)i?(console.log(t),this.featureArray.map(r=>(!r[t]&&s.includes(r.name)&&(r[t]=!0,("create"==t||"update"==t)&&(r.read=!0),"update"==t&&(r.create=!0,r.delete=!0),1==r.create&&1==r.update&&(r.fullAccess=!0),this.autoSelectIds.push(r.id)),r))):this.featureArray.map(r=>(s.includes(r.name)&&(r[t]=!1,r.fullAccess=!1,"create"==t?1!=r.update&&(r.read=i):"update"==t?(r.read=i,r.create=i,r.delete=i):"read"==t&&(1==r.create&&(r.create=!1),1==r.update&&(r.update=!1,r.delete=!1)),this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),console.log(r),r));else if("Materials"==c){const r=this.featureArray.findIndex(o=>"Material Category"==o.name);i||("create"==t?(this.featureArray[r].create=!1,this.featureArray[r].fullAccess=!1,1!=this.featureArray[r].update&&(this.featureArray[r].read=i)):"update"==t?(this.featureArray[r].fullAccess=!1,this.featureArray[r].create=!1,this.featureArray[r].read=!1,this.featureArray[r].update=!1):"read"==t&&(this.featureArray[r].fullAccess=!1,1==this.featureArray[r].create&&(this.featureArray[r].create=!1,this.featureArray[r].read=!1),1==this.featureArray[r].update?(this.featureArray[r].update=!1,this.featureArray[r].read=!1):(this.featureArray[r].fullAccess=!1,this.featureArray[r].read=!1)))}}handleFacilityChecked(t,c,s=[],i){if("Facilities"==c)i?(console.log("check if"),this.featureArray.map(r=>(!r[t]&&s==r.name&&(r[t]=!0,("create"==t||"update"==t)&&(r.read=!0),"update"==t&&(r.create=!0),1==r.create&&1==r.update&&(r.fullAccess=!0),this.autoSelectIds.push(r.id)),r))):(console.log("check else"),this.featureArray.map(r=>(s==r.name&&(r[t]=!1,r.fullAccess=!1,"create"==t?1!=r.update&&(r.read=i):"update"==t?(r.read=i,r.create=i):"read"==t&&(1==r.create&&(r.create=!1),1==r.update&&(r.update=!1)),this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),r)));else if("Property"==c){const r=this.featureArray.findIndex(o=>"Facilities"==o.name);i||("create"==t?(this.featureArray[r].create=!1,this.featureArray[r].fullAccess=!1,1!=this.featureArray[r].update&&(this.featureArray[r].read=i)):"update"==t?(this.featureArray[r].fullAccess=!1,this.featureArray[r].create=!1,this.featureArray[r].read=!1,this.featureArray[r].update=!1):"read"==t&&(1==this.featureArray[r].create&&(this.featureArray[r].create=!1,this.featureArray[r].read=!1),1==this.featureArray[r].update?(this.featureArray[r].update=!1,this.featureArray[r].read=!1):this.featureArray[r].read=!1))}}handleInventoryFullChecked(t,c,s=[],i){if("Material Category"==c)this.featureArray.map(i?r=>(!r[t]&&s.includes(r.name)&&(r.fullAccess=!0,r.create=!0,r.read=!0,r.update=!0,r.delete=!0,this.autoSelectIds.push(r.id)),r):r=>(s.includes(r.name)&&(r.fullAccess=!1,r.create=!1,r.read=!1,r.update=!1,r.delete=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),console.log(r),r));else if("Materials"==c){const r=this.featureArray.findIndex(o=>"Material Category"==o.name);i||(this.featureArray[r].fullAccess=!1,this.featureArray[r].create=!1,this.featureArray[r].read=!1,this.featureArray[r].update=!1)}}handleFacilityFullChecked(t,c,s=[],i){if("Facilities"==c)this.featureArray.map(i?r=>(!r[t]&&r.name==s&&(r.fullAccess=!0,r.create=!0,r.read=!0,r.update=!0,r.delete=!0,this.autoSelectIds.push(r.id)),r):r=>(r.name==s&&(r.fullAccess=!1,r.create=!1,r.read=!1,r.update=!1,r.delete=!1,this.autoSelectIds=this.autoSelectIds.filter(o=>o.id!==r.id)),console.log(r),r));else if("Property"==c){const r=this.featureArray.findIndex(o=>"Facilities"==o.name);i||(this.featureArray[r].fullAccess=!1,this.featureArray[r].create=!1,this.featureArray[r].read=!1,this.featureArray[r].update=!1)}}getReadInventory(t,c,s,i=!1){const r=t.target.checked;this.isRead=r,this.handleInventoryChecked("read",s,["Materials"],r),this.handleFacilityChecked("read",s,["Property"],r);const o=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"],n=["Expenses Consumed"];let a=!0;this.featureArray.map(l=>(l.id==c&&(r?(l.read=this.isRead,"materialDashboard"==s||"propertyDashboard"==s?1==l.update&&(l.fullAccess=!0):(1==l.create&&1==l.update&&(l.fullAccess=!0),n.includes(l.name)&&(l.fullAccess=!0))):(l.read=this.isRead,l.fullAccess=!1,1==l.create&&(l.create=!1),1==l.update&&(l.update=!1),this.allFullAccressForInventory.nativeElement.checked=!1,this.readFullTagInventory.nativeElement.checked=!1,this.updateReadAccessInventory.nativeElement.checked=!1,"materialDashboard"!=s&&"propertyDashboard"!=s&&(this.createReadAccessInventory.nativeElement.checked=!1))),o.includes(l.name)&&(l.create||l.update)&&(a=!1),l));const h=this.featureArray.findIndex(l=>"Purchase Voucher"===l.name),u=this.featureArray.findIndex(l=>"Consumption Voucher"===l.name),m=this.featureArray.findIndex(l=>"Purchases"===l.name),y=this.featureArray.findIndex(l=>"Consumptions"===l.name);if(this.featureArray=this.featureArray.map(l=>("Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[h].create||this.featureArray[h].update||this.featureArray[u].create||this.featureArray[u].update||this.featureArray[m].update||this.featureArray[y].update?"Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update||this.featureArray[y].update?"Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[h].create||this.featureArray[u].create?"Backdated Entries"==l.name&&"Inventory Module"==l.moduleName&&(l.isDisabledUpdate=a,l.isDisabledFullaccess=a,"materialDashboard"!=s&&(l.isDisabledCreate=a),console.log("check toggle for data.id 42:",a)):(l.isDisabledCreate=!0,l.isDisabledFullaccess=!0,l.create=!1,console.log("check toggle for data.id 42:",a)):(l.isDisabledUpdate=!0,l.isDisabledFullaccess=!0,l.update=!1,console.log("check toggle for data.id 42:",a)):(l.isDisabledCreate=!0,l.isDisabledUpdate=!0,l.isDisabledFullaccess=!0,l.fullAccess=!1,l.create=!1,l.read=!1,l.update=!1,console.log("check toggle for data.id 42:",a)),l)),this.newInventoryArr.every(l=>l.read)&&(this.readFullTagInventory.nativeElement.checked=!0),"materialDashboard"==s){const l=this.materialDashboard.every(g=>g.read);console.log(l),l?this.materialDashboardReadAccess&&(this.materialDashboardReadAccess.nativeElement.checked=!0):this.materialDashboardReadAccess&&(this.materialDashboardReadAccess.nativeElement.checked=!1),this.materialDashboard.every(g=>g.read&&g.update&&g.delete)?this.materialDashboardFullAccess&&(this.materialDashboardFullAccess.nativeElement.checked=!0):this.materialDashboardFullAccess&&(this.materialDashboardFullAccess.nativeElement.checked=!1),i&&this.materialDashboard.forEach(g=>{1==g.read?g.readCheckbox=i:(g.updateCheckbox=!1,g.readCheckbox=!1,g.fullAccessCheckbox=!1)})}if("propertyDashboard"==s){this.propertyDashboardReadAccess.nativeElement.checked=!!this.propertyDashboard.every(g=>g.read);const _=this.propertyDashboard.every(g=>g.read&&g.update&&g.delete);console.log("allPermissionsTrueFull"),console.log(_),this.propertyDashboardFullAccess.nativeElement.checked=!!_}}getUpdateInventory(t,c,s,i=!1){const r=t.target.checked;this.isUpdate=r,this.isRead=r,this.handleInventoryChecked("update",s,["Materials"],r),this.handleFacilityChecked("update",s,["Property"],r),console.log(s);const o=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let n=!0;this.featureArray.map(l=>(l.id==c&&(r?"materialDashboard"==s||"propertyDashboard"==s?(l.update=this.isUpdate,l.delete=this.isUpdate,l.read=this.isRead,l.fullAccess=!0):(l.update=this.isUpdate,l.delete=this.isUpdate,l.read=this.isRead,l.create=!0,l.fullAccess=!0):("materialDashboard"==s||"propertyDashboard"==s?(l.update=this.isUpdate,l.delete=this.isUpdate,l.read=this.isRead,l.fullAccess=!1):(l.update=this.isUpdate,l.delete=this.isUpdate,l.fullAccess=!1,l.create=!1,l.read=this.isRead),this.allFullAccressForInventory.nativeElement.checked=r,this.updateReadAccessInventory.nativeElement.checked=r,"Backdated Entries"!=s&&(this.readFullTagInventory.nativeElement.checked=r),this.createReadAccessInventory.nativeElement.checked=r)),"materialDashboard"==s?(o.includes(l.name)&&l.update&&(n=!1),i&&this.materialDashboard.forEach(_=>{1==_.update?_.updateCheckbox=i:(_.updateCheckbox=!1,_.readCheckbox=!1,_.fullAccessCheckbox=!1)})):(("Purchases"==l.name||"Consumptions"==l.name)&&(l.create=!1),o.includes(l.name)&&l.update&&(n=!1)),l));const a=this.featureArray.findIndex(l=>"Purchase Voucher"===l.name),h=this.featureArray.findIndex(l=>"Consumption Voucher"===l.name),u=this.featureArray.findIndex(l=>"Purchases"===l.name),m=this.featureArray.findIndex(l=>"Consumptions"===l.name);this.featureArray=this.featureArray.map(l=>("Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[a].update||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update||this.featureArray[a].create||this.featureArray[h].create?"Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[a].update||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update?"Backdated Entries"!=l.name||"Inventory Module"!=l.moduleName||this.featureArray[a].create||this.featureArray[h].create||"materialDashboard"==s?"Backdated Entries"==l.name&&"Inventory Module"==l.moduleName&&(l.isDisabledUpdate=n,console.log("check toggle for data.id 41:",n),"materialDashboard"!=s&&(l.isDisabledCreate=n),console.log("check toggle for data.id 42:",n),l.isDisabledFullaccess=!(!l.isDisabledUpdate&&!l.isDisabledCreate)):(l.isDisabledCreate=!0,l.isDisabledFullaccess=!0,l.create=!1,l.fullAccess=!1,console.log("check toggle for data.id 42:",n)):(console.log("check toggle for data.id 42:",n),l.isDisabledUpdate=!0,l.isDisabledFullaccess=!0,l.fullAccess=!1,l.update=!1):(l.isDisabledCreate=!0,l.isDisabledUpdate=!0,l.isDisabledFullaccess=!0,l.fullAccess=!1,l.create=!1,l.update=!1,console.log("check toggle for data.id 42:",n)),l));const y=this.newInventoryArr.every(l=>l.create);y&&(this.createReadAccessInventory.nativeElement.checked=!0,this.readFullTagInventory.nativeElement.checked=!0);const F=this.newInventoryArr.every(l=>l.update);if(F&&(this.updateReadAccessInventory.nativeElement.checked=!0,this.readFullTagInventory.nativeElement.checked=!0),F&&y&&(this.allFullAccressForInventory.nativeElement.checked=!0),"materialDashboard"==s){const l=this.materialDashboard.every(g=>g.read),_=this.materialDashboard.every(g=>g.update);l?(this.materialDashboardFullAccess&&(this.materialDashboardFullAccess.nativeElement.checked=!0),this.materialDashboardReadAccess&&(this.materialDashboardReadAccess.nativeElement.checked=!0)):this.readFullTagInventory&&(this.materialDashboardReadAccess.nativeElement.checked=!1,this.materialDashboardFullAccess.nativeElement.checked=!1),_?(this.materialDashboardReadAccess.nativeElement.checked=!0,this.materialDashboardUpdateAccess.nativeElement.checked=!0):(this.materialDashboardUpdateAccess.nativeElement.checked=!1,this.materialDashboardFullAccess.nativeElement.checked=!1)}if("propertyDashboard"==s){const l=this.propertyDashboard.every(g=>g.read),_=this.propertyDashboard.every(g=>g.update);this.propertyDashboardReadAccess.nativeElement.checked=!!l,_?(this.propertyDashboardUpdateAccess.nativeElement.checked=!0,this.propertyDashboardReadAccess.nativeElement.checked=!0):this.propertyDashboardUpdateAccess.nativeElement.checked=!1,this.propertyDashboardFullAccess.nativeElement.checked=!(!l||!_)}}getFullAccessInventory(t,c,s,i=!1){const r=t.target.checked;this.isFullAccess=r,this.handleInventoryFullChecked("full",s,["Materials"],r),this.handleFacilityFullChecked("full",s,["Property"],r);const o=["Purchases","Consumptions","Purchase Voucher","Consumption Voucher"];let n=!0;this.featureArray.map(p=>(p.id==c&&(p.fullAccess=this.isFullAccess,p.create=this.isFullAccess,p.read=this.isFullAccess,p.update=this.isFullAccess,p.delete=this.isFullAccess),o.includes(s)&&"Backdated Entries"==p.name&&"Inventory Module"==p.moduleName&&(p.isDisabled=!r),("Purchases"==p.name||"Consumptions"==p.name)&&(p.create=!1),o.includes(p.name)&&(p.create||p.read||p.update||p.delete)&&(n=!1),p));const a=this.featureArray.findIndex(p=>"Purchase Voucher"===p.name),h=this.featureArray.findIndex(p=>"Consumption Voucher"===p.name),u=this.featureArray.findIndex(p=>"Purchases"===p.name),m=this.featureArray.findIndex(p=>"Consumptions"===p.name);this.featureArray=this.featureArray.map(p=>("Backdated Entries"!=p.name||"Inventory Module"!=p.moduleName||this.featureArray[a].create||this.featureArray[a].update||this.featureArray[h].create||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update?"Backdated Entries"!=p.name||"Inventory Module"!=p.moduleName||this.featureArray[a].update||this.featureArray[h].update||this.featureArray[u].update||this.featureArray[m].update?"Backdated Entries"!=p.name||"Inventory Module"!=p.moduleName||this.featureArray[a].create||this.featureArray[h].create||"materialDashboard"==s?"Backdated Entries"==p.name&&"Inventory Module"==p.moduleName&&(p.isDisabledUpdate=n,"materialDashboard"!=s&&(p.isDisabledCreate=n),p.isDisabledFullaccess=!(!p.isDisabledCreate&&!p.isDisabledUpdate),console.log("check toggle for data.id 42:",n)):(p.isDisabledCreate=!0,p.isDisabledFullaccess=!0,p.create=!1,p.fullAccess=!1,console.log("check toggle for data.id 42:",n)):(p.isDisabledUpdate=!0,p.isDisabledFullaccess=!0,p.update=!1,p.fullAccess=!1,console.log("check toggle for data.id 42:",n)):(p.isDisabledCreate=!0,p.isDisabledUpdate=!0,p.isDisabledFullaccess=!0,p.fullAccess=!1,p.create=!1,p.read=!1,p.update=!1,console.log("check toggle for data.id 42:",n)),p)),this.newInventoryArr.every(p=>p.fullAccess)?(this.allFullAccressForInventory.nativeElement.checked=!0,this.readFullTagInventory.nativeElement.checked=!0,this.createReadAccessInventory.nativeElement.checked=!0,this.updateReadAccessInventory.nativeElement.checked=!0):(this.readFullTagInventory.nativeElement.checked=!1,this.allFullAccressForInventory.nativeElement.checked=!1,"Purchases"!=s&&"Consumptions"!=s&&"Reserve - Stock"!=s&&"For Sale - Stock"!=s&&"Booked"!=s&&"Sold"!=s&&(this.createReadAccessInventory.nativeElement.checked=!1),this.updateReadAccessInventory.nativeElement.checked=!1);const F=this.materialDashboard.every(p=>p.read),l=this.materialDashboard.every(p=>p.update);F?(this.materialDashboardFullAccess&&(this.materialDashboardFullAccess.nativeElement.checked=!0),this.materialDashboardReadAccess&&(this.materialDashboardReadAccess.nativeElement.checked=!0)):this.readFullTagInventory&&(this.materialDashboardReadAccess.nativeElement.checked=!1,this.materialDashboardFullAccess.nativeElement.checked=!1),l?(this.materialDashboardReadAccess.nativeElement.checked=!0,this.materialDashboardUpdateAccess.nativeElement.checked=!0):(this.materialDashboardUpdateAccess.nativeElement.checked=!1,this.materialDashboardFullAccess.nativeElement.checked=!1);const _=this.propertyDashboard.every(p=>p.read),g=this.propertyDashboard.every(p=>p.update);g&&_?(this.propertyDashboardUpdateAccess.nativeElement.checked=!0,this.propertyDashboardReadAccess.nativeElement.checked=!0,this.propertyDashboardFullAccess.nativeElement.checked=!0):(this.propertyDashboardReadAccess.nativeElement.checked=!!_,g?(this.propertyDashboardUpdateAccess.nativeElement.checked=!0,this.propertyDashboardReadAccess.nativeElement.checked=!0):this.propertyDashboardUpdateAccess.nativeElement.checked=!1),"materialDashboard"==s&&1==i&&this.materialDashboard.forEach(p=>{"Purchases"==p.name&&(1==p.fullAccess?p.fullAccessCheckbox=i:(p.updateCheckbox=!1,p.readCheckbox=!1,p.fullAccessCheckbox=!1))})}static#e=this.\u0275fac=function(c){return new(c||d)(e.rXU(O.tw),e.rXU(ze.L),e.rXU(x.bZ),e.rXU(x.CP),e.rXU(x.Vh),e.rXU(S.t),e.rXU(G.nX),e.rXU(E.ok),e.rXU(R.QP))};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["app-edit-role"]],viewQuery:function(c,s){if(1&c&&(e.GBs(We,5),e.GBs(Qe,5),e.GBs(Ze,5),e.GBs(Ke,5),e.GBs(et,5),e.GBs(tt,5),e.GBs(st,5),e.GBs(rt,5),e.GBs(nt,5),e.GBs(it,5),e.GBs(at,5),e.GBs(ct,5),e.GBs(lt,5),e.GBs(ot,5),e.GBs(dt,5),e.GBs(ht,5),e.GBs(ut,5),e.GBs(pt,5),e.GBs(ft,5),e.GBs(mt,5),e.GBs(_t,5),e.GBs(gt,5)),2&c){let i;e.mGM(i=e.lsd())&&(s.readFullTag=i.first),e.mGM(i=e.lsd())&&(s.readFullTag1=i.first),e.mGM(i=e.lsd())&&(s.readFullTag2=i.first),e.mGM(i=e.lsd())&&(s.readFullTag3=i.first),e.mGM(i=e.lsd())&&(s.readFullTag4=i.first),e.mGM(i=e.lsd())&&(s.readFullTag5=i.first),e.mGM(i=e.lsd())&&(s.readFullTagInventory=i.first),e.mGM(i=e.lsd())&&(s.materialDashboardReadAccess=i.first),e.mGM(i=e.lsd())&&(s.propertyDashboardReadAccess=i.first),e.mGM(i=e.lsd())&&(s.materialDashboardFullAccess=i.first),e.mGM(i=e.lsd())&&(s.propertyDashboardFullAccess=i.first),e.mGM(i=e.lsd())&&(s.materialDashboardCreateAccess=i.first),e.mGM(i=e.lsd())&&(s.materialDashboardUpdateAccess=i.first),e.mGM(i=e.lsd())&&(s.propertyDashboardCreateAccess=i.first),e.mGM(i=e.lsd())&&(s.propertyDashboardUpdateAccess=i.first),e.mGM(i=e.lsd())&&(s.createReadAccessInventory=i.first),e.mGM(i=e.lsd())&&(s.updateReadAccessInventory=i.first),e.mGM(i=e.lsd())&&(s.allFullAccressForInventory=i.first),e.mGM(i=e.lsd())&&(s.allFullAccressForfinancial=i.first),e.mGM(i=e.lsd())&&(s.allFullAccress=i.first),e.mGM(i=e.lsd())&&(s.createReadAccess4=i.first),e.mGM(i=e.lsd())&&(s.updateReadAccess4=i.first)}},decls:212,vars:112,consts:[["createReadAccess",""],["readFullTag",""],["updateReadAccess",""],["allFullAccress",""],["createReadAccess1",""],["readFullTag1",""],["updateReadAccess1",""],["allFullAccressForLead",""],["createReadAccess3",""],["readFullTag3",""],["updateReadAccess3",""],["allFullAccressForSale",""],["createReadAccess4",""],["readFullTag5",""],["updateReadAccess4",""],["allFullAccressForfinancial",""],["createReadAccessInventory",""],["readFullTagInventory",""],["updateReadAccessInventory",""],["allFullAccressForInventory",""],["checkboxes",""],["createReadAccess2",""],["readFullTag2",""],["updateReadAccess2",""],["allFullAccressForCollection",""],["materialDashboardCreateAccess",""],["materialDashboardReadAccess",""],["materialDashboardUpdateAccess",""],["materialDashboardFullAccess",""],["propertyDashboardCreateAccess",""],["propertyDashboardReadAccess",""],["propertyDashboardUpdateAccess",""],["propertyDashboardFullAccess",""],[1,"app-main__inner"],[1,"dialog-page-title","add-project-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"close-icon",3,"click"],[1,"tab-content"],["id","tab-content-0","role","tabpanel",1,"tab-pane","tabs-animation","fade","show","active"],[1,"card-body"],["appFormAutoFocus","","autocomplete","off",3,"ngSubmit","formGroup"],["appearance","outline","id","NameField","hideRequiredMarker",""],[1,"starmandatory"],["matInput","","formControlName","name",3,"placeholder"],[1,"error_margin"],[3,"control","errordata"],["appearance","outline"],["matInput","","formControlName","description",3,"placeholder"],[1,"permission_head"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"row","feature-access-row"],[1,"col-md-12"],[1,"back",2,"overflow-y","scroll",3,"ngStyle"],[2,"width","100%"],[2,"background-color","rgba(1, 153, 153, 0.87)"],[1,"feature_name",2,"color","aliceblue","padding-left","5px"],[1,"access_permissions"],["name","create",3,"change","checked"],["name","read","id","readFullTag",3,"change","checked"],["name","update",3,"change","checked"],[3,"change","checked"],[4,"ngFor","ngForOf"],[1,"m-1"],["name","read","id","readFullTag1",3,"change"],[3,"change"],["style","overflow-y: scroll","class","back",4,"ngIf"],["name","read","id","readFullTag3",3,"change"],[3,"ngStyle"],[3,"expanded"],[2,"color","#018323"],[1,"permissions-header"],[1,"fontcls",2,"width","100px"],[1,"fontcls",2,"margin-left","15px"],[1,"fontcls"],[1,"permission-row"],[1,"fontclsforlist",2,"width","100px"],[2,"margin-left","20px"],["type","checkbox",3,"change","checked"],[2,"margin-left","10px"],["type","checkbox",3,"change"],["id","readFullTagInventory","type","checkbox",3,"change"],[1,"col-md-4"],["type","checkbox",1,"input-class","regular-checkbox",3,"change","id","value","checked"],[1,"module_name",3,"for"],[1,"feature_name"],["name","create",3,"change","checked","disabled"],["name","read",3,"change","checked","disabled"],["name","update",3,"change","checked","disabled"],["name","full",3,"change","checked","disabled"],["style","border-bottom: 1px solid black;",4,"ngIf"],[2,"border-bottom","1px solid black"],[2,"padding-right","10px"],["mat-stroked-button","","type","button",3,"click","ngStyle"],["name","read",3,"change","checked"],["name","full",3,"change","checked"],[1,"back",2,"overflow-y","scroll"],["name","read","id","readFullTag2",3,"change"],[1,"permission-rowTow"],[1,"fontclsforlist","element",2,"width","100"],["type","checkbox",3,"disabled","checked","change",4,"ngIf"],["type","checkbox",3,"change","disabled","checked"],["class","permission-rowTow",4,"ngIf"],[4,"ngIf"],[1,"fontclsforlist","element",2,"width","100px"],["type","checkbox",3,"checked","change",4,"ngIf"],["id","materialDashboardCreateAccess","type","checkbox",2,"display","none",3,"change","checked"],["type","checkbox","id","materialDashboardReadAccess",3,"change"],[2,"display","flex","flex-direction","row","text-align","center","padding-right","12px"],["id","materialDashboardFullAccess","type","checkbox",3,"change"],["style","margin-left: 10px;",3,"click",4,"ngIf"],[2,"margin-left","10px",3,"click"],["class","permission-row slide-target",3,"slide",4,"ngFor","ngForOf"],[1,"permission-row","slide-target"],[1,"fontclsforlist","element",2,"width","50"],["type","checkbox",2,"display","none",3,"change","checked"],["type","checkbox","id","propertyDashboardCreateAccess",2,"display","none",3,"change","checked"],["type","checkbox","id","propertyDashboardReadAccess",3,"change"],["type","checkbox","id","propertyDashboardUpdateAccess",3,"change","checked"],["type","submit","class","mt-1 btn btn-primary",4,"ngIf"],["type","submit",1,"mt-1","btn","btn-primary"]],template:function(c,s){if(1&c){const i=e.RV6();e.j41(0,"div",33)(1,"div",34)(2,"div",35)(3,"div",36),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"mat-icon",37),e.bIt("click",function(){return e.eBV(i),e.Njj(s.close())}),e.EFF(7,"close"),e.k0s()()(),e.j41(8,"div",38)(9,"div",39)(10,"div",40)(11,"form",41),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(s.submit(s.editRoleForm.value))}),e.j41(12,"mat-form-field",42)(13,"mat-label"),e.EFF(14),e.nI1(15,"translate"),e.j41(16,"span",43),e.EFF(17,"*"),e.k0s()(),e.nrm(18,"input",44),e.nI1(19,"translate"),e.j41(20,"mat-error",45),e.nrm(21,"app-required-and-pattern-error",46),e.k0s()(),e.j41(22,"mat-form-field",47)(23,"mat-label"),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.nrm(26,"textarea",48),e.nI1(27,"translate"),e.k0s(),e.j41(28,"h4",49),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.nrm(31,"hr"),e.j41(32,"h4",49),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.j41(35,"div",50),e.DNE(36,yt,6,5,"div",51),e.nI1(37,"keyvalue"),e.k0s(),e.j41(38,"div",52)(39,"div",53)(40,"h4",49),e.EFF(41),e.nI1(42,"translate"),e.k0s()()(),e.j41(43,"div",54)(44,"table",55)(45,"tr"),e.nrm(46,"th"),e.j41(47,"th"),e.EFF(48),e.nI1(49,"translate"),e.k0s(),e.j41(50,"th"),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"th"),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"th"),e.EFF(57),e.nI1(58,"translate"),e.k0s()(),e.j41(59,"tr",56)(60,"td",57),e.EFF(61),e.nI1(62,"translate"),e.k0s(),e.j41(63,"td",58)(64,"mat-slide-toggle",59,0),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(71);return e.Njj(s.clickOnModule(o,s.newMasterArr,"create","master",n.checked))}),e.k0s()(),e.j41(66,"td",58)(67,"mat-slide-toggle",60,1),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newMasterArr,"read"))}),e.k0s()(),e.j41(69,"td",58)(70,"mat-slide-toggle",61,2),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(65);return e.Njj(s.clickOnModule(o,s.newMasterArr,"update","master",n.checked))}),e.k0s()(),e.j41(72,"td",58)(73,"mat-slide-toggle",62,3),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newMasterArr,"full","master"))}),e.k0s()()(),e.DNE(75,Ft,13,13,"ng-container",63),e.k0s()(),e.j41(76,"div",54)(77,"table",55)(78,"tr"),e.nrm(79,"th"),e.j41(80,"th",64),e.EFF(81),e.nI1(82,"translate"),e.k0s(),e.j41(83,"th",64),e.EFF(84),e.nI1(85,"translate"),e.k0s(),e.j41(86,"th",64),e.EFF(87),e.nI1(88,"translate"),e.k0s(),e.j41(89,"th",64),e.EFF(90),e.nI1(91,"translate"),e.k0s()(),e.j41(92,"tr",56)(93,"td",57),e.EFF(94),e.nI1(95,"translate"),e.k0s(),e.j41(96,"td",58)(97,"mat-slide-toggle",59,4),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(104);return e.Njj(s.clickOnModule(o,s.newLeadArr,"create","lead",n.checked))}),e.k0s()(),e.j41(99,"td",58)(100,"mat-slide-toggle",65,5),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newLeadArr,"read"))}),e.k0s()(),e.j41(102,"td",58)(103,"mat-slide-toggle",61,6),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(98);return e.Njj(s.clickOnModule(o,s.newLeadArr,"update","lead",n.checked))}),e.k0s()(),e.j41(105,"td",58)(106,"mat-slide-toggle",66,7),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newLeadArr,"full","lead"))}),e.k0s()()(),e.DNE(108,Rt,11,5,"tr",63),e.k0s()(),e.DNE(109,It,33,18,"div",67),e.j41(110,"div",54)(111,"table",55)(112,"tr"),e.nrm(113,"th"),e.j41(114,"th",64),e.EFF(115),e.nI1(116,"translate"),e.k0s(),e.j41(117,"th",64),e.EFF(118),e.nI1(119,"translate"),e.k0s(),e.j41(120,"th",64),e.EFF(121),e.nI1(122,"translate"),e.k0s(),e.j41(123,"th",64),e.EFF(124),e.nI1(125,"translate"),e.k0s()(),e.j41(126,"tr",56)(127,"td",57),e.EFF(128),e.nI1(129,"translate"),e.k0s(),e.j41(130,"td",58)(131,"mat-slide-toggle",59,8),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(138);return e.Njj(s.clickOnModule(o,s.newSaleArr,"create","sale",n.checked))}),e.k0s()(),e.j41(133,"td",58)(134,"mat-slide-toggle",68,9),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newSaleArr,"read"))}),e.k0s()(),e.j41(136,"td",58)(137,"mat-slide-toggle",61,10),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(132);return e.Njj(s.clickOnModule(o,s.newSaleArr,"update","sale",n.checked))}),e.k0s()(),e.j41(139,"td",58)(140,"mat-slide-toggle",66,11),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newSaleArr,"full","sale"))}),e.k0s()()(),e.DNE(142,Ct,11,5,"tr",63),e.k0s()(),e.j41(143,"div",69)(144,"mat-accordion")(145,"mat-expansion-panel",70)(146,"mat-expansion-panel-header")(147,"mat-panel-title")(148,"span",71),e.EFF(149," Financial Management"),e.k0s()()(),e.j41(150,"div",72)(151,"div",73),e.EFF(152,"Permissions"),e.k0s(),e.j41(153,"div",74),e.EFF(154,"Create"),e.k0s(),e.j41(155,"div",75),e.EFF(156,"Read"),e.k0s(),e.j41(157,"div",75),e.EFF(158,"Update Delete"),e.k0s(),e.j41(159,"div",75),e.EFF(160,"Full Access"),e.k0s()(),e.j41(161,"div",76)(162,"div",77),e.EFF(163,"All"),e.k0s(),e.j41(164,"div",78)(165,"input",79,12),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newFinanCialArr,"create","financial"))}),e.k0s()(),e.j41(167,"div",80)(168,"input",79,13),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newFinanCialArr,"read","financial"))}),e.k0s()(),e.j41(170,"div")(171,"input",79,14),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newFinanCialArr,"update","financial"))}),e.k0s()(),e.j41(173,"div")(174,"input",81,15),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newFinanCialArr,"full","financial"))}),e.k0s()()(),e.DNE(176,Mt,12,6,"ng-container",63),e.k0s()()(),e.j41(177,"div",69)(178,"mat-accordion")(179,"mat-expansion-panel",70)(180,"mat-expansion-panel-header")(181,"mat-panel-title")(182,"span",71),e.EFF(183,"Inventory Management "),e.k0s()()(),e.j41(184,"div",72)(185,"div",73),e.EFF(186,"Permissions"),e.k0s(),e.j41(187,"div",74),e.EFF(188,"Create"),e.k0s(),e.j41(189,"div",75),e.EFF(190,"Read"),e.k0s(),e.j41(191,"div",75),e.EFF(192,"Update Delete"),e.k0s(),e.j41(193,"div",75),e.EFF(194,"Full Access"),e.k0s()(),e.j41(195,"div",76)(196,"div",77),e.EFF(197,"All"),e.k0s(),e.j41(198,"div",78)(199,"input",79,16),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(206);return e.Njj(s.clickOnModule(o,s.newInventoryArr,"create","inventory",n.checked))}),e.k0s()(),e.j41(201,"div",80)(202,"input",82,17),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newInventoryArr,"read","inventory"))}),e.k0s()(),e.j41(204,"div")(205,"input",79,18),e.bIt("change",function(o){e.eBV(i);const n=e.sdS(200);return e.Njj(s.clickOnModule(o,s.newInventoryArr,"update","inventory",n.checked))}),e.k0s()(),e.j41(207,"div")(208,"input",81,19),e.bIt("change",function(o){return e.eBV(i),e.Njj(s.clickOnModule(o,s.newInventoryArr,"full","inventory"))}),e.k0s()()(),e.DNE(210,Jt,4,4,"ng-container",63),e.k0s()()(),e.DNE(211,Ht,2,1,"ng-container",63),e.k0s()()()()()}if(2&c){const i=e.sdS(74),r=e.sdS(107),o=e.sdS(141),n=e.sdS(166),a=e.sdS(169),h=e.sdS(172),u=e.sdS(175),m=e.sdS(200),y=e.sdS(206),F=e.sdS(209);e.R7$(4),e.SpI(" ",e.bMT(5,54,"role.add_role.Edit_Role")," "),e.R7$(7),e.Y8G("formGroup",s.editRoleForm),e.R7$(3),e.JRh(e.bMT(15,56,"Buttons.Name")),e.R7$(4),e.FS9("placeholder",e.bMT(19,58,"Buttons.Enter_Role_Name")),e.R7$(3),e.Y8G("control",s.editRoleForm.get("name"))("errordata",s.nameErrorData),e.R7$(3),e.JRh(e.bMT(25,60,"Buttons.Description")),e.R7$(2),e.FS9("placeholder",e.bMT(27,62,"Buttons.Description")),e.R7$(3),e.SpI(" ",e.bMT(30,64,"role.add_role.Permissions")," "),e.R7$(4),e.SpI(" ",e.bMT(34,66,"role.add_role.Module")," "),e.R7$(3),e.Y8G("ngForOf",e.bMT(37,68,s.module)),e.R7$(5),e.SpI(" ",e.bMT(42,70,"role.add_role.Feature_Access:")," "),e.R7$(2),e.Y8G("ngStyle",e.eq3(102,j,s.isMaster?"block":"none")),e.R7$(5),e.JRh(e.bMT(49,72,"role.add_role.Create")),e.R7$(3),e.JRh(e.bMT(52,74,"role.add_role.Read")),e.R7$(3),e.JRh(e.bMT(55,76,"role.add_role.Update")),e.R7$(3),e.JRh(e.bMT(58,78,"role.add_role.Full_Access")),e.R7$(4),e.SpI(" ",e.bMT(62,80,"Offer.All")," "),e.R7$(3),e.Y8G("checked",i.checked),e.R7$(3),e.Y8G("checked",i.checked),e.R7$(3),e.Y8G("checked",i.checked),e.R7$(3),e.Y8G("checked",i.checked),e.R7$(2),e.Y8G("ngForOf",s.newMasterArr),e.R7$(),e.Y8G("ngStyle",e.eq3(104,j,s.isLead?"block":"none")),e.R7$(5),e.SpI(" ",e.bMT(82,82,"role.add_role.Create")," "),e.R7$(3),e.SpI(" ",e.bMT(85,84,"role.add_role.Read")," "),e.R7$(3),e.SpI(" ",e.bMT(88,86,"role.add_role.Update")," "),e.R7$(3),e.SpI(" ",e.bMT(91,88,"role.add_role.Full_Access")," "),e.R7$(4),e.SpI(" ",e.bMT(95,90,"Offer.All")," "),e.R7$(3),e.Y8G("checked",r.checked),e.R7$(6),e.Y8G("checked",r.checked),e.R7$(5),e.Y8G("ngForOf",s.newLeadArr),e.R7$(),e.Y8G("ngIf",s.isCollection),e.R7$(),e.Y8G("ngStyle",e.eq3(106,j,s.isSale?"block":"none")),e.R7$(5),e.SpI(" ",e.bMT(116,92,"role.add_role.Create")," "),e.R7$(3),e.SpI(" ",e.bMT(119,94,"role.add_role.Read")," "),e.R7$(3),e.SpI(" ",e.bMT(122,96,"role.add_role.Update")," "),e.R7$(3),e.SpI(" ",e.bMT(125,98,"role.add_role.Full_Access")," "),e.R7$(4),e.SpI(" ",e.bMT(129,100,"Offer.All")," "),e.R7$(3),e.Y8G("checked",o.checked),e.R7$(6),e.Y8G("checked",o.checked),e.R7$(5),e.Y8G("ngForOf",s.newSaleArr),e.R7$(),e.Y8G("ngStyle",e.eq3(108,j,s.isFinancial?"block":"none")),e.R7$(2),e.Y8G("expanded",!0),e.R7$(20),e.Y8G("checked",u.checked||n.checked),e.R7$(3),e.Y8G("checked",n.checked||h.checked||a.checked),e.R7$(3),e.Y8G("checked",u.checked||h.checked),e.R7$(5),e.Y8G("ngForOf",s.newFinanCialArr),e.R7$(),e.Y8G("ngStyle",e.eq3(110,j,s.isInventory?"block":"none")),e.R7$(2),e.Y8G("expanded",!0),e.R7$(20),e.Y8G("checked",F.checked||m.checked),e.R7$(6),e.Y8G("checked",F.checked||y.checked),e.R7$(5),e.Y8G("ngForOf",s.newInventoryArr),e.R7$(),e.Y8G("ngForOf",s.roleFeature)}},dependencies:[I.Sq,I.bT,I.B3,T.fg,C.rl,C.nJ,C.TL,E.qT,E.me,E.BC,E.cb,E.j4,E.JD,U.$z,D.BS,D.GK,D.Z2,D.WN,Y.sG,$.An,L.I,J.T,I.lG,P.D9],styles:['@charset "UTF-8";.add-project-title[_ngcontent-%COMP%]{padding-bottom:0!important;color:#616161}  .mat-dialog-container{background:#fff;overflow-x:hidden;height:auto!important;padding:12px}.close-icon[_ngcontent-%COMP%]{position:absolute;right:0;font-size:20px;cursor:pointer;opacity:.7}@media (max-width: 790px){.close-icon[_ngcontent-%COMP%]{top:0}}.back[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #e2e2e2;border-radius:7px;display:flex;padding:8px;margin-bottom:9px;justify-content:space-between}#hidden_content[_ngcontent-%COMP%]{display:none}mat-form-field[_ngcontent-%COMP%]{width:100%}.submit-btn[_ngcontent-%COMP%]{background-color:#68bfbb;color:#00000070}.Intrest-cls[_ngcontent-%COMP%]{display:none}  .mat-step-header .mat-step-icon-selected, .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%]{background-color:#68bfbb!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{color:#68bfbb!important}  .mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:red!important;opacity:.8!important}  .mat-input-element{caret-color:#68bfbb!important}  .mat-form-field-invalid .mat-input-element, .mat-warn[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{caret-color:red!important}  .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#68bfbb!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:red!important}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#68bfbb}  .mat-select-arrow{color:#68bfbb!important}mat-datepicker-toggle[_ngcontent-%COMP%]{color:#68bfbb!important}  .mat-calendar-body-selected{background-color:#68bfbb!important}  .mat-expansion-panel{margin:16px 0!important}  .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#68bfbb}  .mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#b3dfdc}.mat-error[_ngcontent-%COMP%]{display:block;margin-top:0}.feature-access-row[_ngcontent-%COMP%]{margin-top:12px}.permission_head[_ngcontent-%COMP%]{color:#6f6f6f;font-weight:500}.module_name[_ngcontent-%COMP%]{color:#279a95}input[type=checkbox][_ngcontent-%COMP%]{display:inline-block;height:16px;line-height:0;margin:auto 8px auto auto;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}.input-class[_ngcontent-%COMP%]{margin:16px 8px 16px 0!important}.regular-checkbox[_ngcontent-%COMP%]{-webkit-appearance:none;background-color:#fafafa;border:1px solid #cacece;box-shadow:0 1px 2px #0000000d,inset 0 -15px 10px -12px #0000000d;padding:7px;border-radius:3px;display:inline-block;position:relative}.regular-checkbox[_ngcontent-%COMP%]:active, .regular-checkbox[_ngcontent-%COMP%]:checked:active{box-shadow:0 1px 2px #0000000d,inset 0 1px 3px #0000001a}.regular-checkbox[_ngcontent-%COMP%]:checked{background-color:#32b7b0;border:1px solid #32b7b0;box-shadow:0 1px 2px #0000000d,inset 0 -15px 10px -12px #0000000d,inset 15px 10px -12px #ffffff1a;color:#fff!important}.regular-checkbox[_ngcontent-%COMP%]:checked:after{content:"\\2714";font-size:11px;position:absolute;top:8px;left:3px;color:#fff}.feature_name[_ngcontent-%COMP%]{color:#525252;font-weight:400}.acess_container[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #e2e2e2;border-radius:7px;display:flex;padding:8px;margin-bottom:9px;justify-content:space-between}@media only screen and (max-width: 559px){.acess_container[_ngcontent-%COMP%]{display:block;text-align:center}}.access_permissions[_ngcontent-%COMP%]{color:gray}.mat-slide-toggle[_ngcontent-%COMP%]{transform:scale(.8)}@media only screen and (min-width: 387px) and (max-width: 399px){.input-class[_ngcontent-%COMP%]{margin:16px 12px 16px 0!important}}@media only screen and (min-width: 400px) and (max-width: 484px){.input-class[_ngcontent-%COMP%]{margin:16px 0!important}}@media only screen and (min-width: 200px) and (max-width: 515px){.module_name[_ngcontent-%COMP%]{color:#279a95;word-wrap:normal!important}}.permissions-container[_ngcontent-%COMP%]{width:300px;border:1px solid #e0e0e0;padding:10px;border-radius:5px}.permissions-header[_ngcontent-%COMP%]{width:100%;border:2px solid green;border-radius:7px;display:grid;grid-template-columns:repeat(5,1fr);align-items:center;padding:5px}.permission-row[_ngcontent-%COMP%]{margin-top:8px;background:#c9e9ca;border-radius:7px;display:grid;grid-template-columns:repeat(5,1fr);align-items:center;padding:7px}.permission-rowTow[_ngcontent-%COMP%]{margin-top:8px;background:#f5f5f5;border-radius:7px;display:grid;grid-template-columns:repeat(5,1fr);align-items:center;padding:7px}.category-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr repeat(4,auto);align-items:center;padding:5px}.category-header[_ngcontent-%COMP%]{justify-content:space-between;align-items:center;background-color:#d7f2d7;cursor:pointer;font-weight:700}.permission-row[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.arrow[_ngcontent-%COMP%]{grid-column:5;text-align:right}.divWidth[_ngcontent-%COMP%]{width:50px}.fontcls[_ngcontent-%COMP%]{font-size:14px;font-family:Roboto;font-weight:700;color:#6e6d6d}.fontclsforlist[_ngcontent-%COMP%]{font-size:14px;font-family:Roboto;font-weight:600;color:#6e6d6d}.chnageCheckboxColor[_ngcontent-%COMP%]{accent-color:blue}input[type=checkbox][_ngcontent-%COMP%]{accent-color:#4caf50!important}.element[_ngcontent-%COMP%]{width:13ch;overflow-wrap:break-word}.slide-target[_ngcontent-%COMP%]{overflow:hidden;max-height:0;opacity:0;transition:max-height .5s ease-out,opacity .5s ease-out}.slide-target.slide[_ngcontent-%COMP%]{max-height:500px;opacity:1;transition:max-height .6s ease-in,opacity .6s ease-in}']})}return d})();var Wt=v(5400),Qt=v(5286),B=v(6695),z=v(9159),W=v(668),Zt=v(6352);function Kt(d,A){if(1&d){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.openDialog())}),e.j41(1,"span",24)(2,"mat-icon",25),e.EFF(3,"business_center"),e.k0s()(),e.EFF(4),e.nI1(5,"translate"),e.k0s()}2&d&&(e.R7$(4),e.SpI(" ",e.bMT(5,1,"Buttons.New_Role")," "))}function es(d,A){if(1&d&&(e.qex(0),e.DNE(1,Kt,6,3,"button",22),e.bVm()),2&d){const t=A.$implicit;e.R7$(),e.Y8G("ngIf",1==t.create)}}function ts(d,A){1&d&&e.nrm(0,"app-no-data-found")}function ss(d,A){if(1&d){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),i=s.$implicit,r=s.index,o=e.XpG(2);return e.Njj(o.editPopup(i.id,r))}),e.j41(1,"span",33),e.nrm(2,"i",34),e.k0s()()}}function rs(d,A){if(1&d&&(e.j41(0,"td",30),e.DNE(1,ss,3,0,"button",31),e.k0s()),2&d){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",1==t.update)}}function ns(d,A){if(1&d&&(e.qex(0),e.DNE(1,rs,2,1,"td",29),e.bVm()),2&d){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",0==t.showCrossicon)}}function is(d,A){if(1&d){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3),i=s.$implicit,r=s.index,o=e.XpG(2);return e.Njj(o.editPopup(i.id,r))}),e.j41(1,"span",33),e.nrm(2,"i",34),e.k0s()()}}function as(d,A){if(1&d&&(e.j41(0,"td",30),e.DNE(1,is,3,0,"button",31),e.k0s()),2&d){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",1==t.update)}}function cs(d,A){if(1&d&&(e.qex(0),e.DNE(1,as,2,1,"td",29),e.bVm()),2&d){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",1==t.showCrossicon)}}function ls(d,A){if(1&d&&(e.j41(0,"tr",28)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.DNE(5,ns,2,1,"ng-container",9)(6,cs,2,1,"ng-container",9),e.k0s()),2&d){const t=A.$implicit,c=e.XpG(2);e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.description?t.description:"-"),e.R7$(),e.Y8G("ngForOf",c.roleFeature),e.R7$(),e.Y8G("ngForOf",c.roleFeature)}}function os(d,A){if(1&d&&(e.j41(0,"table",26)(1,"thead")(2,"tr")(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.nrm(9,"th"),e.k0s()(),e.j41(10,"tbody"),e.DNE(11,ls,7,4,"tr",27),e.k0s()()),2&d){const t=e.XpG();e.Y8G("dtOptions",t.dtOptions),e.R7$(4),e.JRh(e.bMT(5,4,"Buttons.Name")),e.R7$(3),e.JRh(e.bMT(8,6,"Buttons.Description")),e.R7$(4),e.Y8G("ngForOf",t.roleFilter)}}const ds=[{path:"",component:(()=>{class d{constructor(t,c,s){this.dialog=t,this.mainService=c,this.toastr=s,this.paginator=1,this.roles=[],this.description="",this.animal="nikita",this.name="",this.showCrossicon=!1,this.dtOptions={},this.p=1,this.totalPages=0,this.currentPage=0,this.totalRecords=0,this.perPageRecord=10,this.roleFilter=[],this.rolePagination=[],this.dataSource=new z.I6([]),this.dtTrigger=new Qt.B7,this.feature_name=[],this.pass=i=>i}ngOnInit(){this.roles=[],this.getPermission=localStorage.getItem("user_info"),this.logindata=JSON.parse(this.getPermission),this.userId=this.logindata.id,this.loggedInUser=this.logindata.Role.name,this.dtOptions={searching:!1,processing:!0,order:[],paging:!1,pageLength:10,info:!1,columnDefs:[{orderable:!1,targets:2}]},this.userData=this.logindata,this.feature=this.userData.Role.Feature_Access_Permissions,this.roleFeature=this.feature.filter(t=>"Roles"==t.Feature.name),this.mainService.getRoles().subscribe(t=>{this.roleData=t,this.roleFinalData=this.roleData.role,this.roles="SUPER ADMIN"==this.loggedInUser?this.roleFinalData:this.roleFinalData.filter(c=>"Admin"!=c.name),this.rolePagination=this.roles,this.roleFilter=this.roles.slice(0,10),this.dtTrigger.next(),this.totalPages=Math.ceil(this.totalRecords/this.perPageRecord)}),this.knowWidth=N(window).width(),this.knowWidth>1024?N(".showFooter").remove():N(".showHeader").remove(),window.innerWidth<=1024&&(this.showCrossicon=!0)}openDialog(){this.dialog.open(He,{width:"500px",height:"700px",data:{roleData:this.roleData.role},autoFocus:!1}).afterClosed().subscribe(c=>{this.ngOnInit()})}editPopup(t,c){this.mainService.getRole(t).subscribe(s=>{this.getRoleData=s,this.name=this.getRoleData.role.name,this.description=this.getRoleData.role.description,this.roleId=this.getRoleData.role.id,this.module_permission=this.getRoleData.role.Module_Permission,this.features=this.getRoleData.role.Feature_Access_Permissions,this.features.forEach(r=>{this.feature_name.push(r.Feature.name)}),this.dialog.open(zt,{width:"500px",height:"700px",data:{name:this.name,description:this.description,roleId:this.roleId,module_permission:this.module_permission,features:this.features,parentRoleId:this.getRoleData.role.role_id,roleData:this.roleData.role,individual_permission_payload:this.getRoleData.role.individual_permission_payload},autoFocus:!1}).afterClosed().subscribe(r=>{r&&(this.roleFilter[c].id=r.role.id,this.roleFilter[c].name=r.role.name,this.roleFilter[c].description=r.role.description)})})}openDelete(t){this.dialog.open(Wt.m,{}).afterClosed().subscribe(s=>{"yes"==s&&this.mainService.deleteRole(t).subscribe(i=>{this.data=i,this.toastr.success(this.data.message),this.ngOnInit()},i=>{})})}setPage(t){this.roleFilter=this.rolePagination.slice(10*t,10*t+10)}findInArray(t,c,s){return c=RegExp(c,"i"),t.filter(i=>s.map(r=>c.test(i[r])).some(this.pass))}pageEvents(t){this.currentPage=t.pageIndex,this.setPage(t.pageIndex)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}searchText(t){this.rolePagination=this.findInArray(this.roles,t.target.value,["id","name","description"]),this.paginator.pageIndex=0,this.setPage(0)}static#e=this.\u0275fac=function(c){return new(c||d)(e.rXU(x.bZ),e.rXU(S.t),e.rXU(O.tw))};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["app-role"]],viewQuery:function(c,s){if(1&c&&e.GBs(B.iy,5),2&c){let i;e.mGM(i=e.lsd())&&(s.paginator=i.first)}},decls:32,vars:18,consts:[["input",""],[1,"app-main__inner"],[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[2,"background","white","color","#68bfbb","font-size","17px","position","relative","left","5px","bottom","5px"],[1,"page-title-actions"],[1,"d-inline-block","dropdown"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-12"],[1,"main-card","mb-3","card"],[1,"card-body"],[1,"kol-12"],[1,"filters"],["appearance","outline",2,"float","right","padding-right","5%"],["matInput","","autocomplete","off",3,"keyup","placeholder"],["showFirstLastButtons","","aria-label","Select page of users",2,"float","left",3,"page","length","pageSize","pageIndex"],[4,"ngIf"],["datatable","","id","project_table","width","100%","role","table","class","row-border hover",3,"dtOptions",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of users",3,"page","length","pageSize","pageIndex"],["type","button","aria-haspopup","true","aria-expanded","false","class","btn-shadow btn btn-info",3,"click",4,"ngIf"],["type","button","aria-haspopup","true","aria-expanded","false",1,"btn-shadow","btn","btn-info",3,"click"],[1,"btn-icon-wrapper","pr-2","opacity-7"],[2,"background-color","transparent","color","white","position","relative","top","4px"],["datatable","","id","project_table","width","100%","role","table",1,"row-border","hover",3,"dtOptions"],["class","rol",4,"ngFor","ngForOf"],[1,"rol"],["class","close-td",4,"ngIf"],[1,"close-td"],["class","pushable close-btn","style","margin-right: 5px; float: left",3,"click",4,"ngIf"],[1,"pushable","close-btn",2,"margin-right","5px","float","left",3,"click"],[1,"front"],[1,"fas","fa-edit","edit_btn"]],template:function(c,s){if(1&c){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-icon",6),e.EFF(6,"supervisor_account"),e.k0s()(),e.j41(7,"div"),e.EFF(8),e.nI1(9,"translate"),e.k0s()(),e.j41(10,"div",7)(11,"div",8),e.DNE(12,es,2,1,"ng-container",9),e.k0s()()()(),e.j41(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",10)(18,"div",14)(19,"div",15)(20,"mat-form-field",16)(21,"mat-label"),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.j41(24,"input",17,0),e.nI1(26,"translate"),e.bIt("keyup",function(o){return e.eBV(i),e.Njj(s.searchText(o))}),e.k0s()(),e.j41(27,"mat-paginator",18),e.bIt("page",function(o){return e.eBV(i),e.Njj(s.pageEvents(o))}),e.k0s()()(),e.j41(28,"div",14),e.DNE(29,ts,1,0,"app-no-data-found",19),e.k0s()(),e.DNE(30,os,12,8,"table",20),e.j41(31,"mat-paginator",21),e.bIt("page",function(o){return e.eBV(i),e.Njj(s.pageEvents(o))}),e.k0s()()()()()()}2&c&&(e.R7$(8),e.SpI(" ",e.bMT(9,12,"Buttons.Roles")," "),e.R7$(4),e.Y8G("ngForOf",s.roleFeature),e.R7$(10),e.JRh(e.bMT(23,14,"Buttons.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(26,16,"Buttons.Search")),e.R7$(3),e.Y8G("length",s.rolePagination.length)("pageSize",10)("pageIndex",s.currentPage),e.R7$(2),e.Y8G("ngIf",0==s.roles.length),e.R7$(),e.Y8G("ngIf",(null==s.roles?null:s.roles.length)>0),e.R7$(),e.Y8G("length",s.rolePagination.length)("pageSize",10)("pageIndex",s.currentPage))},dependencies:[I.Sq,I.bT,T.fg,C.rl,C.nJ,$.An,W._,B.iy,Zt.p,P.D9],styles:['.fa-user-tag[_ngcontent-%COMP%]{font-size:20px;color:#68bfbb}textarea[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:none!important}.clickable_row[_ngcontent-%COMP%]{cursor:pointer}.close-td[_ngcontent-%COMP%]{display:flex;justify-content:right}.close-btn[_ngcontent-%COMP%]{display:none!important}.edit-div[_ngcontent-%COMP%]{margin-right:20px}.pushable[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:none}.pushable[_ngcontent-%COMP%]{background:#d2b8c0;border:none;border-radius:52px;padding:0;cursor:pointer;outline-offset:12px}.front[_ngcontent-%COMP%]{border:1px solid #f5eaea;display:block;padding:0 3px;border-radius:50%;background:#fffffe;color:#fff;transform:translateY(-5px)}.pushable[_ngcontent-%COMP%]:active   .front[_ngcontent-%COMP%]{transform:translateY(-3px)}.cross_btn[_ngcontent-%COMP%]{color:#a33434;font-size:15px}.edit_btn[_ngcontent-%COMP%]{color:#68bfbb;font-size:13px}@media only screen and (min-width: 200px) and (max-width: 1024px){.edit-div[_ngcontent-%COMP%]{margin-right:-2px}.i_edit[_ngcontent-%COMP%]{color:#68bfbb;margin-top:5px!important;font-size:18px}.mat-icon[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}}.i_edit[_ngcontent-%COMP%]{color:#68bfbb;margin-top:-11px;font-size:18px}.rol[_ngcontent-%COMP%]:hover{box-shadow:0 2px 12px #bfbfbf!important}.rol[_ngcontent-%COMP%]:hover   .close-btn[_ngcontent-%COMP%]{display:block!important}td.details-control[_ngcontent-%COMP%]{background:url(/assets/images/details_open.png) no-repeat center center;cursor:pointer}tr.shown[_ngcontent-%COMP%]   td.details-control[_ngcontent-%COMP%]{background:url(/assets/images/details_close.png) no-repeat center center}table[_ngcontent-%COMP%]{table-layout:auto;width:100%;border-collapse:separate;border-spacing:0 20px}table[_ngcontent-%COMP%]   .details-control[_ngcontent-%COMP%]{padding:22px!important}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#a1a1a1}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#fff;font-weight:300;padding:8px 0 7px 20px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{box-shadow:0 0 8px #00000040;cursor:pointer;border-radius:6px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{min-width:60px;padding:8px 0 7px 20px}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{padding:8px 0 7px 52px}tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:first-child, td[_ngcontent-%COMP%]:first-child, .showNew[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{border-radius:6px 0 0 6px}tfoot[_ngcontent-%COMP%], th[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:last-child, .showNew[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{border-radius:0 6px 6px 0}.searchBox[_ngcontent-%COMP%]{float:right;position:relative;left:.3rem;padding:8px;border-radius:10px;border:1.9px solid #68bfbb;height:33px;width:190px}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}tr[_ngcontent-%COMP%]{margin:0 0 1rem}tr[_ngcontent-%COMP%]:nth-child(odd){background:#ccc}td[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #eee;position:relative;padding:7px 0 7px 50%!important}}@media only screen and (max-width: 760px) and (max-width: 384px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 384px){td[_ngcontent-%COMP%]{padding-left:55%!important}}@media only screen and (max-width: 760px) and (max-width: 340px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 340px){td[_ngcontent-%COMP%]{padding-left:60%!important}}@media only screen and (max-width: 760px) and (max-width: 314px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 314px){td[_ngcontent-%COMP%]{padding-left:65%!important}}@media only screen and (max-width: 760px) and (max-width: 296px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 296px){td[_ngcontent-%COMP%]{padding-left:69%!important}}@media only screen and (max-width: 760px) and (max-width: 242px),only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (max-width: 242px){td[_ngcontent-%COMP%]{padding-left:78%!important}}@media only screen and (max-width: 760px),(min-device-width: 768px) and (max-device-width: 1024px){td[_ngcontent-%COMP%]:before{position:absolute;left:20px;width:45%;padding-right:10px;white-space:nowrap}td[_ngcontent-%COMP%]:nth-of-type(1):before{content:"Name"}td[_ngcontent-%COMP%]:nth-of-type(2):before{content:"Description"}}.mat-icon[_ngcontent-%COMP%]{font-size:18px;background-repeat:no-repeat;display:inline-block;color:#fff;height:18px;width:18px;background-color:#d21212;border-radius:50px;margin-left:-9px;margin-top:-12px}@media only screen and (min-width: 200px) and (max-width: 900px){.cut-icon[_ngcontent-%COMP%]{float:right;position:relative}}@media only screen and (min-width: 200px) and (max-width: 1024px){.td-cross[_ngcontent-%COMP%]{z-index:1;float:right;position:relative;top:3px;left:6px}.table-margin[_ngcontent-%COMP%]{margin-top:4rem}}  .ngx-pagination .current{background-color:#68bfbb!important;border-radius:50%!important;height:20px;width:20px;position:relative;top:3px}  span.ng-star-inserted{position:inherit;right:4px;bottom:3px}  .ngx-pagination a, .ngx-pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#68bfbb!important}.deactive_record[_ngcontent-%COMP%]{border:1px solid #68BFBB;text-align:center;padding-top:6px;padding-left:10px;padding-right:10px;height:36px}.SortIcon[_ngcontent-%COMP%]{position:absolute;background-color:#a1a1a1!important;justify-content:center;margin-top:1px;cursor:pointer;margin-left:3px}']})}return d})()}];let hs=(()=>{class d{static#e=this.\u0275fac=function(c){return new(c||d)};static#t=this.\u0275mod=e.$C({type:d});static#s=this.\u0275inj=e.G2t({imports:[G.iI.forChild(ds),G.iI]})}return d})();var us=v(551),ps=v(2796),fs=v(8320),ms=v(5951),_s=v(1626),gs=v(3125);function Q(d){return new fs.s(d)}let ks=(()=>{class d{static#e=this.\u0275fac=function(c){return new(c||d)};static#t=this.\u0275mod=e.$C({type:d});static#s=this.\u0275inj=e.G2t({imports:[I.MD,hs,T.fS,C.RG,E.YN,E.X1,us.G,W.H,ps.ed,B.Ou,z.tP,gs.m,ms.Wk,P.h.forChild({loader:{provide:P.Wr,useFactory:Q,deps:[_s.Qq]},defaultLanguage:"en"})]})}return d})()}}]);